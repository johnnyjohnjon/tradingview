{"ast":null,"code":"import _slicedToArray from\"/Users/JohnD/Documents/tradingview/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/JohnD/Documents/tradingview/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useContext,useEffect,useRef,useState}from'react';import styled from\"styled-components\";import{SearchItem}from'./SearchItem';import{GlobalContext}from'../context/GlobalState';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CSS=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  z-index:2;\\n  width: 24%;\\n\\n\"])));export var SearchResults=function SearchResults(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setSearch=_useState2[1];var _useContext=useContext(GlobalContext),symbol_list=_useContext.symbol_list,clearSearch=_useContext.clearSearch;// Hook that alerts clicks outside of the passed ref\nfunction useOutsideAlerter(ref){useEffect(function(){/**\n       * Alert if clicked on outside of element\n       */function handleClickOutside(event){if(ref.current&&!ref.current.contains(event.target)){// Code for user clicking outside search results\nsetSearch(\"\");clearSearch(text);}}// Bind the event listener\ndocument.addEventListener(\"mousedown\",handleClickOutside);return function(){// Unbind the event listener on clean up\ndocument.removeEventListener(\"mousedown\",handleClickOutside);};},[ref]);}// Declare ref(search results) so outside can be referenced\nvar wrapperRef=useRef(null);useOutsideAlerter(wrapperRef);return symbol_list.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",ref:wrapperRef,children:/*#__PURE__*/_jsx(CSS,{children:symbol_list.map(function(mySymbol){return/*#__PURE__*/_jsx(SearchItem,{mySymbol:mySymbol},mySymbol.symbol);})})}):/*#__PURE__*/_jsx(_Fragment,{});};","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","styled","SearchItem","GlobalContext","CSS","div","SearchResults","text","setSearch","symbol_list","clearSearch","useOutsideAlerter","ref","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","wrapperRef","length","map","mySymbol","symbol"],"sources":["/Users/JohnD/Documents/tradingview/src/components/SearchResults.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport styled from \"styled-components\";\nimport { SearchItem } from './SearchItem';\n\nimport { GlobalContext } from '../context/GlobalState';\n\nconst CSS = styled.div`\n  position: absolute;\n  z-index:2;\n  width: 24%;\n\n`;\n\nexport const SearchResults = () => {\n  const [text, setSearch] = useState(\"\");\n  const { symbol_list, clearSearch } = useContext(GlobalContext);\n\n  // Hook that alerts clicks outside of the passed ref\n  function useOutsideAlerter(ref) {\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          // Code for user clicking outside search results\n          setSearch(\"\");\n          clearSearch(text);\n        }\n      }\n      // Bind the event listener\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  }\n\n  // Declare ref(search results) so outside can be referenced\n  const wrapperRef = useRef(null);\n  useOutsideAlerter(wrapperRef);\n\n  return (\n    symbol_list.length>0 ?\n    <div className=\"col-4\" ref={wrapperRef}>\n    <CSS>\n      {symbol_list.map(mySymbol => (<SearchItem key={mySymbol.symbol} mySymbol={mySymbol} />))}\n    </CSS>\n    </div>\n    :\n    <></>\n  )\n}\n"],"mappings":"oRAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,MAAvC,CAA+CC,QAA/C,KAA+D,OAA/D,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,OAASC,UAAT,KAA2B,cAA3B,CAEA,OAASC,aAAT,KAA8B,wBAA9B,C,gGAEA,GAAMC,IAAG,CAAGH,MAAM,CAACI,GAAV,yHAAT,CAOA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CACjC,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,IAAP,eAAaC,SAAb,eACA,gBAAqCX,UAAU,CAACM,aAAD,CAA/C,CAAQM,WAAR,aAAQA,WAAR,CAAqBC,WAArB,aAAqBA,WAArB,CAEA;AACA,QAASC,kBAAT,CAA2BC,GAA3B,CAAgC,CAC9Bd,SAAS,CAAC,UAAM,CACd;AACN;AACA,SACM,QAASe,mBAAT,CAA4BC,KAA5B,CAAmC,CACjC,GAAIF,GAAG,CAACG,OAAJ,EAAe,CAACH,GAAG,CAACG,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,CAAwD,CACtD;AACAT,SAAS,CAAC,EAAD,CAAT,CACAE,WAAW,CAACH,IAAD,CAAX,CACD,CACF,CACD;AACAW,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuCN,kBAAvC,EACA,MAAO,WAAM,CACX;AACAK,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0CP,kBAA1C,EACD,CAHD,CAID,CAjBQ,CAiBN,CAACD,GAAD,CAjBM,CAAT,CAkBD,CAED;AACA,GAAMS,WAAU,CAAGtB,MAAM,CAAC,IAAD,CAAzB,CACAY,iBAAiB,CAACU,UAAD,CAAjB,CAEA,MACEZ,YAAW,CAACa,MAAZ,CAAmB,CAAnB,cACA,YAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAED,UAA5B,uBACA,KAAC,GAAD,WACGZ,WAAW,CAACc,GAAZ,CAAgB,SAAAC,QAAQ,qBAAK,KAAC,UAAD,EAAkC,QAAQ,CAAEA,QAA5C,EAAiBA,QAAQ,CAACC,MAA1B,CAAL,EAAxB,CADH,EADA,EADA,cAOA,kBARF,CAUD,CAxCM"},"metadata":{},"sourceType":"module"}