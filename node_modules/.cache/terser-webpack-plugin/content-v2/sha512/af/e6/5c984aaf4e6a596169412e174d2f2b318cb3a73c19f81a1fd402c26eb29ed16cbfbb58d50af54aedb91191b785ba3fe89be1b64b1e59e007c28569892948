{"code":"(this[\"webpackJsonptrade-analyzer-react\"]=this[\"webpackJsonptrade-analyzer-react\"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){\"use strict\";n.r(t);var a,r,i,o,s,c,l,d,p,b,u,h=n(1),m=n(17),x=n.n(m),f=n(3),j=n(2),g=n(4),O=n(11),y=n(5),v=n(7),w=n(6),S=function(e,t){switch(t.type){case\"DELETE_BACKTEST\":return Object(w.a)(Object(w.a)({},e),{},{backtests:e.backtests.filter((function(e){return e.id!==t.payload}))});case\"ADD_BACKTEST\":return Object(w.a)(Object(w.a)({},e),{},{backtests:[t.payload].concat(Object(O.a)(e.backtests))});case\"STOCK_SEARCH\":return Object(w.a)(Object(w.a)({},e),{},{graphData_AV_API:e.graphData_AV_API,symbol_list:t.payload,current_symbol:e.current_symbol});case\"MAX_API\":return Object(w.a)({},e);case\"FILL_CACHE_TSDA\":return Object(w.a)(Object(w.a)({},e),{},{cache_TSDA:t.payload[\"Time Series (Daily)\"]?t.payload:e.cache_TSDA});case\"DISPLAY_GRAPHS\":return Object(w.a)(Object(w.a)({},e),{},{graphData_AV_API:t.payload[1],symbol_list:[],current_symbol:t.payload[1][\"Meta Data\"][\"2. Symbol\"],current_company:t.payload[2],cache_TSDA:t.payload[1][\"Time Series (Daily)\"]?t.payload[1]:e.cache_TSDA,cache_TS15min:t.payload[1][\"Time Series (15min)\"]?t.payload[1]:e.cache_TS15min,cache_TS60min:t.payload[1][\"Time Series (60min)\"]?t.payload[1]:e.cache_TS60min,graph_type:t.payload[0]});default:return e}},k=n(0),N={backtests:[],symbol_list:[],graphData_AV_API:{},current_symbol:\"\",current_company:\"\",graph_type:\"\",cache_TSDA:{},cache_TS15min:{},cache_TS60min:{}},_=Object(h.createContext)(N),A=function(e){var t=e.children,n=Object(h.useReducer)(S,N),a=Object(j.a)(n,2),r=a[0],i=a[1];function o(){return(o=Object(v.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Note?(alert(\"MAX API CALLS. Please wait a minute for more. PeakTrades was built using Alpha Vantage's free API where the call frequency is 5 calls per minute.\"),i({type:\"MAX_API\",payload:t})):i({type:\"FILL_CACHE_TSDA\",payload:t});case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(v.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({type:\"STOCK_SEARCH\",payload:[]});case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(v.a)(Object(y.a)().mark((function e(t){var n,a,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=\".concat(t.text,\"&apikey=CQ5JZQYM4DG0OODA\"));case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,r=[],a.Note?(alert(\"MAX API CALLS. Please wait a minute for more. However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\"),i({type:\"MAX_API\",payload:r})):(Object.keys(a.bestMatches).forEach((function(e){if(\"United States\"===a.bestMatches[e][\"4. region\"]){var t={symbol:a.bestMatches[e][\"1. symbol\"],name:a.bestMatches[e][\"2. name\"]};r=[t].concat(Object(O.a)(r))}})),r.reverse(),i({type:\"STOCK_SEARCH\",payload:r}));case 8:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(v.a)(Object(y.a)().mark((function e(t,n,a,o){var s,c,l,d,p,b;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&(r.cache_TSDA={},r.cache_TS15min={},r.cache_TS60min={}),l=\"\",d=!1,e.t0=a,e.next=\"day\"===e.t0?6:\"week\"===e.t0?8:10;break;case 6:return r.cache_TS15min[\"Time Series (15min)\"]?(d=!0,p=r.cache_TS15min):(s=\"TIME_SERIES_INTRADAY\",l=\"&interval=15min\",c=\"compact\"),e.abrupt(\"break\",11);case 8:return r.cache_TS60min[\"Time Series (60min)\"]?(d=!0,p=r.cache_TS60min):(s=\"TIME_SERIES_INTRADAY\",l=\"&interval=60min\",c=\"compact\"),e.abrupt(\"break\",11);case 10:r.cache_TSDA[\"Time Series (Daily)\"]?(d=!0,p=r.cache_TSDA):(s=\"TIME_SERIES_DAILY_ADJUSTED\",c=\"full\");case 11:if(d){e.next=18;break}return e.next=14,fetch(\"https://www.alphavantage.co/query?function=\".concat(s,\"&symbol=\").concat(t).concat(l,\"&outputsize=\").concat(c,\"&apikey=CQ5JZQYM4DG0OODA\"));case 14:return b=e.sent,e.next=17,b.json();case 17:p=e.sent;case 18:p.Note?(alert(\"MAX API CALLS. Please wait a minute for more. However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\"),i({type:\"MAX_API\",payload:[a,p]})):p[\"Error Message\"]?(alert(\"ERROR. This stock does not have valid data in the Alpha Vantage database.\"),i({type:\"MAX_API\",payload:[a,p]})):i({type:\"DISPLAY_GRAPHS\",payload:[a,p,n]}),window.scrollTo(0,0);case 20:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)(_.Provider,{value:{backtests:r.backtests,symbol_list:r.symbol_list,graphData_AV_API:r.graphData_AV_API,current_symbol:r.current_symbol,current_company:r.current_company,cache_TSDA:r.cache_TSDA,cache_TS15min:r.cache_TS15min,cache_TS60min:r.cache_TS60min,graph_type:r.graph_type,deleteBacktest:function(e){i({type:\"DELETE_BACKTEST\",payload:e})},addBacktest:function(e){i({type:\"ADD_BACKTEST\",payload:e})},clearSearch:function(e){return s.apply(this,arguments)},stockSearch:function(e){return c.apply(this,arguments)},graphSymbol:function(e,t,n,a){return l.apply(this,arguments)},cache_TSDA_function:function(e){return o.apply(this,arguments)}},children:t})},T=g.a.div(a||(a=Object(f.a)([\"\\n  width: fit;\\n  background: transparent;\\n\\n  .search-item{\\n    width:100%;\\n    @media only screen and (max-width: 768px) {\\n      width: 200%;\\n    }\\n    border:none;\\n\\n    border-bottom: 1px solid black;\\n    background: #373641;\\n    padding: 16px;\\n    padding-bottom: 5px;\\n    font-size: 16px;\\n\\n    text-align: left;\\n    color: #dedfe4;\\n    text-transform: uppercase;\\n    font-weight: 420;\\n    letter-spacing: 1.5px;      \\n\\n    &:focus, &:hover{\\n      outline: none;\\n      background: #3d3d4a;\\n    }\\n  }\\n\\n  .company-name{\\n    color: #898996;\\n    text-transform: capitalize;\\n  }\\n\"]))),D=function(e){var t=e.mySymbol,n=Object(h.useContext)(_).graphSymbol;return console.log(t.symbol,t.name),Object(k.jsx)(\"div\",{children:Object(k.jsx)(T,{children:Object(k.jsx)(\"button\",{className:\"search-item\",onClick:function(){return n(t.symbol,t.name,\"day\",!0)},children:Object(k.jsxs)(\"p\",{children:[\"(\",t.symbol,\")\",Object(k.jsxs)(\"span\",{className:\"company-name\",children:[\" \",t.name]})]})})})})},C=g.a.div(r||(r=Object(f.a)([\"\\n  position: absolute;\\n  z-index:2;\\n  width: 24%;\\n\\n\"]))),B=function(){var e=Object(h.useState)(\"\"),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(h.useContext)(_),i=r.symbol_list,o=r.clearSearch;var s,c=Object(h.useRef)(null);return s=c,Object(h.useEffect)((function(){function e(e){s.current&&!s.current.contains(e.target)&&(a(\"\"),o(n))}return document.addEventListener(\"mousedown\",e),function(){document.removeEventListener(\"mousedown\",e)}}),[s]),i.length>0?Object(k.jsx)(\"div\",{className:\"col-4\",ref:c,children:Object(k.jsx)(C,{children:i.map((function(e){return Object(k.jsx)(D,{mySymbol:e},e.symbol)}))})}):Object(k.jsx)(k.Fragment,{})},P=g.a.div(i||(i=Object(f.a)([\"\\n  *{\\n    font-family: 'Lato', sans-serif; \\n  }\\n\\n  .title{\\n    font-size: 28px; \\n    font-weight: 300; \\n    color: #dedfe4;\\n\\n    position: absolute;\\n    padding-left: 115px;\\n    top: 25px;\\n  }\\n  .search {\\n    &__container {\\n        width:55%;\\n        float:left;\\n        padding-left: 20%;\\n        padding-top: 0px;\\n    }\\n    \\n    &__title {\\n      font-size: 28px; \\n      font-weight: 300; \\n      text-align: left;\\n      color: #dedfe4;\\n\\n    }\\n    \\n    &__input {\\n        width: 100%;\\n        padding: 2.5% 4%;\\n\\n        background-color: transparent;\\n        transition: transform 250ms ease-in-out;\\n        font-size: 12px;\\n        line-height: 15px;\\n        \\n        color: #898996;\\n        text-transform: uppercase;\\n        font-weight: 520;\\n        letter-spacing: 1.5px;\\n        background-color: transparent;\\n \\n        background-image: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\");\\n        background-repeat: no-repeat;\\n        background-size: 18px 18px;\\n        background-position: 97% center;\\n        border-radius: 50px;\\n        border: 1px solid #4f4f62;\\n        transition: all 250ms ease-in-out;\\n        backface-visibility: hidden;\\n        transform-style: preserve-3d;\\n\\n        \\n        &::placeholder {\\n            color: #898996;\\n            text-transform: uppercase;\\n            font-weight: 520;\\n            letter-spacing: 1.5px;\\n        }\\n        \\n        &:hover,\\n        &:focus {\\n            padding: 12px 0;\\n            outline: 0;\\n            border: 1px solid transparent;\\n            border-bottom: 1px solid #4f4f62;\\n            border-radius: 0;\\n            background-position: 100% center;\\n        }\\n    }\\n  }\\n\\n  .logo-img{\\n    width: 115px;\\n    padding: 15px 24px;\\n  }\\n\\n  .credits{\\n    float:right;\\n    width: 15%;\\n    font-size: 15px;\\n    font-weight: 350;\\n    text-align: center;\\n    color: white;\\n    padding-top: 35px\\n  }\\n\\n  \\n  \\n  background: #32323b;\\n  .header{\\n    width:100%;\\n    height: 100px;\\n    z-index:99;\\n    position: fixed;\\n    background: #32323b;\\n  }\\n\\n  .search-credits{\\n    width:80%;\\n    float:right;\\n  }\\n\"]))),z=function(){var e=Object(h.useState)(\"\"),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(h.useContext)(_).stockSearch;return Object(k.jsxs)(P,{children:[Object(k.jsx)(\"link\",{href:\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css\",rel:\"stylesheet\",integrity:\"sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1\",crossOrigin:\"anonymous\"}),Object(k.jsxs)(\"nav\",{className:\"header\",children:[Object(k.jsx)(\"img\",{className:\"logo-img\",src:\"icons8-money-80.png\",alt:\"\"}),Object(k.jsx)(\"div\",{className:\"title\",children:\"AlgoTrade\"}),Object(k.jsxs)(\"div\",{className:\"search-credits\",children:[Object(k.jsxs)(\"div\",{className:\"search__container\",children:[Object(k.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault();var t={text:n};0!==t.text.length&&r(t)},children:[Object(k.jsx)(\"label\",{className:\"search__title\",style:{paddingLeft:80},children:\"Search Company:\"}),Object(k.jsx)(\"input\",{className:\"search__input\",type:\"text\",placeholder:\"Search Tickers...\",onChange:function(e){return a(e.target.value)}})]}),Object(k.jsx)(B,{})]}),Object(k.jsx)(\"div\",{className:\"credits\",children:Object(k.jsx)(\"a\",{className:\"\",href:\"https://www.linkedin.com/in/john-duan/\",rel:\"noreferrer\",target:\"_blank\",style:{color:\"#61dafb\"},children:\" By Han\"})})]})]})]})},M=g.a.div(o||(o=Object(f.a)([\"\\n\\n  p{\\n    color: #898996;\\n    padding: 2% 2% 2% 0%;\\n    text-align: center;\\n  }\\n\\n  background: #373641;\\n\\n\"]))),I=function(){return Object(k.jsx)(M,{children:Object(k.jsx)(\"p\",{children:\"AlgoTrade is a personal project developed by Han using React and Alphavantage\\u2019s stock API.\"})})},E=n(14),F=g.a.div(s||(s=Object(f.a)([\"\\n  \\n    .trade-card{\\n      margin-bottom: 10px;\\n      font-size: 12px;\\n      \\n      display:block;\\n      overflow:auto;\\n\\n      box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n      background: #3d3d4a;  \\n    }\\n    .trade-card-sub{\\n      float: left;\\n      width: 33.33%;\\n      padding: 1.25%;    \\n    }\\n    .result-item{\\n      border-bottom: 2px solid #6464a3;\\n      height: auto;\\n      margin-bottom: 4%;\\n      padding-bottom: 1%;\\n    }\\n    .result-title{\\n      text-align: left;\\n      color: #898996;\\n      font-size: 12px;\\n      width: 40%;\\n    }\\n    .result-output{\\n      text-align: right;\\n      color: #dedfe4;\\n      font-size: 14px;\\n      width: 60%;\\n    }\\n    .result-title-profit{\\n      text-align: left;\\n      color: #898996;\\n      font-size: 12px;\\n      width: 1%;\\n\\n    }\\n    .result-output-profit{\\n      text-align: right;\\n      color: #dedfe4;\\n      font-size: 14px;\\n      width: 99%;\\n\\n    }\\n  \"]))),R=function(e){var t=e.trade;return Object(k.jsx)(F,{children:Object(k.jsxs)(\"div\",{className:\"trade-card\",children:[Object(k.jsxs)(\"div\",{className:\"trade-card-sub\",children:[Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",children:\"Buy Date: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.buyDate})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",children:\"Buy Price: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.buyPrice})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",children:\"Indicator Value at Buy: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.indicatorAtBuy.toFixed(2)})]})]}),Object(k.jsxs)(\"div\",{className:\"trade-card-sub\",children:[Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",children:\"Sell Date:\"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.sellDate})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",children:\"Sell Price: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.sellPrice})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",children:\"Indicator Value at Sell: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.indicatorAtSell.toFixed(2)})]})]}),Object(k.jsxs)(\"div\",{className:\"trade-card-sub\",children:[Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Number of shares for trade.\",\"data-tooltip-location\":\"left\",children:\"Num of Shares:\"}),Object(k.jsxs)(\"label\",{className:\"result-output\",children:[\" \",t.numShares.toFixed(2)]})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title-profit\",\"data-tooltip\":\"Profit from this position.\",\"data-tooltip-location\":\"left\",children:\"Profit: \"}),Object(k.jsxs)(\"label\",{className:\"result-output-profit\",children:[\"$\",t.profitUSD.toFixed(2),\"(\",t.profitPercent>0?\"+\":\"\",(100*t.profitPercent).toFixed(2),\"%)\"]})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Number of days between opening and closing this position.\",children:\" Num Candles in Trade: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.candleLength})]})]})]})})},L=function(e){var t=e.tradeList,n=0;return Object(k.jsx)(k.Fragment,{children:t.map((function(e){return Object(k.jsx)(R,{trade:e},n++)}))})},V=g.a.div(c||(c=Object(f.a)(['\\n  background: #3d3d4a;\\n  color: #898996;\\n  display:flex;\\n\\n  padding: 1%;\\n  margin: 0% 0% 1% 0%;\\n\\n  .settings{\\n    font-size: 16px;\\n    padding: 1%;\\n    width: 25%;\\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n  }\\n  .results-overview{\\n    padding: 1%;\\n    width: 24%;\\n    font-size: 16px;\\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n    margin: 0% 1%;\\n  }\\n  .list-of-trades{\\n    padding:1%;\\n    width: 50%;\\n    font-size: 16px;\\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n\\n  }\\n\\n\\n  h4{\\n    font-size: 180%;\\n    border-bottom: 4px solid #898996;\\n  }\\n\\n\\n\\n  /* left card CSS begin */\\n  .input-flex{\\n    display:flex;\\n    border: none;\\n    border-bottom: 2px solid #6464a3;\\n    background: transparent;//#eff1f2;\\n    color: #dedfe4;\\n    width: 75%;\\n    height: 2rem;\\n    font-size: 16px;\\n    padding-left: 0.5rem;\\n    padding-top: 0.325rem;\\n    padding-bottom: 0.325rem;\\n    margin-bottom: 0.425rem;\\n    \\n    &:focus, &:hover{\\n      outline: none;\\n      color: #373641;\\n      ::placeholder{\\n        color: #a5a5b0;\\n      }\\n      background: #dedfe4;\\n    }\\n    ::placeholder{\\n      color: #dedfe4;\\n    }\\n  }\\n\\n  .input-inline{\\n    display:inline;\\n    border: none;\\n    border-bottom: 2px solid #6464a3;\\n    background: transparent;//#eff1f2;\\n    color: #dedfe4;\\n    width:10%;\\n    height: 2rem;\\n    font-size: 16px;\\n    padding-left: 0.5rem;\\n    padding-top: 0.325rem;\\n    padding-bottom: 0.325rem;\\n    margin-bottom: 0.425rem;\\n    \\n    &:focus, &:hover{\\n      outline: none;\\n      color: #373641;\\n      ::placeholder{\\n        color: #a5a5b0;\\n      }\\n      background: #dedfe4;\\n    }\\n    ::placeholder{\\n      color: #dedfe4;\\n    }\\n  }\\n\\n  .input-label{\\n    color: #898996;\\n    font-size: 14px;\\n  }\\n\\n  .input-label-sub{\\n    color: #898996;\\n    font-style: italic;\\n    font-size: 80%;\\n    padding-left: 5%;\\n    margin-bottom: 2%;\\n  }\\n\\n  .input-select {\\n    display:flex;\\n    width: 75%;\\n    color: #dedfe4;\\n    border: none;\\n    border-bottom: 2px solid #6464a3;\\n    background: transparent;\\n    height: 2rem;\\n    font-size: 16px;\\n    padding-left: 0.5rem;\\n    margin-bottom: 0.425rem;\\n\\n    &:focus, &:hover{\\n      outline: none;\\n      color: #373641;\\n      background: #dedfe4;\\n    }\\n  }\\n\\n\\n  .calc-button {\\n    display: block;\\n    cursor: pointer;\\n    outline: none;\\n    border: none;\\n    background-color: #dedfe4;\\n    width: 200px;\\n    height: 35px;\\n    border-radius: 30px;\\n    font-size: 18px;\\n    font-weight: 600;\\n    color: #373641;\\n    background-size: 100% 100%;\\n    box-shadow: 0 0 0 1px black inset;\\n    margin: 1%;\\n    margin-top: 3%;\\n\\n    @media only screen and (max-width: 968px) {\\n      width: auto;\\n    }\\n  }\\n  \\n  .calc-button:hover {\\n    background-image: linear-gradient(\\n      145deg,\\n      transparent 10%,\\n      #89d47f 10% 20%,\\n      transparent 20% 30%,\\n      #89d47f 30% 40%,\\n      transparent 40% 50%,\\n      #89d47f 50% 60%,\\n      transparent 60% 70%,\\n      #89d47f 70% 80%,\\n      transparent 80% 90%,\\n      #89d47f 90% 100%\\n    );\\n    animation: background 6s linear infinite;\\n\\n\\n    @media only screen and (max-width: 968px) {\\n      width: auto;\\n      color: #52515c;\\n      background-color: #ebebeb;\\n      background-image: none;\\n    }\\n  }\\n\\n  .del-button {\\n    display: block;\\n    cursor: pointer;\\n    outline: none;\\n    border: none;\\n    background-color: #dedfe4;\\n    width: 200px;\\n    height: 35px;\\n    border-radius: 30px;\\n    font-size: 18px;\\n    font-weight: 600;\\n    color: #373641;\\n    background-size: 100% 100%;\\n    box-shadow: 0 0 0 1px black inset;\\n    margin: 1%;\\n    \\n    margin-top: 3%;@media only screen and (max-width: 968px) {\\n      width: auto;\\n    }\\n  }\\n  \\n  .del-button:hover {\\n    background-image: linear-gradient(\\n      145deg,\\n      transparent 10%,\\n      #d4847f 10% 20%,\\n      transparent 20% 30%,\\n      #d4847f 30% 40%,\\n      transparent 40% 50%,\\n      #d4847f 50% 60%,\\n      transparent 60% 70%,\\n      #d4847f 70% 80%,\\n      transparent 80% 90%,\\n      #d4847f 90% 100%\\n    );\\n    animation: background 6s linear infinite;\\n    @media only screen and (max-width: 968px) {\\n      width: auto;\\n      color: #52515c;\\n      background-color: #ebebeb;\\n      background-image: none;\\n    }\\n  }\\n  \\n  @keyframes background {\\n    0% {\\n      background-position: 0 0;\\n    }\\n    100% {\\n      background-position: 400px 0;\\n    }\\n  }\\n  /* left card CSS end */\\n  /* middle card CSS begin */\\n  .result-item{\\n    border-bottom: 2px solid #6464a3;\\n    height: auto;\\n    margin-bottom: 4%;\\n    padding-bottom: 1%;\\n  }\\n  .result-title{\\n    text-align: left;\\n    color: #898996;\\n    font-size: 14px;\\n    width: 50%;\\n  }\\n  .result-output{\\n    text-align: right;\\n    color: #dedfe4;\\n    font-size: 16px;\\n    width: 50%;\\n  }\\n\\n  .conclusion-title{\\n    text-align: left;\\n    color: #898996;\\n    font-size: 14px;\\n    width: 35%;\\n  }\\n  .backtest-won{\\n    text-align: right;\\n    font-size: 16px;\\n    width: 65%;\\n\\n    color: #81dfc4;\\n  }\\n\\n  .backtest-lost{\\n    text-align: right;\\n    font-size: 16px;\\n    width: 65%;\\n\\n    color: #d75b6d;\\n  }\\n\\n  .backtest-null{\\n    text-align: right;\\n    font-size: 16px;\\n    width: 65%;\\n\\n    color: #dedfe4;\\n  }\\n  /* middle card CSS end */\\n  /* right card CSS begin */\\n  .trades-scroll{\\n    font-size: 12px;\\n    background-color: #373641;\\n    padding: 1% 3%;\\n    width:auto;\\n    overflow-y:auto;\\n    overflow-x:clip;\\n    height: 750px;\\n  }\\n\\n  /* right card CSS end */\\n\\n  /* Tooltip begin */\\n  [data-tooltip] {\\n    position: relative;\\n    z-index: 10;\\n  }\\n\\n  /* Positioning and visibility settings of the tooltip */\\n  [data-tooltip]:before,\\n  [data-tooltip]:after {\\n    position: absolute;\\n    visibility: hidden;\\n    opacity: 0;\\n    left: 50%;\\n    bottom: calc(100% + 5px); /* 5px is the size of the arrow */\\n    pointer-events: none;\\n    transition: 0.2s;\\n    will-change: transform;\\n  }\\n\\n  /* The actual tooltip with a dynamic width */\\n  [data-tooltip]:before {\\n    content: attr(data-tooltip);\\n    padding: 10px 18px;\\n    min-width: 50px;\\n    max-width: 300px;\\n    width: max-content;\\n    width: -moz-max-content;\\n    border-radius: 6px;\\n    font-size: 14px;\\n    background-color: rgba(59, 72, 80, 0.9);\\n    background-image: linear-gradient(30deg,\\n      rgba(59, 72, 80, 0.44),\\n      rgba(59, 68, 75, 0.44),\\n      rgba(60, 82, 88, 0.44));\\n    box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.2);\\n    color: #fff;\\n    text-align: center;\\n    white-space: pre-wrap;\\n    transform: translate(-50%, -5px) scale(0.5);\\n  }\\n\\n  /* Tooltip arrow */\\n  [data-tooltip]:after {\\n    content: \\'\\';\\n    border-style: solid;\\n    border-width: 5px 5px 0px 5px; /* CSS triangle */\\n    border-color: rgba(55, 64, 70, 0.9) transparent transparent transparent;\\n    transition-duration: 0s; /* If the mouse leaves the element, \\n                                the transition effects for the \\n                                tooltip arrow are \"turned off\" */\\n    transform-origin: top;   /* Orientation setting for the\\n                                slide-down effect */\\n    transform: translateX(-50%) scaleY(0);\\n  }\\n\\n  /* Tooltip becomes visible at hover */\\n  [data-tooltip]:hover:before,\\n  [data-tooltip]:hover:after {\\n    visibility: visible;\\n    opacity: 1;\\n  }\\n  /* Scales from 0.5 to 1 -> grow effect */\\n  [data-tooltip]:hover:before {\\n    transition-delay: 0.3s;\\n    transform: translate(-50%, -5px) scale(1);\\n  }\\n  /* \\n    Arrow slide down effect only on mouseenter (NOT on mouseleave)\\n  */\\n  [data-tooltip]:hover:after {\\n    transition-delay: 0.5s; /* Starting after the grow effect */\\n    transition-duration: 0.2s;\\n    transform: translateX(-50%) scaleY(1);\\n  }\\n\\n  /* LEFT */\\n  /* Tooltip + arrow */\\n  [data-tooltip-location=\"left\"]:before,\\n  [data-tooltip-location=\"left\"]:after {\\n    left: auto;\\n    right: calc(100% + 5px);\\n    bottom: 50%;\\n  }\\n\\n  /* Tooltip */\\n  [data-tooltip-location=\"left\"]:before {\\n    transform: translate(-5px, 50%) scale(0.5);\\n  }\\n  [data-tooltip-location=\"left\"]:hover:before {\\n    transform: translate(-5px, 50%) scale(1);\\n  }\\n\\n  /* Arrow */\\n  [data-tooltip-location=\"left\"]:after {\\n    border-width: 5px 0px 5px 5px;\\n    border-color: transparent transparent transparent rgba(55, 64, 70, 0.9);\\n    transform-origin: left;\\n    transform: translateY(50%) scaleX(0);\\n  }\\n  [data-tooltip-location=\"left\"]:hover:after {\\n    transform: translateY(50%) scaleX(1);\\n  }\\n\\n\\n\\n  /* RIGHT */\\n  [data-tooltip-location=\"right\"]:before,\\n  [data-tooltip-location=\"right\"]:after {\\n    left: calc(100% + 5px);\\n    bottom: 50%;\\n  }\\n\\n  [data-tooltip-location=\"right\"]:before {\\n    transform: translate(5px, 50%) scale(0.5);\\n  }\\n  [data-tooltip-location=\"right\"]:hover:before {\\n    transform: translate(5px, 50%) scale(1);\\n  }\\n\\n  [data-tooltip-location=\"right\"]:after {\\n    border-width: 5px 5px 5px 0px;\\n    border-color: transparent rgba(55, 64, 70, 0.9) transparent transparent;\\n    transform-origin: right;\\n    transform: translateY(50%) scaleX(0);\\n  }\\n  [data-tooltip-location=\"right\"]:hover:after {\\n    transform: translateY(50%) scaleX(1);\\n  }\\n\\n\\n\\n  /* BOTTOM */\\n  [data-tooltip-location=\"bottom\"]:before,\\n  [data-tooltip-location=\"bottom\"]:after {\\n    top: calc(100% + 5px);\\n    bottom: auto;\\n  }\\n\\n  [data-tooltip-location=\"bottom\"]:before {\\n    transform: translate(-50%, 5px) scale(0.5);\\n  }\\n  [data-tooltip-location=\"bottom\"]:hover:before {\\n    transform: translate(-50%, 5px) scale(1);\\n  }\\n\\n  [data-tooltip-location=\"bottom\"]:after {\\n    border-width: 0px 5px 5px 5px;\\n    border-color: transparent transparent rgba(55, 64, 70, 0.9) transparent;\\n    transform-origin: bottom;\\n  }\\n\\n  /* End of tooltips */\\n\\n']))),Y=function(e){var t=e.backtest,n=function(){return(new Date).toISOString().slice(0,10)},a=Object(h.useState)([]),r=Object(j.a)(a,2),i=r[0],o=r[1],s=Object(h.useState)(\"1. open\"),c=Object(j.a)(s,2),l=c[0],d=c[1],p=Object(h.useState)(function(){switch(t.indicator){case\"RSI\":return 14;case\"EMA\":case\"SMA\":return 9;case\"BB\":return 20;default:return 24}}()),b=Object(j.a)(p,2),u=b[0],m=b[1],x=Object(h.useState)(2),f=Object(j.a)(x,2),g=f[0],O=f[1],w=Object(h.useState)(new Date((new Date).setFullYear((new Date).getFullYear()-100)).toISOString().slice(0,10)),S=Object(j.a)(w,2),N=S[0],A=S[1],T=Object(h.useState)(n()),D=Object(j.a)(T,2),C=D[0],B=D[1],P=Object(h.useState)(15),z=Object(j.a)(P,2),M=z[0],I=z[1],F=Object(h.useState)(3e3),R=Object(j.a)(F,2),Y=R[0],X=R[1],U=Object(h.useState)(\"usd\"),H=Object(j.a)(U,2),q=H[0],K=H[1],$=Object(h.useState)(100),J=Object(j.a)($,2),Q=J[0],G=J[1],W=Object(h.useState)(\"RSI\"===t.indicator?30:-3),Z=Object(j.a)(W,2),ee=Z[0],te=Z[1],ne=Object(h.useState)(\"Real Middle Band\"),ae=Object(j.a)(ne,2),re=ae[0],ie=ae[1],oe=Object(h.useState)(1),se=Object(j.a)(oe,2),ce=se[0],le=se[1],de=Object(h.useContext)(_),pe=de.deleteBacktest,be=de.current_symbol,ue=de.cache_TSDA,he=de.cache_TSDA_function,me=function(e){return e.map((function(e){return Object(k.jsx)(\"option\",{value:e.value,children:e.name},e.name)}))};function xe(e,t,n,a){switch(e){case\"numStocks\":return a*t;case\"percent\":return n*(t/100);default:return t}}function fe(e,n,a){return\"RSI\"===t.indicator?a<e:(console.log(\"price is \".concat(n,\", indicator is \").concat(a,\", buy Price\"),a*((100+e)/100),n<=a*((100+e)/100)),n<=a*((100+e)/100))}function je(){return\"BBANDS\"===t.indicator?re:t.indicator}function ge(e,n,a,r,i,o,s){var c=i/e[\"buy-price\"],l=+(c-1)*e[\"volume-USD\"],d=+r-e[\"candle-count-buy\"];t.tradeListData.push({buyDate:n,sellDate:a,buyPrice:e[\"buy-price\"],sellPrice:i,numShares:s,profitPercent:+c-1,profitUSD:l,candleLength:d,indicatorAtSell:o,indicatorAtBuy:e[\"indicator-at-buy\"]}),t.numTrades++,t.profitUSD+=l,t.netBars+=d,t.netSellVolume+=i*s}function Oe(){return(Oe=Object(v.a)(Object(y.a)().mark((function e(n,a){var r,i,s,c,l,d,p,b,u,h,m,x,f,g,O,v,w,S,k,_,A,T,D,B,P,z;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be){e.next=3;break}return alert(\"Please select a stock to test your strategy on.\"),e.abrupt(\"return\");case 3:if(ue[\"Meta Data\"]){e.next=15;break}return e.next=6,fetch(\"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=\".concat(be,\"&outputsize=full&apikey=CQ5JZQYM4DG0OODA\"));case 6:return s=e.sent,e.next=9,s.json();case 9:if(r=e.sent,he(r),!r.Note){e.next=13;break}return e.abrupt(\"return\");case 13:e.next=16;break;case 15:r=ue;case 16:e.t0=t.indicator,e.next=\"BBANDS\"===e.t0?19:21;break;case 19:return c=\"&nbdevup=\".concat(a.stdDeviation,\"&nbdevdn=\").concat(a.stdDeviation),e.abrupt(\"break\",22);case 21:c=\"\";case 22:return e.next=24,fetch(\"https://www.alphavantage.co/query?function=\".concat(t.indicator,\"&symbol=\").concat(be,\"&interval=daily&time_period=\").concat(n.timePeriod,\"&series_type=\").concat(n.seriesType).concat(c,\"&apikey=CQ5JZQYM4DG0OODA\"));case 24:return s=e.sent,e.next=27,s.json();case 27:if(i=e.sent,t.didRun=!0,!i.Note){e.next=33;break}return alert(\"MAX API CALLS. Please wait a minute for more. Thank you for visitng my project! However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\"),t.didRun=!1,e.abrupt(\"return\");case 33:l=0,(d={}).length=0,p=a.initalBalance,b=!1,u=0,h=Object(E.a)(Object.entries(i[\"Technical Analysis: \".concat(t.indicator)]).reverse()),e.prev=40,h.s();case 42:if((m=h.n()).done){e.next=62;break}if(x=Object(j.a)(m.value,1),(f=x[0])>=N&&(b=!0),!1!==b){e.next=49;break}return e.abrupt(\"continue\",60);case 49:if(f!==C){e.next=51;break}return e.abrupt(\"break\",62);case 51:if(l++,r[\"Time Series (Daily)\"][\"\".concat(f)]){e.next=54;break}return e.abrupt(\"continue\",60);case 54:if(g=+i[\"Technical Analysis: \".concat(t.indicator)][\"\".concat(f)][\"\".concat(je())],O=+r[\"Time Series (Daily)\"][\"\".concat(f)][\"\".concat(n.seriesType)],t.startPrice||(t.startPrice=O),t.endPrice=O,v=xe(a.initalBuyType,a.initalBuyAmount,p,O),d.length<a.maxBags&&v<=p&&fe(a.buyStrategyValue,O,g))d.length++,console.log(\"bag added\",d),d[\"\".concat(f)]={\"sell-price-limit\":+(1+a.sellStrategyValue/100)*O,\"buy-price\":+O,\"candle-count-buy\":+l,\"volume-USD\":+v,\"num-shares\":+v/O,\"indicator-at-buy\":g},p-=d[\"\".concat(f)][\"volume-USD\"],u=1===d.length?+d[\"\".concat(f)][\"sell-price-limit\"]:Math.min(u,d[\"\".concat(f)][\"sell-price-limit\"]);else if(O>=u&&d.length>0){for(w=f,S=0,k=Object.entries(d);S<k.length;S++)_=Object(j.a)(k[S],1),A=_[0],O>=d[\"\".concat(A)][\"sell-price-limit\"]&&(ge(d[\"\".concat(A)],A,w,l,O,g,d[\"\".concat(A)][\"num-shares\"],d[\"\".concat(A)][\"indicator-at-buy\"]),delete d[\"\".concat(A)],d.length--);if((T=Object.entries(d))[0][1]>0){u=d[T[1][0]][\"sell-price-limit\"],D=Object(E.a)(T);try{for(D.s();!(B=D.n()).done;)P=Object(j.a)(B.value,1),z=P[0],u=Math.min(u,+d[\"\".concat(z)][\"sell-price-limit\"])}catch(y){D.e(y)}finally{D.f()}}}case 60:e.next=42;break;case 62:e.next=67;break;case 64:e.prev=64,e.t1=e.catch(40),h.e(e.t1);case 67:return e.prev=67,h.f(),e.finish(67);case 70:t.holdReturn=(100*(t.endPrice/t.startPrice-1)).toFixed(2),delete t.startPrice,t.profitPercentOnBalance=t.profitUSD/a.initalBalance,t.profitPercentOnTrades=t.profitUSD/(t.netSellVolume-t.profitUSD),t.avgBars=t.netBars/t.numTrades,o(t.tradeListData);case 76:case\"end\":return e.stop()}}),e,null,[[40,64,67,70]])})))).apply(this,arguments)}var ye=function(e){e.currentTarget.type=\"date\"},ve=function(){t.current_symbol=be;var e={seriesType:l,timePeriod:+u,stdDeviation:+g};1===e.timePeriod&&(e.timePeriod=2);var n={maxBags:+M,initalBalance:+Y,initalBuyType:q,initalBuyAmount:+Q,buyStrategyValue:+ee,buyStrategyType:re,sellStrategyValue:+ce};n.maxBags<1||n.initalBalance<1||n.initalBuyAmount<1||n.sellStrategyValue<0||e.timePeriod<1?alert(\"Please enter valid inputs. Use positive integers for the following: Max bags, Sell percentage, Time period, Buy amount, Inital Balance.\"):\"percent\"===n.initalBuyType&&(n.initalBuyAmount<1||n.initalBuyAmount>100)?alert(\"Buy amount percentage must be 1-100%\"):n.initalBuyAmount>n.initalBalance?alert(\"Inital buys must be less than or equal to inital balance.\"):\"RSI\"===t.indicator&&(n.buyStrategyValue<1||n.buyStrategyValue>99)?alert(\"RSI values must be between 1-99\"):\"BBANDS\"===t.indicator&&e.stdDeviation<.5?alert(\"Standard Deviation must be greater than or equal to 0.5.\"):(t.tradeListData=[],t.profitUSD=0,t.numTrades=0,t.netBars=0,t.netSellVolume=0,function(e,t){Oe.apply(this,arguments)}(e,n))},we=null;switch(t.indicator){case\"RSI\":we=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days):\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",placeholder:\"14\",onChange:function(e){return m(e.target.value)}})]});break;case\"EMA\":we=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days): \"}),Object(k.jsx)(\"input\",{className:\"input-flex\",placeholder:\"9\",onChange:function(e){return m(e.target.value)}})]});break;case\"SMA\":we=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days):\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",placeholder:\"9\",onChange:function(e){return m(e.target.value)}})]});break;case\"BBANDS\":we=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days): \"}),Object(k.jsx)(\"input\",{className:\"input-flex\",placeholder:\"20\",onChange:function(e){return m(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Standard devation for calculating upper and lower bollinger bands.\",children:\"Standard Deviation for upper/lower lines:\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",placeholder:\"2\",onChange:function(e){return O(e.target.value)}})]});break;default:we=Object(k.jsx)(\"div\",{children:\"Default backtest indicator DOM\"})}var Se=null;switch(t.indicator){case\"RSI\":Se=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy when RSI less than\"}),Object(k.jsx)(\"input\",{className:\"input-inline\",placeholder:\"30\",onChange:function(e){return te(e.target.value)}}),Object(k.jsx)(\"br\",{})]});break;case\"EMA\":Se=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy at price\"}),Object(k.jsx)(\"input\",{className:\"input-inline\",placeholder:\"-3\",onChange:function(e){return te(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"% away from the EMA line. \"}),Object(k.jsx)(\"label\",{className:\"input-label-sub\",\"data-tooltip\":\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\",children:\"(3 = 3% above, -3 = 3% below)\"}),Object(k.jsx)(\"br\",{})]});break;case\"SMA\":Se=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy at price\"}),Object(k.jsx)(\"input\",{className:\"input-inline\",placeholder:\"-3\",onChange:function(e){return te(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"% away from the SMA line. \"}),Object(k.jsx)(\"label\",{className:\"input-label-sub\",\"data-tooltip\":\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\",children:\"(3 = 3% above, -3 = 3% below)\"}),Object(k.jsx)(\"br\",{})]});break;case\"BBANDS\":Se=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Select bollinger band the backtest will track to open and close positions.\",children:\"Band to follow:\"}),Object(k.jsx)(\"select\",{className:\"input-select\",onChange:function(e){return ie(e.target.value)},children:me([{name:\"Middle\",value:\"Real Middle Band\"},{name:\"Upper\",value:\"Real Upper Band\"},{name:\"Lower\",value:\"Real Lower Band\"}])}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy at price\"}),Object(k.jsx)(\"input\",{className:\"input-inline\",placeholder:\"-3\",onChange:function(e){return te(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"% away from the selected line. \"}),Object(k.jsx)(\"label\",{className:\"input-label-sub\",\"data-tooltip\":\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\",children:\"(3 = 3% above, -3 = 3% below)\"}),Object(k.jsx)(\"br\",{})]});break;default:Se=Object(k.jsx)(\"div\",{children:\"buy strat dom default\"})}return t.immediatelyCalculate&&(ve(),t.immediatelyCalculate=!1),Object(k.jsxs)(V,{children:[Object(k.jsxs)(\"div\",{className:\"settings\",children:[Object(k.jsxs)(\"h4\",{\"data-tooltip\":\"Settings for calculating technical indicator.\",children:[t.indicator,\" Settings\"]}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Indicator calculated from open, high, low, or closing prices for each period.\",children:\"Select Series Type:\"}),Object(k.jsx)(\"select\",{className:\"input-select\",onChange:function(e){return d(e.target.value)},children:me([{name:\"open\",value:\"1. open\"},{name:\"close\",value:\"4. close\"},{name:\"high\",value:\"2. high\"},{name:\"low\",value:\"3. low\"}])}),we,Object(k.jsx)(\"br\",{}),Object(k.jsx)(\"h4\",{\"data-tooltip\":\"Settings for calculating buy/sell conditions.\",children:\"Trading Strategy Settings\"}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Date for the backtest to begin. Leave blank for earliest date.\",children:\"Start Date:\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",type:\"text\",placeholder:\"IPO date (earliest)\",onFocus:function(e){return ye(e)},onChange:function(e){return A(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Date for the backtest to end. Leave blank for today's date.\",children:\"End Date:\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",type:\"text\",placeholder:function(e){var t=(e||\"\").toString().split(/-/g);return t.push(t.shift()),t.join(\"/\")||null}(n()),onFocus:function(e){return ye(e)},onChange:function(e){return B(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Max number of positions to have at a given time. Algorithm will not add new positions that would exceed this value.\",children:\"Max number of positions:\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",placeholder:\"15\",onChange:function(e){return I(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Inital balance for backtest algorithm to start trading with.\",children:\"Inital balance (USD):\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",min:\"0\",placeholder:\"3000\",onChange:function(e){return X(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Volume of new positions will be opened in reference to this type of value.\",children:\"Inital buy type:\"}),Object(k.jsx)(\"select\",{className:\"input-select\",onChange:function(e){return K(e.target.value)},children:me([{name:\"($) USD\",value:\"usd\"},{name:\"(%) Percent of Balance\",value:\"percent\"},{name:\"(#) Number of Stocks\",value:\"numStocks\"}])}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Value for new positions to begin with.\",children:\"Inital buy amount:\"}),Object(k.jsx)(\"input\",{className:\"input-flex\",min:\"0\",placeholder:\"100\",onChange:function(e){return G(e.target.value)}}),Se,Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Close positions when profit meets or exceeds this value.\",children:\"Sell position at\"}),Object(k.jsx)(\"input\",{className:\"input-inline\",placeholder:\"1\",onChange:function(e){return le(e.target.value)}}),Object(k.jsx)(\"label\",{className:\"input-label\",\"data-tooltip\":\"Close positions when profit meets or exceeds this value.\",children:\"% profit.\"}),Object(k.jsx)(\"br\",{}),Object(k.jsx)(\"button\",{className:\"calc-button\",onClick:function(){return ve()},children:\"Calculate\"}),Object(k.jsx)(\"button\",{className:\"del-button\",onClick:function(){return pe(t.id)},children:\"Delete\"})]}),Object(k.jsxs)(\"div\",{className:\"results-overview\",children:[Object(k.jsxs)(\"h4\",{\"data-tooltip\":\"Results of backtest.\",children:[\"Performance Overview \",t.current_symbol?\"(\"+t.current_symbol+\")\":\"\"]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Total profit of backtest in USD.\",children:\"Profit USD:\"}),Object(k.jsxs)(\"label\",{className:\"result-output\",children:[\"$\",(t.profitUSD?t.profitUSD:0).toFixed(2)]})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Total profit of backtest in percent.\",children:\"Profit Percent on Entire Balance: \"}),Object(k.jsxs)(\"label\",{className:\"result-output\",children:[(t.profitPercentOnBalance?100*t.profitPercentOnBalance:0).toFixed(2),\"%\"]})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Average profit of trades from running backtest.\",children:\"Average profit per trade: \"}),Object(k.jsxs)(\"label\",{className:\"result-output\",children:[\" \",(t.profitPercentOnTrades?100*t.profitPercentOnTrades:0).toFixed(2),\"%\"]})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Number of trades made by backtest.\",children:\"Number of trades: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:t.numTrades?t.numTrades:0})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Average number of candles/days between opening and closing each position.\",children:\"Average bars per trade: \"}),Object(k.jsx)(\"label\",{className:\"result-output\",children:(t.avgBars?t.avgBars:0).toFixed(2)})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"result-title\",\"data-tooltip\":\"Return if inital balance had been fully invested at the start date and cashed out at the end date. (instead of running algorithm)\",children:\"Buy and hold return: \"}),Object(k.jsxs)(\"label\",{className:\"result-output\",children:[t.holdReturn>0?\"+\":\"\",t.holdReturn?t.holdReturn:\"0\",\"%\"]})]}),Object(k.jsxs)(\"div\",{className:\"result-item\",children:[Object(k.jsx)(\"label\",{className:\"conclusion-title\",children:\"Backtest Conclusion: \"}),t.didRun?t.profitPercentOnBalance>t.holdReturn?Object(k.jsxs)(\"label\",{className:\"backtest-won\",children:[\" This algorithm is more profitable than buy and holding \",t.current_symbol,\". \"]}):Object(k.jsxs)(\"label\",{className:\"backtest-lost\",children:[\" Buy and holding \",t.current_symbol,\" is more profitable than this algorithm. \"]}):Object(k.jsx)(\"label\",{className:\"backtest-null\",children:\"No trades made\"})]})]}),Object(k.jsxs)(\"div\",{className:\"list-of-trades\",children:[Object(k.jsx)(\"h4\",{\"data-tooltip\":\"History of positions opened/closed by backtest.\",children:\"List Of Trades\"}),Object(k.jsx)(\"div\",{className:\"trades-scroll\",children:Object(k.jsx)(L,{tradeList:i.map((function(e){return e}))})})]})]})},X=g.a.div(l||(l=Object(f.a)([\"\\n  .main-box{\\n    color: #898996;\\n    display:flex;\\n\\n    padding: 5%;\\n    margin: 0%;\\n    padding-top: 140px;\\n\\n    .intro-text{  \\n      padding-top: 8%;\\n      text-align: center;\\n      .intro-text-p{\\n        color: #898996;\\n        font-size: 22px;\\n      }\\n      h4{\\n        font-size: 30px;\\n        color: #dedfe4;\\n      }\\n    }\\n\\n    .howto-text{  \\n      padding-top: 4%;\\n      width: 50%;\\n      text-align: center;\\n      p{\\n        color: #898996;\\n        font-size: 16px;\\n      }\\n      h4{\\n        font-size: 180%;\\n        color: #dedfe4;\\n      }\\n    }\\n    .img-chart{\\n      z-index:0;\\n      width: 50%;\\n      transform: perspective(700px) rotateY(-10deg);\\n      box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\\n    }\\n    .img-backtest{\\n\\n      z-index:0;\\n      width: 50%;\\n      transform: perspective(700px) rotateY(10deg);\\n      box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\\n    }\\n\\n  }\\n\\n  //Try it button CSS\\n  \\n.share-button {\\n  width: 280px;\\n  height: 40px;\\n\\n  color: #373641;\\n  background: #dedfe4;\\n\\n  border-radius: 7px;\\n  border: none;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  //padding: 0 50px;\\n  overflow: hidden;\\n  position: relative;\\n  cursor: pointer;\\n  margin: auto;\\n  transition: .3s linear;\\n  box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;\\n}\\n.share-button:hover{\\n  transform: scale(1.1);\\n}\\n.share-button span{\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n\\n  background: #898996;\\n  color: #3d3d4a;\\n  padding-top: 5px;\\n  font-size: 20px;\\n\\n  text-align: center;\\n  z-index: 1;\\n  transition: .2s linear;\\n  border-radius: 7px;\\n \\n}\\n.share-button:focus span{\\n  transform: translateX(-100%);\\n  transition-delay: .3s;\\n}\\n.share-button-p{\\n  padding-top: 16px;\\n  font-size: 16px;\\n}\\n\\n\\n\"]))),U=function(){Object(h.useContext)(_).addBacktest,Object(h.useContext)(_).graphSymbol;return Object(k.jsxs)(X,{children:[Object(k.jsxs)(\"div\",{className:\"main-box\",children:[Object(k.jsxs)(\"div\",{className:\"intro-text\",children:[Object(k.jsx)(\"h4\",{children:\"AlgoTrade\"}),Object(k.jsx)(\"p\",{className:\"intro-text-p\",children:\"Simple, yet powerful tool to run backtests for algorithmic trading strategies and to visualize stock market data.\"})]}),Object(k.jsx)(\"img\",{className:\"img-chart\",src:\"chart-img.png\",alt:\"\"})]}),Object(k.jsxs)(\"div\",{className:\"main-box\",children:[Object(k.jsx)(\"img\",{className:\"img-backtest\",src:\"backtest-img.png\",alt:\"\"}),Object(k.jsxs)(\"div\",{className:\"howto-text\",children:[Object(k.jsx)(\"h4\",{children:\"How Does it Work?\"}),Object(k.jsxs)(\"p\",{children:[Object(k.jsx)(\"br\",{}),\"Search a US listed stock ticker and select a company to visualize their historic stock market data on an interactive candlestick chart.\",Object(k.jsx)(\"br\",{}),Object(k.jsx)(\"br\",{}),\"Select a\",\" \",Object(k.jsx)(\"a\",{className:\"\",href:\"https://www.investopedia.com/terms/t/technicalindicator.asp\",rel:\"noreferrer\",target:\"_blank\",children:\"technical indicator\"}),\" \",\"to create a customizable\",\" \",Object(k.jsx)(\"a\",{className:\"\",href:\"https://www.investopedia.com/terms/b/backtesting.asp\",rel:\"noreferrer\",target:\"_blank\",children:\"backtest\"}),\" \",\"to visualize the results of your strategy.\",Object(k.jsx)(\"br\",{}),Object(k.jsx)(\"br\",{}),\"Create multiple \",\" \",Object(k.jsx)(\"a\",{className:\"\",href:\"https://www.investopedia.com/terms/b/backtesting.asp\",rel:\"noreferrer\",target:\"_blank\",children:\"backtests\"}),\" \",\"and compare your algorithms using different indicators across different stocks.\"]})]})]})]})},H=g.a.div(d||(d=Object(f.a)([\"\\n  margin: 0% 3% 0% 3%;\\n  padding: 1%;\\n\\n  background: #373641;\\n  border-radius: 10px;\\n\\n  h3{\\n    font-family: 'Lato', sans-serif; \\n    font-size: 28px; \\n    font-weight: 300; \\n    text-align: left;\\n    color: #dedfe4;\\n  }\\n\\n\"]))),q=function(){var e=Object(h.useContext)(_),t=e.backtests;return e.current_symbol.length>0?Object(k.jsxs)(k.Fragment,{children:[t.length>0?Object(k.jsxs)(H,{children:[Object(k.jsx)(\"h3\",{children:\"Backtest Strategy Testing\"}),t.map((function(e){return Object(k.jsx)(Y,{backtest:e},e.id)}))]}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)(U,{})]}):Object(k.jsx)(U,{})},K=n(34),$=g.a.div(p||(p=Object(f.a)([\"\\n  margin: 3% 3% 0% 3%;\\n  padding: 1%;\\n\\n  h3{\\n    font-family: 'Lato', sans-serif; \\n    font-size: 28px; \\n    font-weight: 300; \\n    text-align: left;\\n    color: #dedfe4;\\n  }\\n  \\n  .btn {\\n    font-size: 80%;\\n    font-family: 'Lato', sans-serif; \\n    text-align: center;\\n    justify-content: center;\\n    align-items: center;\\n    position: relative;\\n    color: white;\\n    width: 300px;\\n    height: 70px;\\n    padding: none;\\n    margin: 1%;\\n    padding: 0% 1%;\\n    transition: all 0.3s;\\n    span {\\n      transition: all 0.3s;\\n      tranform: scale(1, 1);\\n    }\\n  }\\n    \\n  .btn::before, .btn::after {\\n    content: '';\\n    position: absolute;\\n    transition: all 0.3s;\\n    bottom: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 1;\\n  }\\n\\n  .btn-one::before {\\n    left: 4px;\\n    z-index: 1;\\n    \\n    opacity: 0;\\n    background: rgba(255, 255, 255, 0.1);\\n    transform: scale(0.1, 1);\\n  }\\n\\n  .btn-one:hover::before {\\n    opacity: 1;\\n    transform: scale(1, 1);\\n  }\\n\\n  .btn-one::after {\\n    transition: all 0.3s;\\n    border: 1px solid rgba(255, 255, 255, 0.5);\\n  }\\n\\n  .btn-one:hover::after {\\n    transform: scale(1, .1);\\n    opacity: 0;\\n  }\\n  .btn-text{\\n    width:90%;\\n    color: #dedfe4;\\n    display:inline;\\n  }\\n  .plus-icon{\\n    filter: invert(1);\\n    width: 8%;\\n    vertical-align: -30%;\\n    margin-right: 3%;\\n  }\\n\\n  background: #373641;\\n  border-radius: 10px;\\n\\n  /* Tooltips */\\n\\n  [data-tooltip] {\\n    position: relative;\\n    z-index: 10;\\n  }\\n  \\n  /* Positioning and visibility settings of the tooltip */\\n  [data-tooltip]:before,\\n  [data-tooltip]:after {\\n    position: absolute;\\n    visibility: hidden;\\n    opacity: 0;\\n    left: 50%;\\n    bottom: calc(100% + 5px); /* 5px is the size of the arrow */\\n    pointer-events: none;\\n    transition: 0.2s;\\n    will-change: transform;\\n  }\\n  \\n  /* The actual tooltip with a dynamic width */\\n  [data-tooltip]:before {\\n    content: attr(data-tooltip);\\n    padding: 10px 18px;\\n    min-width: 50px;\\n    max-width: 300px;\\n    width: max-content;\\n    width: -moz-max-content;\\n    border-radius: 6px;\\n    font-size: 14px;\\n    background-color: rgba(59, 72, 80, 0.9);\\n    background-image: linear-gradient(30deg,\\n      rgba(59, 72, 80, 0.44),\\n      rgba(59, 68, 75, 0.44),\\n      rgba(60, 82, 88, 0.44));\\n    box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.2);\\n    color: #fff;\\n    text-align: center;\\n    white-space: pre-wrap;\\n    transform: translate(-50%, -5px) scale(0.5);\\n  }\\n  \\n  /* Tooltip arrow */\\n  [data-tooltip]:after {\\n    content: '';\\n    border-style: solid;\\n    border-width: 5px 5px 0px 5px; /* CSS triangle */\\n    border-color: rgba(55, 64, 70, 0.9) transparent transparent transparent;\\n    transition-duration: 0s; /* If the mouse leaves the element, \\n                                the transition effects for the \\n                                tooltip arrow are \\\"turned off\\\" */\\n    transform-origin: top;   /* Orientation setting for the\\n                                slide-down effect */\\n    transform: translateX(-50%) scaleY(0);\\n  }\\n  \\n  /* Tooltip becomes visible at hover */\\n  [data-tooltip]:hover:before,\\n  [data-tooltip]:hover:after {\\n    visibility: visible;\\n    opacity: 1;\\n  }\\n  /* Scales from 0.5 to 1 -> grow effect */\\n  [data-tooltip]:hover:before {\\n    transition-delay: 0.3s;\\n    transform: translate(-50%, -5px) scale(1);\\n  }\\n  /* \\n    Arrow slide down effect only on mouseenter (NOT on mouseleave)\\n  */\\n  [data-tooltip]:hover:after {\\n    transition-delay: 0.5s; /* Starting after the grow effect */\\n    transition-duration: 0.2s;\\n    transform: translateX(-50%) scaleY(1);\\n  }\\n  /* End of tooltips*/\\n\"]))),J=function(){var e=Object(h.useContext)(_),t=e.addBacktest,n=e.current_symbol,a=function(e){var n={id:Object(K.a)(),indicator:e};t(n)};return n.length>0?Object(k.jsxs)($,{children:[Object(k.jsx)(\"h3\",{children:\"Select Technical Indicator(s)\"}),Object(k.jsxs)(\"button\",{className:\"btn btn-one\",onClick:function(){return a(\"RSI\")},children:[Object(k.jsx)(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),Object(k.jsx)(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The relative strength index (RSI) is a momentum indicator used to evaluate overbought or oversold conditions. The RSI is displayed as an oscillator and can have a reading from 0 to 100.\",children:\"Relative Strength Index (RSI)\"})]}),Object(k.jsxs)(\"button\",{className:\"btn btn-one\",onClick:function(){return a(\"EMA\")},children:[Object(k.jsx)(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),Object(k.jsx)(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The expnential moving average (EMA) is a moving average that places a greater weight and significance on the most recent data points.\",children:\"Exponential Moving Average (EMA)\"})]}),Object(k.jsxs)(\"button\",{className:\"btn btn-one\",onClick:function(){return a(\"SMA\")},children:[Object(k.jsx)(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),Object(k.jsx)(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The simple moving average (SMA) calculates the average of a selected range of prices by the number of periods in that range.\",children:\"Simple Moving Average (SMA)\"})]}),Object(k.jsxs)(\"button\",{className:\"btn btn-one\",onClick:function(){return a(\"BBANDS\")},children:[Object(k.jsx)(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),Object(k.jsx)(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The Bollinger Bands are defined by a set of trendlines plotted two standard deviations (positively and negatively) away from a simple moving average (SMA) of a security's price, which can be adjusted to user preferences.\",children:\"Bollinger Bands (BB)\"})]})]}):Object(k.jsx)(k.Fragment,{})},Q=n(8),G=n.n(Q),W=function(e){var t=e.data,n=e.x,a=e.candle_width,r=e.pixelFor,i=t.close>t.open,o=r(i?t.close:t.open),s=r(i?t.open:t.close),c=s-o,l=r(t.high),d=r(t.low);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"rect\",{x:n-a/2,y:o,width:a,height:t.open===t.close?1:Math.abs(c),className:G()({candle:!0,up:i,down:!i})}),Object(k.jsx)(\"line\",{className:G()({wick:!0,top:!0,up:i,down:!i}),x1:n,y1:o,x2:n,y2:l}),Object(k.jsx)(\"line\",{className:G()({wick:!0,bottom:!0,up:i,down:!i}),x1:n,y1:s,x2:n,y2:d})]})},Z=function(e){var t=e.x,n=e.y,a=e.chart_dims;return t+n===0?Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"line\",{x1:0,y1:n,x2:1.025*a.pixel_width,y2:n,className:G()({cross_hair:!0,horz:!0})}),Object(k.jsx)(\"line\",{x1:t,y1:0,x2:t,y2:a.pixel_height,className:G()({cross_hair:!0,vert:!0})})]})},ee=g.a.div(b||(b=Object(f.a)([\"\\n  .caret{\\n    font-size: 65%;\\n  }\\n\\n  .priceChanges{\\n    font-size: 80%;\\n  }\\n\"]))),te=function(e){var t=e.data,n=e.graph_type,a=e.width,r=e.height,i=Object(h.useState)({x:-50,y:-50}),o=Object(j.a)(i,2),s=o[0],c=o[1],l=1.15*Math.max.apply(Math,t.map((function(e){return+e.high}))),d=.95*Math.min.apply(Math,t.map((function(e){return+e.low}))),p=Math.floor(a/t.length*.7),b={pixel_width:a,pixel_height:r,dollar_high:l,dollar_low:d,dollar_delta:l-d},u=function(e){var t=Math.abs(e-b.pixel_height)/b.pixel_height*b.dollar_delta+b.dollar_low;return e>0?t.toFixed(2):\"-\"},m=function(e){return e<=0||e>=b.pixel_width?\"-\":t[Math.floor(e/b.pixel_width*t.length)]},x=function(e){if(e<=0||e>=b.pixel_width)return\"\";var n=t[Math.floor(e/b.pixel_width*t.length)],a=100*(n.close/n.open-1);return(a>=0?\"+\":\"-\")+Math.abs(a).toFixed(2)},f=function(e){return-1*((e-b.dollar_low)/b.dollar_delta*b.pixel_height-b.pixel_height)},g=function(){switch(n){case\"day\":return\"Yesterday\";case\"week\":return\"Past Week\";case\"month\":return\"Past Month\";case\"quarter\":return\"Past 3 Months\";case\"year\":return\"Past Year\";default:return\"Error chart.js\"}};return Object(k.jsx)(ee,{children:Object(k.jsxs)(\"svg\",{width:1.025*a,height:r,className:\"chart\",onMouseMove:function(e){c({x:e.nativeEvent.x-Math.round(e.currentTarget.getBoundingClientRect().left)-p/2,y:e.nativeEvent.y-Math.round(e.currentTarget.getBoundingClientRect().top)})},onClick:function(e){console.log(\"Click at \".concat(e.nativeEvent.offsetX,\", \").concat(e.nativeEvent.offsetY))},onMouseLeave:function(){c({x:-50,y:-50})},children:[t.map((function(e,n){var r=a/t.length*(n+1);return Object(k.jsx)(W,{data:e,x:r,candle_width:p,pixelFor:f},n)})),Object(k.jsx)(Z,{x:s.x+p/2,y:s.y,chart_dims:b}),s.x>0&&s.x<=a?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(\"rect\",{x:1.025*a-8.2*(1+u(s.y).length),y:s.y-12,width:8.2*(1+u(s.y).length),height:\"24\",fill:\"gray\",rx:\"9\",ry:\"9\"}),Object(k.jsxs)(\"text\",{x:5+1.025*a-8*(1+u(s.y).length),y:s.y+5,fill:\"white\",fontSize:\"12\",children:[\"$\",u(s.y)]}),Object(k.jsxs)(\"text\",{x:\"16\",y:\"20\",fontSize:\"12\",children:[Object(k.jsx)(\"tspan\",{fill:\"#898996\",children:\"Open\"}),\" \",Object(k.jsxs)(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",m(s.x).open,\"  \"]}),Object(k.jsx)(\"tspan\",{fill:\"#898996\",children:\"High\"}),\" \",Object(k.jsxs)(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",m(s.x).high]})]}),Object(k.jsxs)(\"text\",{x:\"16\",y:\"40\",fontSize:\"12\",children:[Object(k.jsx)(\"tspan\",{fill:\"#898996\",children:\"Close\"}),\" \",Object(k.jsxs)(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",m(s.x).close,\"  \"]}),Object(k.jsx)(\"tspan\",{fill:\"#898996\",children:\"Low\"}),\" \",Object(k.jsxs)(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",m(s.x).low]})]}),Object(k.jsxs)(\"text\",{x:\"16\",y:\"59\",fontSize:\"12\",children:[Object(k.jsx)(\"tspan\",{fill:\"#898996\",children:\"Volume\"}),\" \",Object(k.jsxs)(\"tspan\",{fill:\"#dedfe4\",children:[s.x>0?(m(s.x).volume/1e3).toFixed(2)+\"K\":\"\",\"  \"]}),Object(k.jsx)(\"tspan\",{fill:\"#898996\",children:\"Change\"}),\" \",Object(k.jsxs)(\"tspan\",{fill:x(s.x)>=0?\"#81dfc4\":\"#d75b6d\",children:[x(s.x),\"%\"]})]}),Object(k.jsx)(\"text\",{x:\"16\",y:\"85\",fill:\"#898996\",fontSize:\"20\",children:function(e){if(!e)return\"\";var t=e.substring(2,4),n=parseInt(e.substring(5,7),10),a=parseInt(e.substring(8,10),10);return 10===e.length?n+\"/\"+a+\"/\"+t:n+\"/\"+a+\"/\"+t+\" \"+parseInt(e.substring(11,13),10)+\":\"+e.substring(14,16)+\" EST\"}(m(s.x).xAxis)})]}):Object(k.jsx)(\"text\",{x:\"16\",y:\"40\",fontSize:\"25\",children:function(){if(t.length<3)return Object(k.jsx)(k.Fragment,{});var e=Object(k.jsx)(\"tspan\",{fill:\"#898996\",children:g()}),n=100*(t[t.length-1].close/t[0].open-1),a=t[t.length-1].close-t[0].open;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(\"tspan\",{className:\"\",fill:\"#dedfe4\",children:[\"$\",t[t.length-1].close,\" \"]}),Object(k.jsxs)(\"tspan\",{className:\"caret\",fill:a>=0?\"#81dfc4\":\"#d75b6d\",children:[a>=0?\"\\u25b2\":\"\\u25bc\",\" \"]}),Object(k.jsxs)(\"tspan\",{className:\"priceChanges\",fill:a>=0?\"#81dfc4\":\"#d75b6d\",children:[\" $\",Math.abs(a).toFixed(2),\" (\",n.toFixed(2),\"%) \"]}),e]})}()})]})})},ne=(n(31),g.a.div(u||(u=Object(f.a)([\"\\n\\n  .chart-info-area{\\n    margin: 0 16% 0 16%;\\n    padding-top: 120px;\\n  }\\n\\n  .stock-info{\\n    display: flex;\\n    align-items: center;\\n    width: 110.5%;\\n    margin: 2% -5%;\\n    padding: 20px 50px 0px 50px;\\n    color: #dedfe4;\\n    background-color: transparent;//#2e4033;\\n    border-radius: 10px;\\n    font-family: 'Source Sans Pro', arial, sans-serif;\\n    font-size: 16px;\\n    font-weight: 200;\\n    box-shadow: rgba(0, 0, 0, 0.4) 0px 5px 15px;\\n\\n    \\n    @media only screen and (max-width: 768px) {\\n      padding: 2%;\\n      font-size: 75%;\\n    }\\n\\n    &-ticker{\\n      text-align: left;\\n      float: left;\\n      width: 33.33333%;\\n    }\\n    &-company{\\n      text-align: center;\\n      float: left;\\n      width: 33.33333%;\\n    }\\n    &-updated{\\n      text-align: right;\\n      float:left;\\n      width: 33.33333%;\\n    }\\n  }\\n\\n  .chart-buttons{\\n    margin: 5px 0 0 16%;\\n  }\\n  .chart-button{\\n    color: #dedfe4;\\n    font-size: 16px;\\n    padding: 5px 15px;\\n    background-color: transparent;\\n    margin: 0 10px;\\n    border: none;\\n    border-radius: 10px;\\n\\n    &:hover,&:focus {\\n        background: #101010;\\n        outline: none;\\n        box-shadow: rgba(0, 0, 0, 0.4) 0px 3px 10px;\\n    }\\n  }\\n\"]))));var ae,re=function(){var e=Object(h.useContext)(_),t=e.graphData_AV_API,n=e.graphSymbol,a=e.current_symbol,r=e.current_company,i=e.graph_type,o=function(){var e=Object(h.useState)({width:void 0,height:void 0}),t=Object(j.a)(e,2),n=t[0],a=t[1];return Object(h.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener(\"resize\",e),e(),function(){return window.removeEventListener(\"resize\",e)}}),[]),n}(),s=2*o.width/3,c=2*o.height/3,l=function(){var e,n=\"Time Series (Daily)\"===(e=t[\"Time Series (15min)\"]?\"Time Series (15min)\":t[\"Time Series (60min)\"]?\"Time Series (60min)\":\"Time Series (Daily)\"),a=1,r=[],o=0,s=0,c=\"\",l=!1;for(var d in t[e]){if(c!==d.substr(0,10)){switch(c=d.substr(0,10),s++,i){case\"day\":s>1&&(l=!0);break;case\"week\":s>5&&(l=!0);break;case\"month\":s>20&&(l=!0);break;case\"quarter\":s>60&&(l=!0);break;case\"year\":s>253&&(l=!0)}if(l)break}var p=+t[e][d][\"1. open\"]===+t[e][d][\"4. close\"]?.001:0;r.push({time:o++,xAxis:d,open:(+t[e][d][\"1. open\"]/a).toFixed(2),close:(p+t[e][d][\"4. close\"]/a).toFixed(2),high:(+t[e][d][\"2. high\"]/a).toFixed(2),low:(+t[e][d][\"3. low\"]/a).toFixed(2),volume:+t[e][d][n?\"6. volume\":\"5. volume\"]}),n&&(a*=+t[e][d][\"8. split coefficient\"])}return r.reverse(),r},d=Object(h.useState)((function(){return l()})),p=Object(j.a)(d,2),b=p[0],u=p[1];Object(h.useEffect)((function(){a.length>0&&u(l())}),[i,a]);return a.length>0?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(ne,{children:[Object(k.jsxs)(\"div\",{className:\"chart-info-area\",children:[Object(k.jsxs)(\"div\",{className:\"stock-info\",children:[Object(k.jsxs)(\"p\",{className:\"stock-info-ticker\",children:[\"Ticker: \",a]}),Object(k.jsxs)(\"p\",{className:\"stock-info-company\",children:[\"Name: \",r]}),Object(k.jsxs)(\"p\",{className:\"stock-info-updated\",children:[\"Updated: \",function(e){if(!e)return\"error\";var t=e.substring(2,4),n=parseInt(e.substring(5,7),10),a=parseInt(e.substring(8,10),10);return 10===e.length?n+\"/\"+a+\"/\"+t:n+\"/\"+a+\"/\"+t+\" \"+parseInt(e.substring(11,13),10)+\":\"+e.substring(14,16)+\" EST\"}(t[\"Meta Data\"][\"3. Last Refreshed\"])]})]}),Object(k.jsx)(te,{data:b,graph_type:i,width:s,height:c})]}),Object(k.jsxs)(\"div\",{className:\"chart-buttons\",children:[Object(k.jsx)(\"button\",{className:\"chart-button\",onClick:function(){return n(a,r,\"day\",!1)},children:\"1D\"}),Object(k.jsx)(\"button\",{className:\"chart-button\",onClick:function(){return n(a,r,\"week\",!1)},children:\"1W\"}),Object(k.jsx)(\"button\",{className:\"chart-button\",onClick:function(){return n(a,r,\"month\",!1)},children:\"1M\"}),Object(k.jsx)(\"button\",{className:\"chart-button\",onClick:function(){return n(a,r,\"quarter\",!1)},children:\"3M\"}),Object(k.jsx)(\"button\",{className:\"chart-button\",onClick:function(){return n(a,r,\"year\",!1)},children:\"1Y\"})]})]})}):Object(k.jsx)(k.Fragment,{})},ie=(n(32),g.a.div(ae||(ae=Object(f.a)([\"\\n  background: #3d3d4a;\\n  margin-bottom: 0px;\\n  border-bottom: 1px solid transparent;\\n\"]))));var oe=function(){return Object(k.jsx)(A,{children:Object(k.jsxs)(ie,{children:[Object(k.jsx)(z,{}),Object(k.jsx)(re,{}),Object(k.jsx)(J,{}),Object(k.jsx)(q,{}),Object(k.jsx)(I,{})]})})};x.a.render(Object(k.jsx)(oe,{}),document.getElementById(\"root\"))}},[[33,1,2]]]);","name":"static/js/main.a36edf92.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","_templateObject","SearchResults_templateObject","Header_templateObject","Footer_templateObject","Trade_templateObject","Backtest_templateObject","Homepage_templateObject","BacktestList_templateObject","AddBacktest_templateObject","Chart_templateObject","GraphSection_templateObject","react","react_dom","react_dom_default","n","taggedTemplateLiteral","slicedToArray","styled_components_browser_esm","toConsumableArray","regeneratorRuntime","asyncToGenerator","objectSpread2","AppReducer","state","action","type","Object","backtests","filter","backtest","id","payload","concat","graphData_AV_API","symbol_list","current_symbol","cache_TSDA","current_company","cache_TS15min","cache_TS60min","graph_type","jsx_runtime","initialState","GlobalContext","GlobalState_GlobalProvider","_ref","children","_useReducer","_useReducer2","dispatch","_cache_TSDA_function","mark","_callee","data","wrap","_context","prev","next","Note","alert","stop","apply","arguments","_clearSearch","_callee2","searchInputClear","_context2","_stockSearch","_callee3","searchInput","response","new_symbol_list","_context3","fetch","text","sent","json","keys","bestMatches","forEach","e","new_symbol","symbol","name","reverse","_graphSymbol","_callee4","selectedSymbol","selectedCompany","graphType","doClearCache","function_API","outputSize","interval_API","cache_exists","_context4","t0","abrupt","window","scrollTo","Provider","value","deleteBacktest","addBacktest","clearSearch","_x2","stockSearch","_x3","graphSymbol","_x4","_x5","_x6","_x7","cache_TSDA_function","_x","CSS","div","SearchItem_SearchItem","mySymbol","console","log","className","onClick","SearchResults_CSS","SearchResults_SearchResults","_useState","_useState2","setSearch","_useContext","ref","wrapperRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","length","map","Header_CSS","Header_Header","href","rel","integrity","crossOrigin","src","alt","onSubmit","preventDefault","style","paddingLeft","placeholder","onChange","color","Footer_CSS","Footer_Footer","createForOfIteratorHelper","Trade_CSS","components_Trade","props","trade","buyDate","buyPrice","indicatorAtBuy","toFixed","sellDate","sellPrice","indicatorAtSell","numShares","profitUSD","profitPercent","candleLength","components_TradeList","tradeList","myId","Backtest_CSS","Backtest_Backtest","getTodayDate","Date","toISOString","slice","tradeListData","setTradeListData","_useState3","_useState4","seriesType","setSeriesType","_useState5","indicator","defaultTimePeriod","_useState6","timePeriod","setTimePeriod","_useState7","_useState8","stdDeviation","setStdDeviation","_useState9","setFullYear","getFullYear","_useState10","startDate","setStartDate","_useState11","_useState12","endDate","setEndDate","_useState13","_useState14","maxBags","setMaxBags","_useState15","_useState16","initalBalance","setInitialBalance","_useState17","_useState18","initalBuyType","setInitalBuyType","_useState19","_useState20","initalBuyAmount","setInitalBuyAmount","_useState21","_useState22","buyStrategyValue","setBuyStrategyValue","_useState23","_useState24","buyStrategyType","setBuyStrategyType","_useState25","_useState26","sellStrategyValue","setSellStrategyValue","dropdownItems","items","item","calcInitalBuy","buyType","buyAmount","currentBalance","curStockPrice","isBuyConditionMet","curIndicatorValue","getIndicatorJSON","finalizeTrade","myBag","candleCountSell","percentChange","numTrades","netBars","netSellVolume","_runBacktests","paperAPICall","pairSettings","stockPriceData","stockIndicatorData","optionalParameters","candleCount","bagList","startDateReached","lowestSellPrice","_iterator","_step","_step$value","key","newBagVolume","_i","_Object$entries","_Object$entries$_i","_key","newBagListKeys","_iterator2","_step2","_step2$value","_key2","didRun","entries","s","done","startPrice","endPrice","Math","min","err","f","t1","finish","holdReturn","profitPercentOnBalance","profitPercentOnTrades","avgBars","_onFocus","currentTarget","runBacktests","indicatorSettingDOM","buyStrategyDOM","immediatelyCalculate","onFocus","uglyDate","array","toString","split","shift","join","formatDate","tradeData","Homepage_CSS","Homepage_Homepage","BacktestList_CSS","BacktestList_BacktestList","v1","AddBacktest_CSS","AddBacktest_AddBacktest","newBacktest","classnames","classnames_default","chart_components_Candle","x","candle_width","pixelFor","up","close","open","bar_top","bar_bottom","bar_height","wick_top","high","wick_bottom","low","y","width","height","abs","candle","down","wick","top","x1","y1","x2","y2","bottom","chart_components_CrossHairs","chart_dims","pixel_width","cross_hair","horz","pixel_height","vert","Chart_CSS","chart_components_Chart","chart_width","chart_height","mouseCoords","setMouseCoords","dollar_high","max","bar","dollar_low","floor","dollar_delta","dollarAt","pixel","dollar","candleDataAt","candleChange","change","graphTypeStr","onMouseMove","nativeEvent","round","getBoundingClientRect","left","offsetX","offsetY","onMouseLeave","i","candle_x","fill","rx","ry","fontSize","dateString","myYear","substring","myMonth","parseInt","myDay","convertDate","englishStr","changePercent","changeUSD","mouseOffChartJSX","GraphSection_CSS","App_templateObject","GraphSection_GraphSection","myWindow","undefined","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","useWindowSize","processGraphData","time_series_type","time_series_isDaily","split_ratio","graphDataProcessed","date_counter","previous_date","stop_graphing","myDate","substr","flat_candle","time","xAxis","volume","setData","App_CSS","src_App","a","render","getElementById"],"sources":["static/js/main.a36edf92.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonptrade-analyzer-react\"] = this[\"webpackJsonptrade-analyzer-react\"] || []).push([[0],{\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js + 1 modules\nvar regeneratorRuntime = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/context/AppReducer.js\nvar AppReducer_logger=function logger(state,action){switch(action.type){case'DELETE_BACKTEST':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{backtests:state.backtests.filter(function(backtest){return backtest.id!==action.payload;})});case'ADD_BACKTEST':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{backtests:[action.payload].concat(Object(toConsumableArray[\"a\" /* default */])(state.backtests))});case'STOCK_SEARCH':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{graphData_AV_API:state.graphData_AV_API,symbol_list:action.payload,current_symbol:state.current_symbol});case'MAX_API':return Object(objectSpread2[\"a\" /* default */])({},state);case'FILL_CACHE_TSDA':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cache_TSDA:action.payload['Time Series (Daily)']?action.payload:state.cache_TSDA});case'DISPLAY_GRAPHS':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{graphData_AV_API:action.payload[1],symbol_list:[],current_symbol:action.payload[1]['Meta Data']['2. Symbol'],current_company:action.payload[2],cache_TSDA:action.payload[1]['Time Series (Daily)']?action.payload[1]:state.cache_TSDA,cache_TS15min:action.payload[1]['Time Series (15min)']?action.payload[1]:state.cache_TS15min,cache_TS60min:action.payload[1]['Time Series (60min)']?action.payload[1]:state.cache_TS60min,graph_type:action.payload[0]});default:return state;}};/* harmony default export */ var AppReducer = (AppReducer_logger);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/context/GlobalState.js\n// AlphaVantage API Key = CQ5JZQYM4DG0OODA\n// Initial state\nvar initialState={backtests:[],// Backtest list\nsymbol_list:[],// user input search results (1 API call)\ngraphData_AV_API:{},// graphs historical stock data (1 API call)\ncurrent_symbol:'',// current stock symbol being graphed\ncurrent_company:'',// current stock company name being graphed\ngraph_type:'',// tracks graph type for graphSection.js to know to add proper amount of candles to chart\ncache_TSDA:{},// cache AV_API for time series daily adjusted until user changes stock view(prevents unnecssary API calls)\ncache_TS15min:{},// cache AV_API for time series 15 min until user changes stock view(prevents unnecssary API calls)\ncache_TS60min:{}// cache AV_API for time series 60 min until user changes stock view(prevents unnecssary API calls)\n};// Create context\nvar GlobalContext=/*#__PURE__*/Object(react[\"createContext\"])(initialState);// Provider component\nvar GlobalState_GlobalProvider=function GlobalProvider(_ref){var children=_ref.children;var _useReducer=Object(react[\"useReducer\"])(AppReducer,initialState),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Actions\nfunction deleteBacktest(id){dispatch({type:'DELETE_BACKTEST',payload:id});}function addBacktest(backtest){dispatch({type:'ADD_BACKTEST',payload:backtest});}function cache_TSDA_function(_x){return _cache_TSDA_function.apply(this,arguments);}// User clicks outside search results\nfunction _cache_TSDA_function(){_cache_TSDA_function=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(data){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// If API limit: Alerts API limit reached, maintains current payload(stock data)\n// Else: update current payload\nif(data.Note){alert(\"MAX API CALLS. Please wait a minute for more. PeakTrades was built using Alpha Vantage's free API where the call frequency is 5 calls per minute.\");dispatch({type:'MAX_API',payload:data});}else{dispatch({type:'FILL_CACHE_TSDA',payload:data});}case 1:case\"end\":return _context.stop();}}},_callee);}));return _cache_TSDA_function.apply(this,arguments);}function clearSearch(_x2){return _clearSearch.apply(this,arguments);}// Updates search results from API when user searches for a stock\nfunction _clearSearch(){_clearSearch=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(searchInputClear){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:'STOCK_SEARCH',payload:[]});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return _clearSearch.apply(this,arguments);}function stockSearch(_x3){return _stockSearch.apply(this,arguments);}// Graphs API data based on user selected stock symbol\nfunction _stockSearch(){_stockSearch=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(searchInput){var response,data,new_symbol_list;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=\".concat(searchInput.text,\"&apikey=CQ5JZQYM4DG0OODA\"));case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;//create temp list\nnew_symbol_list=[];// If API limit: alerts, maintains current results(if any)\n// Else: updates search results display properly\nif(data.Note){alert(\"MAX API CALLS. Please wait a minute for more. However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");// Maintains current search results\ndispatch({type:'MAX_API',payload:new_symbol_list});}else{//iterate over all search results\nObject.keys(data.bestMatches).forEach(function(e){//filter non-US stocks, then add\nif(data.bestMatches[e][\"4. region\"]===\"United States\"){var new_symbol={symbol:data.bestMatches[e][\"1. symbol\"],name:data.bestMatches[e][\"2. name\"]};new_symbol_list=[new_symbol].concat(Object(toConsumableArray[\"a\" /* default */])(new_symbol_list));}});new_symbol_list.reverse();//update state of web app (official symbol_list)\ndispatch({type:'STOCK_SEARCH',payload:new_symbol_list});}case 8:case\"end\":return _context3.stop();}}},_callee3);}));return _stockSearch.apply(this,arguments);}function graphSymbol(_x4,_x5,_x6,_x7){return _graphSymbol.apply(this,arguments);}function _graphSymbol(){_graphSymbol=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee4(selectedSymbol,selectedCompany,graphType,doClearCache){var function_API,outputSize,interval_API,cache_exists,data,response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// Clear cache for new symbol search\nif(doClearCache){state.cache_TSDA={};state.cache_TS15min={};state.cache_TS60min={};}// Specific API call parameters\ninterval_API='';cache_exists=false;_context4.t0=graphType;_context4.next=_context4.t0==='day'?6:_context4.t0==='week'?8:10;break;case 6:if(state.cache_TS15min['Time Series (15min)']){cache_exists=true;data=state.cache_TS15min;}else{function_API='TIME_SERIES_INTRADAY';interval_API='&interval=15min';outputSize='compact';}return _context4.abrupt(\"break\",11);case 8:if(state.cache_TS60min['Time Series (60min)']){cache_exists=true;data=state.cache_TS60min;}else{function_API='TIME_SERIES_INTRADAY';interval_API='&interval=60min';outputSize='compact';}return _context4.abrupt(\"break\",11);case 10:if(state.cache_TSDA['Time Series (Daily)']){cache_exists=true;data=state.cache_TSDA;}else{function_API='TIME_SERIES_DAILY_ADJUSTED';outputSize='full';}case 11:if(cache_exists){_context4.next=18;break;}_context4.next=14;return fetch(\"https://www.alphavantage.co/query?function=\".concat(function_API,\"&symbol=\").concat(selectedSymbol).concat(interval_API,\"&outputsize=\").concat(outputSize,\"&apikey=CQ5JZQYM4DG0OODA\"));case 14:response=_context4.sent;_context4.next=17;return response.json();case 17:data=_context4.sent;case 18:// If API limit: Alerts API limit reached, maintains current payload(stock data)\n// Else: update current payload\nif(data.Note){alert(\"MAX API CALLS. Please wait a minute for more. However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");dispatch({type:'MAX_API',payload:[graphType,data]});}else if(data['Error Message']){alert(\"ERROR. This stock does not have valid data in the Alpha Vantage database.\");dispatch({type:'MAX_API',payload:[graphType,data]});}else{dispatch({type:'DISPLAY_GRAPHS',payload:[graphType,data,selectedCompany]});}// Scroll to top, makes sure user sees graph\nwindow.scrollTo(0,0);case 20:case\"end\":return _context4.stop();}}},_callee4);}));return _graphSymbol.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GlobalContext.Provider,{value:{backtests:state.backtests,symbol_list:state.symbol_list,graphData_AV_API:state.graphData_AV_API,current_symbol:state.current_symbol,current_company:state.current_company,cache_TSDA:state.cache_TSDA,cache_TS15min:state.cache_TS15min,cache_TS60min:state.cache_TS60min,graph_type:state.graph_type,deleteBacktest:deleteBacktest,addBacktest:addBacktest,clearSearch:clearSearch,stockSearch:stockSearch,graphSymbol:graphSymbol,cache_TSDA_function:cache_TSDA_function},children:children});};\n// CONCATENATED MODULE: ./src/components/SearchItem.js\nvar _templateObject;var CSS=styled_components_browser_esm[\"a\" /* default */].div(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: fit;\\n  background: transparent;\\n\\n  .search-item{\\n    width:100%;\\n    @media only screen and (max-width: 768px) {\\n      width: 200%;\\n    }\\n    border:none;\\n\\n    border-bottom: 1px solid black;\\n    background: #373641;\\n    padding: 16px;\\n    padding-bottom: 5px;\\n    font-size: 16px;\\n\\n    text-align: left;\\n    color: #dedfe4;\\n    text-transform: uppercase;\\n    font-weight: 420;\\n    letter-spacing: 1.5px;      \\n\\n    &:focus, &:hover{\\n      outline: none;\\n      background: #3d3d4a;\\n    }\\n  }\\n\\n  .company-name{\\n    color: #898996;\\n    text-transform: capitalize;\\n  }\\n\"])));//graphSymbol(mySymbol.symbol, 'day', true)\nvar SearchItem_SearchItem=function SearchItem(_ref){var mySymbol=_ref.mySymbol;var _useContext=Object(react[\"useContext\"])(GlobalContext),graphSymbol=_useContext.graphSymbol;console.log(mySymbol.symbol,mySymbol.name);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CSS,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"search-item\",onClick:function onClick(){return graphSymbol(mySymbol.symbol,mySymbol.name,'day',true);},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"(\",mySymbol.symbol,\")\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"company-name\",children:[\" \",mySymbol.name]})]})})})});};\n// CONCATENATED MODULE: ./src/components/SearchResults.js\nvar SearchResults_templateObject;var SearchResults_CSS=styled_components_browser_esm[\"a\" /* default */].div(SearchResults_templateObject||(SearchResults_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  z-index:2;\\n  width: 24%;\\n\\n\"])));var SearchResults_SearchResults=function SearchResults(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),text=_useState2[0],setSearch=_useState2[1];var _useContext=Object(react[\"useContext\"])(GlobalContext),symbol_list=_useContext.symbol_list,clearSearch=_useContext.clearSearch;// Hook that alerts clicks outside of the passed ref\nfunction useOutsideAlerter(ref){Object(react[\"useEffect\"])(function(){/**\n       * Alert if clicked on outside of element\n       */function handleClickOutside(event){if(ref.current&&!ref.current.contains(event.target)){// Code for user clicking outside search results\nsetSearch(\"\");clearSearch(text);}}// Bind the event listener\ndocument.addEventListener(\"mousedown\",handleClickOutside);return function(){// Unbind the event listener on clean up\ndocument.removeEventListener(\"mousedown\",handleClickOutside);};},[ref]);}// Declare ref(search results) so outside can be referenced\nvar wrapperRef=Object(react[\"useRef\"])(null);useOutsideAlerter(wrapperRef);return symbol_list.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-4\",ref:wrapperRef,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchResults_CSS,{children:symbol_list.map(function(mySymbol){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchItem_SearchItem,{mySymbol:mySymbol},mySymbol.symbol);})})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{});};\n// CONCATENATED MODULE: ./src/components/Header.js\nvar Header_templateObject;var Header_CSS=styled_components_browser_esm[\"a\" /* default */].div(Header_templateObject||(Header_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  *{\\n    font-family: 'Lato', sans-serif; \\n  }\\n\\n  .title{\\n    font-size: 28px; \\n    font-weight: 300; \\n    color: #dedfe4;\\n\\n    position: absolute;\\n    padding-left: 115px;\\n    top: 25px;\\n  }\\n  .search {\\n    &__container {\\n        width:55%;\\n        float:left;\\n        padding-left: 20%;\\n        padding-top: 0px;\\n    }\\n    \\n    &__title {\\n      font-size: 28px; \\n      font-weight: 300; \\n      text-align: left;\\n      color: #dedfe4;\\n\\n    }\\n    \\n    &__input {\\n        width: 100%;\\n        padding: 2.5% 4%;\\n\\n        background-color: transparent;\\n        transition: transform 250ms ease-in-out;\\n        font-size: 12px;\\n        line-height: 15px;\\n        \\n        color: #898996;\\n        text-transform: uppercase;\\n        font-weight: 520;\\n        letter-spacing: 1.5px;\\n        background-color: transparent;\\n \\n        background-image: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\\\");\\n        background-repeat: no-repeat;\\n        background-size: 18px 18px;\\n        background-position: 97% center;\\n        border-radius: 50px;\\n        border: 1px solid #4f4f62;\\n        transition: all 250ms ease-in-out;\\n        backface-visibility: hidden;\\n        transform-style: preserve-3d;\\n\\n        \\n        &::placeholder {\\n            color: #898996;\\n            text-transform: uppercase;\\n            font-weight: 520;\\n            letter-spacing: 1.5px;\\n        }\\n        \\n        &:hover,\\n        &:focus {\\n            padding: 12px 0;\\n            outline: 0;\\n            border: 1px solid transparent;\\n            border-bottom: 1px solid #4f4f62;\\n            border-radius: 0;\\n            background-position: 100% center;\\n        }\\n    }\\n  }\\n\\n  .logo-img{\\n    width: 115px;\\n    padding: 15px 24px;\\n  }\\n\\n  .credits{\\n    float:right;\\n    width: 15%;\\n    font-size: 15px;\\n    font-weight: 350;\\n    text-align: center;\\n    color: white;\\n    padding-top: 35px\\n  }\\n\\n  \\n  \\n  background: #32323b;\\n  .header{\\n    width:100%;\\n    height: 100px;\\n    z-index:99;\\n    position: fixed;\\n    background: #32323b;\\n  }\\n\\n  .search-credits{\\n    width:80%;\\n    float:right;\\n  }\\n\"])));var Header_Header=function Header(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),text=_useState2[0],setSearch=_useState2[1];var _useContext=Object(react[\"useContext\"])(GlobalContext),stockSearch=_useContext.stockSearch;//running search for stocks\nvar onSubmit=function onSubmit(e){e.preventDefault();var searchInput={text:text};if(!(searchInput.text.length===0))stockSearch(searchInput);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header_CSS,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"link\",{href:\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css\",rel:\"stylesheet\",integrity:\"sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1\",crossOrigin:\"anonymous\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"logo-img\",src:\"icons8-money-80.png\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"title\",children:\"AlgoTrade\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"search-credits\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"search__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"search__title\",style:{paddingLeft:80},children:\"Search Company:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"search__input\",type:\"text\",placeholder:\"Search Tickers...\",onChange:function onChange(e){return setSearch(e.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchResults_SearchResults,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"credits\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"\",href:\"https://www.linkedin.com/in/john-duan/\",rel:\"noreferrer\",target:\"_blank\",style:{color:\"#61dafb\"},children:\" By Han\"})})]})]})]});};\n// CONCATENATED MODULE: ./src/components/Footer.js\nvar Footer_templateObject;var Footer_CSS=styled_components_browser_esm[\"a\" /* default */].div(Footer_templateObject||(Footer_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n\\n  p{\\n    color: #898996;\\n    padding: 2% 2% 2% 0%;\\n    text-align: center;\\n  }\\n\\n  background: #373641;\\n\\n\"])));var Footer_Footer=function Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer_CSS,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"AlgoTrade is a personal project developed by Han using React and Alphavantage\\u2019s stock API.\"})});};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/components/Trade.js\nvar Trade_templateObject;var Trade_CSS=styled_components_browser_esm[\"a\" /* default */].div(Trade_templateObject||(Trade_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  \\n    .trade-card{\\n      margin-bottom: 10px;\\n      font-size: 12px;\\n      \\n      display:block;\\n      overflow:auto;\\n\\n      box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n      background: #3d3d4a;  \\n    }\\n    .trade-card-sub{\\n      float: left;\\n      width: 33.33%;\\n      padding: 1.25%;    \\n    }\\n    .result-item{\\n      border-bottom: 2px solid #6464a3;\\n      height: auto;\\n      margin-bottom: 4%;\\n      padding-bottom: 1%;\\n    }\\n    .result-title{\\n      text-align: left;\\n      color: #898996;\\n      font-size: 12px;\\n      width: 40%;\\n    }\\n    .result-output{\\n      text-align: right;\\n      color: #dedfe4;\\n      font-size: 14px;\\n      width: 60%;\\n    }\\n    .result-title-profit{\\n      text-align: left;\\n      color: #898996;\\n      font-size: 12px;\\n      width: 1%;\\n\\n    }\\n    .result-output-profit{\\n      text-align: right;\\n      color: #dedfe4;\\n      font-size: 14px;\\n      width: 99%;\\n\\n    }\\n  \"])));var Trade_Trade=function Trade(props){var trade=props.trade;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Trade_CSS,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"trade-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"trade-card-sub\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",children:\"Buy Date: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:trade.buyDate})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",children:\"Buy Price: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:trade.buyPrice})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",children:\"Indicator Value at Buy: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:trade.indicatorAtBuy.toFixed(2)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"trade-card-sub\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",children:\"Sell Date:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:trade.sellDate})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",children:\"Sell Price: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:trade.sellPrice})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",children:\"Indicator Value at Sell: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:trade.indicatorAtSell.toFixed(2)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"trade-card-sub\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Number of shares for trade.\",\"data-tooltip-location\":\"left\",children:\"Num of Shares:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"result-output\",children:[\" \",trade.numShares.toFixed(2)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title-profit\",\"data-tooltip\":\"Profit from this position.\",\"data-tooltip-location\":\"left\",children:\"Profit: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"result-output-profit\",children:[\"$\",trade.profitUSD.toFixed(2),\"(\",trade.profitPercent>0?\"+\":\"\",(trade.profitPercent*100).toFixed(2),\"%)\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Number of days between opening and closing this position.\",children:\" Num Candles in Trade: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:trade.candleLength})]})]})]})});};/* harmony default export */ var components_Trade = (Trade_Trade);\n// CONCATENATED MODULE: ./src/components/TradeList.js\nvar TradeList_TradeList=function TradeList(props){var tradeList=props.tradeList;var myId=0;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:tradeList.map(function(trade){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Trade,{trade:trade},myId++);})});};/* harmony default export */ var components_TradeList = (TradeList_TradeList);\n// CONCATENATED MODULE: ./src/components/Backtest.js\nvar Backtest_templateObject;//import { pairs } from 'd3';\nvar Backtest_CSS=styled_components_browser_esm[\"a\" /* default */].div(Backtest_templateObject||(Backtest_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  background: #3d3d4a;\\n  color: #898996;\\n  display:flex;\\n\\n  padding: 1%;\\n  margin: 0% 0% 1% 0%;\\n\\n  .settings{\\n    font-size: 16px;\\n    padding: 1%;\\n    width: 25%;\\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n  }\\n  .results-overview{\\n    padding: 1%;\\n    width: 24%;\\n    font-size: 16px;\\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n    margin: 0% 1%;\\n  }\\n  .list-of-trades{\\n    padding:1%;\\n    width: 50%;\\n    font-size: 16px;\\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\\n\\n  }\\n\\n\\n  h4{\\n    font-size: 180%;\\n    border-bottom: 4px solid #898996;\\n  }\\n\\n\\n\\n  /* left card CSS begin */\\n  .input-flex{\\n    display:flex;\\n    border: none;\\n    border-bottom: 2px solid #6464a3;\\n    background: transparent;//#eff1f2;\\n    color: #dedfe4;\\n    width: 75%;\\n    height: 2rem;\\n    font-size: 16px;\\n    padding-left: 0.5rem;\\n    padding-top: 0.325rem;\\n    padding-bottom: 0.325rem;\\n    margin-bottom: 0.425rem;\\n    \\n    &:focus, &:hover{\\n      outline: none;\\n      color: #373641;\\n      ::placeholder{\\n        color: #a5a5b0;\\n      }\\n      background: #dedfe4;\\n    }\\n    ::placeholder{\\n      color: #dedfe4;\\n    }\\n  }\\n\\n  .input-inline{\\n    display:inline;\\n    border: none;\\n    border-bottom: 2px solid #6464a3;\\n    background: transparent;//#eff1f2;\\n    color: #dedfe4;\\n    width:10%;\\n    height: 2rem;\\n    font-size: 16px;\\n    padding-left: 0.5rem;\\n    padding-top: 0.325rem;\\n    padding-bottom: 0.325rem;\\n    margin-bottom: 0.425rem;\\n    \\n    &:focus, &:hover{\\n      outline: none;\\n      color: #373641;\\n      ::placeholder{\\n        color: #a5a5b0;\\n      }\\n      background: #dedfe4;\\n    }\\n    ::placeholder{\\n      color: #dedfe4;\\n    }\\n  }\\n\\n  .input-label{\\n    color: #898996;\\n    font-size: 14px;\\n  }\\n\\n  .input-label-sub{\\n    color: #898996;\\n    font-style: italic;\\n    font-size: 80%;\\n    padding-left: 5%;\\n    margin-bottom: 2%;\\n  }\\n\\n  .input-select {\\n    display:flex;\\n    width: 75%;\\n    color: #dedfe4;\\n    border: none;\\n    border-bottom: 2px solid #6464a3;\\n    background: transparent;\\n    height: 2rem;\\n    font-size: 16px;\\n    padding-left: 0.5rem;\\n    margin-bottom: 0.425rem;\\n\\n    &:focus, &:hover{\\n      outline: none;\\n      color: #373641;\\n      background: #dedfe4;\\n    }\\n  }\\n\\n\\n  .calc-button {\\n    display: block;\\n    cursor: pointer;\\n    outline: none;\\n    border: none;\\n    background-color: #dedfe4;\\n    width: 200px;\\n    height: 35px;\\n    border-radius: 30px;\\n    font-size: 18px;\\n    font-weight: 600;\\n    color: #373641;\\n    background-size: 100% 100%;\\n    box-shadow: 0 0 0 1px black inset;\\n    margin: 1%;\\n    margin-top: 3%;\\n\\n    @media only screen and (max-width: 968px) {\\n      width: auto;\\n    }\\n  }\\n  \\n  .calc-button:hover {\\n    background-image: linear-gradient(\\n      145deg,\\n      transparent 10%,\\n      #89d47f 10% 20%,\\n      transparent 20% 30%,\\n      #89d47f 30% 40%,\\n      transparent 40% 50%,\\n      #89d47f 50% 60%,\\n      transparent 60% 70%,\\n      #89d47f 70% 80%,\\n      transparent 80% 90%,\\n      #89d47f 90% 100%\\n    );\\n    animation: background 6s linear infinite;\\n\\n\\n    @media only screen and (max-width: 968px) {\\n      width: auto;\\n      color: #52515c;\\n      background-color: #ebebeb;\\n      background-image: none;\\n    }\\n  }\\n\\n  .del-button {\\n    display: block;\\n    cursor: pointer;\\n    outline: none;\\n    border: none;\\n    background-color: #dedfe4;\\n    width: 200px;\\n    height: 35px;\\n    border-radius: 30px;\\n    font-size: 18px;\\n    font-weight: 600;\\n    color: #373641;\\n    background-size: 100% 100%;\\n    box-shadow: 0 0 0 1px black inset;\\n    margin: 1%;\\n    \\n    margin-top: 3%;@media only screen and (max-width: 968px) {\\n      width: auto;\\n    }\\n  }\\n  \\n  .del-button:hover {\\n    background-image: linear-gradient(\\n      145deg,\\n      transparent 10%,\\n      #d4847f 10% 20%,\\n      transparent 20% 30%,\\n      #d4847f 30% 40%,\\n      transparent 40% 50%,\\n      #d4847f 50% 60%,\\n      transparent 60% 70%,\\n      #d4847f 70% 80%,\\n      transparent 80% 90%,\\n      #d4847f 90% 100%\\n    );\\n    animation: background 6s linear infinite;\\n    @media only screen and (max-width: 968px) {\\n      width: auto;\\n      color: #52515c;\\n      background-color: #ebebeb;\\n      background-image: none;\\n    }\\n  }\\n  \\n  @keyframes background {\\n    0% {\\n      background-position: 0 0;\\n    }\\n    100% {\\n      background-position: 400px 0;\\n    }\\n  }\\n  /* left card CSS end */\\n  /* middle card CSS begin */\\n  .result-item{\\n    border-bottom: 2px solid #6464a3;\\n    height: auto;\\n    margin-bottom: 4%;\\n    padding-bottom: 1%;\\n  }\\n  .result-title{\\n    text-align: left;\\n    color: #898996;\\n    font-size: 14px;\\n    width: 50%;\\n  }\\n  .result-output{\\n    text-align: right;\\n    color: #dedfe4;\\n    font-size: 16px;\\n    width: 50%;\\n  }\\n\\n  .conclusion-title{\\n    text-align: left;\\n    color: #898996;\\n    font-size: 14px;\\n    width: 35%;\\n  }\\n  .backtest-won{\\n    text-align: right;\\n    font-size: 16px;\\n    width: 65%;\\n\\n    color: #81dfc4;\\n  }\\n\\n  .backtest-lost{\\n    text-align: right;\\n    font-size: 16px;\\n    width: 65%;\\n\\n    color: #d75b6d;\\n  }\\n\\n  .backtest-null{\\n    text-align: right;\\n    font-size: 16px;\\n    width: 65%;\\n\\n    color: #dedfe4;\\n  }\\n  /* middle card CSS end */\\n  /* right card CSS begin */\\n  .trades-scroll{\\n    font-size: 12px;\\n    background-color: #373641;\\n    padding: 1% 3%;\\n    width:auto;\\n    overflow-y:auto;\\n    overflow-x:clip;\\n    height: 750px;\\n  }\\n\\n  /* right card CSS end */\\n\\n  /* Tooltip begin */\\n  [data-tooltip] {\\n    position: relative;\\n    z-index: 10;\\n  }\\n\\n  /* Positioning and visibility settings of the tooltip */\\n  [data-tooltip]:before,\\n  [data-tooltip]:after {\\n    position: absolute;\\n    visibility: hidden;\\n    opacity: 0;\\n    left: 50%;\\n    bottom: calc(100% + 5px); /* 5px is the size of the arrow */\\n    pointer-events: none;\\n    transition: 0.2s;\\n    will-change: transform;\\n  }\\n\\n  /* The actual tooltip with a dynamic width */\\n  [data-tooltip]:before {\\n    content: attr(data-tooltip);\\n    padding: 10px 18px;\\n    min-width: 50px;\\n    max-width: 300px;\\n    width: max-content;\\n    width: -moz-max-content;\\n    border-radius: 6px;\\n    font-size: 14px;\\n    background-color: rgba(59, 72, 80, 0.9);\\n    background-image: linear-gradient(30deg,\\n      rgba(59, 72, 80, 0.44),\\n      rgba(59, 68, 75, 0.44),\\n      rgba(60, 82, 88, 0.44));\\n    box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.2);\\n    color: #fff;\\n    text-align: center;\\n    white-space: pre-wrap;\\n    transform: translate(-50%, -5px) scale(0.5);\\n  }\\n\\n  /* Tooltip arrow */\\n  [data-tooltip]:after {\\n    content: '';\\n    border-style: solid;\\n    border-width: 5px 5px 0px 5px; /* CSS triangle */\\n    border-color: rgba(55, 64, 70, 0.9) transparent transparent transparent;\\n    transition-duration: 0s; /* If the mouse leaves the element, \\n                                the transition effects for the \\n                                tooltip arrow are \\\"turned off\\\" */\\n    transform-origin: top;   /* Orientation setting for the\\n                                slide-down effect */\\n    transform: translateX(-50%) scaleY(0);\\n  }\\n\\n  /* Tooltip becomes visible at hover */\\n  [data-tooltip]:hover:before,\\n  [data-tooltip]:hover:after {\\n    visibility: visible;\\n    opacity: 1;\\n  }\\n  /* Scales from 0.5 to 1 -> grow effect */\\n  [data-tooltip]:hover:before {\\n    transition-delay: 0.3s;\\n    transform: translate(-50%, -5px) scale(1);\\n  }\\n  /* \\n    Arrow slide down effect only on mouseenter (NOT on mouseleave)\\n  */\\n  [data-tooltip]:hover:after {\\n    transition-delay: 0.5s; /* Starting after the grow effect */\\n    transition-duration: 0.2s;\\n    transform: translateX(-50%) scaleY(1);\\n  }\\n\\n  /* LEFT */\\n  /* Tooltip + arrow */\\n  [data-tooltip-location=\\\"left\\\"]:before,\\n  [data-tooltip-location=\\\"left\\\"]:after {\\n    left: auto;\\n    right: calc(100% + 5px);\\n    bottom: 50%;\\n  }\\n\\n  /* Tooltip */\\n  [data-tooltip-location=\\\"left\\\"]:before {\\n    transform: translate(-5px, 50%) scale(0.5);\\n  }\\n  [data-tooltip-location=\\\"left\\\"]:hover:before {\\n    transform: translate(-5px, 50%) scale(1);\\n  }\\n\\n  /* Arrow */\\n  [data-tooltip-location=\\\"left\\\"]:after {\\n    border-width: 5px 0px 5px 5px;\\n    border-color: transparent transparent transparent rgba(55, 64, 70, 0.9);\\n    transform-origin: left;\\n    transform: translateY(50%) scaleX(0);\\n  }\\n  [data-tooltip-location=\\\"left\\\"]:hover:after {\\n    transform: translateY(50%) scaleX(1);\\n  }\\n\\n\\n\\n  /* RIGHT */\\n  [data-tooltip-location=\\\"right\\\"]:before,\\n  [data-tooltip-location=\\\"right\\\"]:after {\\n    left: calc(100% + 5px);\\n    bottom: 50%;\\n  }\\n\\n  [data-tooltip-location=\\\"right\\\"]:before {\\n    transform: translate(5px, 50%) scale(0.5);\\n  }\\n  [data-tooltip-location=\\\"right\\\"]:hover:before {\\n    transform: translate(5px, 50%) scale(1);\\n  }\\n\\n  [data-tooltip-location=\\\"right\\\"]:after {\\n    border-width: 5px 5px 5px 0px;\\n    border-color: transparent rgba(55, 64, 70, 0.9) transparent transparent;\\n    transform-origin: right;\\n    transform: translateY(50%) scaleX(0);\\n  }\\n  [data-tooltip-location=\\\"right\\\"]:hover:after {\\n    transform: translateY(50%) scaleX(1);\\n  }\\n\\n\\n\\n  /* BOTTOM */\\n  [data-tooltip-location=\\\"bottom\\\"]:before,\\n  [data-tooltip-location=\\\"bottom\\\"]:after {\\n    top: calc(100% + 5px);\\n    bottom: auto;\\n  }\\n\\n  [data-tooltip-location=\\\"bottom\\\"]:before {\\n    transform: translate(-50%, 5px) scale(0.5);\\n  }\\n  [data-tooltip-location=\\\"bottom\\\"]:hover:before {\\n    transform: translate(-50%, 5px) scale(1);\\n  }\\n\\n  [data-tooltip-location=\\\"bottom\\\"]:after {\\n    border-width: 0px 5px 5px 5px;\\n    border-color: transparent transparent rgba(55, 64, 70, 0.9) transparent;\\n    transform-origin: bottom;\\n  }\\n\\n  /* End of tooltips */\\n\\n\"])));var Backtest_Backtest=function Backtest(_ref){var backtest=_ref.backtest;var defaultTimePeriod=function defaultTimePeriod(){switch(backtest.indicator){case'RSI':return 14;case'EMA':return 9;case'SMA':return 9;case'BB':return 20;default:return 24;}};var defaultBuyStrat=function defaultBuyStrat(){switch(backtest.indicator){case'RSI':return 30;case'EMA':return-3;case'SMA':return-3;case'BB':return-3;default:return-3;}};// Returns today date in YYYY-MM-DD formate\nvar getTodayDate=function getTodayDate(){return new Date().toISOString().slice(0,10);};// Returns 100 years ago today date in YYYY-MM-DD formate\nvar getOldDate=function getOldDate(){var myDate=new Date(new Date().setFullYear(new Date().getFullYear()-100));return myDate.toISOString().slice(0,10);};// Converts YYYY-MM-DD to DD/MM/YYYY\nvar formatDate=function formatDate(uglyDate){var array=(uglyDate||'').toString().split(/-/g);array.push(array.shift());return array.join('/')||null;};var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),tradeListData=_useState2[0],setTradeListData=_useState2[1];var _useState3=Object(react[\"useState\"])('1. open'),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),seriesType=_useState4[0],setSeriesType=_useState4[1];var _useState5=Object(react[\"useState\"])(defaultTimePeriod()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),timePeriod=_useState6[0],setTimePeriod=_useState6[1];var _useState7=Object(react[\"useState\"])(2),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),stdDeviation=_useState8[0],setStdDeviation=_useState8[1];var _useState9=Object(react[\"useState\"])(getOldDate()),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),startDate=_useState10[0],setStartDate=_useState10[1];var _useState11=Object(react[\"useState\"])(getTodayDate()),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),endDate=_useState12[0],setEndDate=_useState12[1];var _useState13=Object(react[\"useState\"])(15),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),maxBags=_useState14[0],setMaxBags=_useState14[1];var _useState15=Object(react[\"useState\"])(3000),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),initalBalance=_useState16[0],setInitialBalance=_useState16[1];var _useState17=Object(react[\"useState\"])('usd'),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),initalBuyType=_useState18[0],setInitalBuyType=_useState18[1];var _useState19=Object(react[\"useState\"])(100),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),initalBuyAmount=_useState20[0],setInitalBuyAmount=_useState20[1];var _useState21=Object(react[\"useState\"])(defaultBuyStrat()),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),buyStrategyValue=_useState22[0],setBuyStrategyValue=_useState22[1];var _useState23=Object(react[\"useState\"])('Real Middle Band'),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),buyStrategyType=_useState24[0],setBuyStrategyType=_useState24[1];// Used for Bollinger upper/middle/lower\nvar _useState25=Object(react[\"useState\"])(1),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),sellStrategyValue=_useState26[0],setSellStrategyValue=_useState26[1];var _useContext=Object(react[\"useContext\"])(GlobalContext),deleteBacktest=_useContext.deleteBacktest,current_symbol=_useContext.current_symbol,cache_TSDA=_useContext.cache_TSDA,cache_TSDA_function=_useContext.cache_TSDA_function;// Used for JSX dropdown items\nvar dropdownItems=function dropdownItems(items){return items.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:item.value,children:item.name},item.name);});};// Calculates USD value for creating a bag\nfunction calcInitalBuy(buyType,buyAmount,currentBalance,curStockPrice){switch(buyType){case\"numStocks\":return curStockPrice*buyAmount;case\"percent\":return currentBalance*(buyAmount/100.00);default:// case \"usd\":\nreturn buyAmount;}}// Function to return true/false for buy condition, given price and indicator values\nfunction isBuyConditionMet(buyStrategyValue,curStockPrice,curIndicatorValue){switch(backtest.indicator){case\"RSI\":return curIndicatorValue<buyStrategyValue;default:// case EMA, SMA, BB (all cases where indicator is a price of stock)\nconsole.log(\"price is \".concat(curStockPrice,\", indicator is \").concat(curIndicatorValue,\", buy Price\"),curIndicatorValue*((100.0+buyStrategyValue)/100.0),curStockPrice<=curIndicatorValue*((100.0+buyStrategyValue)/100.0));return curStockPrice<=curIndicatorValue*((100.0+buyStrategyValue)/100.0);}}// Returns JSON name of element for indicator item\nfunction getIndicatorJSON(){switch(backtest.indicator){case\"BBANDS\":return buyStrategyType;default:return backtest.indicator;}}// Finalizes trade, storing buy/sell data into backtest.tradeListData\nfunction finalizeTrade(myBag,buyDate,sellDate,candleCountSell,sellPrice,curIndicatorValue,numShares){var percentChange=sellPrice/myBag[\"buy-price\"];var profitUSD=+(percentChange-1)*myBag[\"volume-USD\"];var candleLength=+candleCountSell-myBag[\"candle-count-buy\"];// Push on individual trade data\nbacktest.tradeListData.push({buyDate:buyDate,sellDate:sellDate,buyPrice:myBag[\"buy-price\"],sellPrice:sellPrice,numShares:numShares,profitPercent:+percentChange-1,profitUSD:profitUSD,candleLength:candleLength,indicatorAtSell:curIndicatorValue,indicatorAtBuy:myBag[\"indicator-at-buy\"]});// Update results Overview data\nbacktest.numTrades++;backtest.profitUSD+=profitUSD;backtest.netBars+=candleLength;backtest.netSellVolume+=sellPrice*numShares;//console.log(\"finalizeTrade called, % change:\", percentChange, buyDate, sellDate);\n}// Runs user specified backtest algorithms and prepares outputs/trades to display\nfunction runBacktests(_x,_x2){return _runBacktests.apply(this,arguments);}// Turns JSX input type to date\nfunction _runBacktests(){_runBacktests=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(paperAPICall,pairSettings){var stockPriceData,stockIndicatorData,response,optionalParameters,candleCount,bagList,currentBalance,startDateReached,lowestSellPrice,_iterator,_step,_step$value,key,curIndicatorValue,curStockPrice,newBagVolume,sellDate,_i,_Object$entries,_Object$entries$_i,_key,newBagListKeys,_iterator2,_step2,_step2$value,_key2;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(current_symbol){_context.next=3;break;}alert(\"Please select a stock to test your strategy on.\");return _context.abrupt(\"return\");case 3:if(cache_TSDA['Meta Data']){_context.next=15;break;}_context.next=6;return fetch(\"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=\".concat(current_symbol,\"&outputsize=full&apikey=CQ5JZQYM4DG0OODA\"));case 6:response=_context.sent;_context.next=9;return response.json();case 9:stockPriceData=_context.sent;cache_TSDA_function(stockPriceData);// Stop if MAX API\nif(!stockPriceData.Note){_context.next=13;break;}return _context.abrupt(\"return\");case 13:_context.next=16;break;case 15:stockPriceData=cache_TSDA;case 16:_context.t0=backtest.indicator;_context.next=_context.t0==='BBANDS'?19:21;break;case 19:optionalParameters=\"&nbdevup=\".concat(pairSettings.stdDeviation,\"&nbdevdn=\").concat(pairSettings.stdDeviation);return _context.abrupt(\"break\",22);case 21:optionalParameters='';case 22:_context.next=24;return fetch(\"https://www.alphavantage.co/query?function=\".concat(backtest.indicator,\"&symbol=\").concat(current_symbol,\"&interval=daily&time_period=\").concat(paperAPICall.timePeriod,\"&series_type=\").concat(paperAPICall.seriesType).concat(optionalParameters,\"&apikey=CQ5JZQYM4DG0OODA\"));case 24:response=_context.sent;_context.next=27;return response.json();case 27:stockIndicatorData=_context.sent;backtest.didRun=true;// Catches MAX API\nif(!stockIndicatorData.Note){_context.next=33;break;}alert(\"MAX API CALLS. Please wait a minute for more. Thank you for visitng my project! However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");backtest.didRun=false;return _context.abrupt(\"return\");case 33:// Initalize bags/candle-count/currentBalance\ncandleCount=0;bagList={};bagList.length=0;currentBalance=pairSettings.initalBalance;startDateReached=false;// Initalize single integer to know lowest price I consider selling at(updated when new bags are added)\nlowestSellPrice=0;// Main loop that runs the paper trading bot algo, maintains bags/buys/sells/etc throughout 5 years (1265 trading days)\n// Note: in the following for loop: key == date\n_iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(Object.entries(stockIndicatorData[\"Technical Analysis: \".concat(backtest.indicator)]).reverse());_context.prev=40;_iterator.s();case 42:if((_step=_iterator.n()).done){_context.next=62;break;}_step$value=Object(slicedToArray[\"a\" /* default */])(_step.value,1),key=_step$value[0];// Enables iterator code to run once start date reached/passed\nif(key>=startDate){startDateReached=true;}// Skips iterator because start date not reached\nif(!(startDateReached===false)){_context.next=49;break;}return _context.abrupt(\"continue\",60);case 49:if(!(key===endDate)){_context.next=51;break;}return _context.abrupt(\"break\",62);case 51:// Count Candles interated over\ncandleCount++;// Skip days where no price exists\nif(stockPriceData[\"Time Series (Daily)\"][\"\".concat(key)]){_context.next=54;break;}return _context.abrupt(\"continue\",60);case 54:// Essential values for iterating stock data\ncurIndicatorValue=+stockIndicatorData[\"Technical Analysis: \".concat(backtest.indicator)][\"\".concat(key)][\"\".concat(getIndicatorJSON())];curStockPrice=+stockPriceData[\"Time Series (Daily)\"][\"\".concat(key)][\"\".concat(paperAPICall.seriesType)];// First price of start date\nif(!backtest.startPrice){backtest.startPrice=curStockPrice;}// Maintain oldest price\nbacktest.endPrice=curStockPrice;// Prospective USD to create a new bag\nnewBagVolume=calcInitalBuy(pairSettings.initalBuyType,pairSettings.initalBuyAmount,currentBalance,curStockPrice);// If Buy condition: Bags open, balance sufficient, price meets indicator limit\nif(bagList.length<pairSettings.maxBags&&newBagVolume<=currentBalance&&isBuyConditionMet(pairSettings.buyStrategyValue,curStockPrice,curIndicatorValue)){// Create and add bag to bagList, increment bagList.length. Automatically added by creating key.\nbagList.length++;console.log(\"bag added\",bagList);bagList[\"\".concat(key)]={\"sell-price-limit\":+(1+pairSettings.sellStrategyValue/100)*curStockPrice,\"buy-price\":+curStockPrice,\"candle-count-buy\":+candleCount,\"volume-USD\":+newBagVolume,\"num-shares\":+newBagVolume/curStockPrice,\"indicator-at-buy\":curIndicatorValue};// Update currentBalance\ncurrentBalance-=bagList[\"\".concat(key)][\"volume-USD\"];// Update lowestSellPrice, min of current lowest, or new buy price is lower. Initialize if only 1 bag.\nif(bagList.length===1){lowestSellPrice=+bagList[\"\".concat(key)][\"sell-price-limit\"];}else{lowestSellPrice=Math.min(lowestSellPrice,bagList[\"\".concat(key)][\"sell-price-limit\"]);}// Else If Sell Condition\n}else if(curStockPrice>=lowestSellPrice&&bagList.length>0){// Store key of buy date(below loop has new key in smaller scope)\nsellDate=key;for(_i=0,_Object$entries=Object.entries(bagList);_i<_Object$entries.length;_i++){_Object$entries$_i=Object(slicedToArray[\"a\" /* default */])(_Object$entries[_i],1),_key=_Object$entries$_i[0];if(curStockPrice>=bagList[\"\".concat(_key)][\"sell-price-limit\"]){// Finalize Trade function records trade data into backtest to display in JSX below\nfinalizeTrade(bagList[\"\".concat(_key)],_key,sellDate,candleCount,curStockPrice,curIndicatorValue,bagList[\"\".concat(_key)][\"num-shares\"],bagList[\"\".concat(_key)][\"indicator-at-buy\"]);delete bagList[\"\".concat(_key)];bagList.length--;}}// If bags exist, update to new lowest price\nnewBagListKeys=Object.entries(bagList);if(newBagListKeys[0][1]>0){lowestSellPrice=bagList[newBagListKeys[1][0]][\"sell-price-limit\"];_iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(newBagListKeys);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2$value=Object(slicedToArray[\"a\" /* default */])(_step2.value,1),_key2=_step2$value[0];lowestSellPrice=Math.min(lowestSellPrice,+bagList[\"\".concat(_key2)][\"sell-price-limit\"]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}// End of Buy/Sell conditions\ncase 60:_context.next=42;break;case 62:_context.next=67;break;case 64:_context.prev=64;_context.t1=_context[\"catch\"](40);_iterator.e(_context.t1);case 67:_context.prev=67;_iterator.f();return _context.finish(67);case 70://console.log(\"iterating done\", backtest, startDate, endDate, backtest.holdReturn);\n// Iterating complete, finalize some data on compelted backtest algorithm\nbacktest.holdReturn=((backtest.endPrice/backtest.startPrice-1)*100).toFixed(2);//console.log(\"set holdret\", backtest.holdReturn, \"end/start\", backtest.endPrice, backtest.startPrice);\ndelete backtest.startPrice;backtest.profitPercentOnBalance=backtest.profitUSD/pairSettings.initalBalance;backtest.profitPercentOnTrades=backtest.profitUSD/(backtest.netSellVolume-backtest.profitUSD);backtest.avgBars=backtest.netBars/backtest.numTrades;// Update results display and sends tradeListData to TradeList.js in JSX below\nsetTradeListData(backtest.tradeListData);case 76:case\"end\":return _context.stop();}}},_callee,null,[[40,64,67,70]]);}));return _runBacktests.apply(this,arguments);}var _onFocus=function onFocus(e){e.currentTarget.type=\"date\";};var onSubmit=function onSubmit(){backtest.current_symbol=current_symbol;var paperAPICall={// Relavent variables that are global: current_symbol, interval(daily), backtest.indicator(ex, RSI)\nseriesType:seriesType,timePeriod:+timePeriod,stdDeviation:+stdDeviation};// Trivial value, set to 2\nif(paperAPICall.timePeriod===1){paperAPICall.timePeriod=2;}var pairSettings={maxBags:+maxBags,initalBalance:+initalBalance,initalBuyType:initalBuyType,initalBuyAmount:+initalBuyAmount,buyStrategyValue:+buyStrategyValue,buyStrategyType:buyStrategyType,// used for Bollinger upper/middle/lower\nsellStrategyValue:+sellStrategyValue};// Ensure no trivial strategies are submitted\nif(pairSettings.maxBags<1||pairSettings.initalBalance<1||pairSettings.initalBuyAmount<1||pairSettings.sellStrategyValue<0||paperAPICall.timePeriod<1){// Bags, balance, timeperiod, buy amount, sell gain% must be positive\nalert(\"Please enter valid inputs. Use positive integers for the following: Max bags, Sell percentage, Time period, Buy amount, Inital Balance.\");}else if(pairSettings.initalBuyType==='percent'&&(pairSettings.initalBuyAmount<1||pairSettings.initalBuyAmount>100)){// if(buy type is percent) buy amount must be (0-100]\nalert(\"Buy amount percentage must be 1-100%\");}else if(pairSettings.initalBuyAmount>pairSettings.initalBalance){// inital buy must be < inital balance\nalert(\"Inital buys must be less than or equal to inital balance.\");}else if(backtest.indicator==='RSI'&&(pairSettings.buyStrategyValue<1||pairSettings.buyStrategyValue>99)){// Ensure no trivial strategy specific settings are submitted <connect to previous if chain thing>\nalert(\"RSI values must be between 1-99\");}else if(backtest.indicator==='BBANDS'&&paperAPICall.stdDeviation<0.5){// Ensure no trivial BB std deviation\nalert(\"Standard Deviation must be greater than or equal to 0.5.\");}else{// Calculation inputs valid\n//console.log(pairSettings);\n// Initialize Trade List Data(for final results)\nbacktest.tradeListData=[];backtest.profitUSD=0;backtest.numTrades=0;backtest.netBars=0;backtest.netSellVolume=0;// Net volume USD sold\n// Run backtest algorithm\nrunBacktests(paperAPICall,pairSettings);}};var indicatorSettingDOM=null;switch(backtest.indicator){case'RSI':indicatorSettingDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",placeholder:\"14\",onChange:function onChange(e){return setTimePeriod(e.target.value);}})]});break;case'EMA':indicatorSettingDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days): \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",placeholder:\"9\",onChange:function onChange(e){return setTimePeriod(e.target.value);}})]});break;case'SMA':indicatorSettingDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",placeholder:\"9\",onChange:function onChange(e){return setTimePeriod(e.target.value);}})]});break;case'BBANDS':indicatorSettingDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Number of prior days technical indicator is calculated from.\",children:\"Time Period (days): \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",placeholder:\"20\",onChange:function onChange(e){return setTimePeriod(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Standard devation for calculating upper and lower bollinger bands.\",children:\"Standard Deviation for upper/lower lines:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",placeholder:\"2\",onChange:function onChange(e){return setStdDeviation(e.target.value);}})]});break;default:indicatorSettingDOM=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Default backtest indicator DOM\"});}var buyStrategyDOM=null;switch(backtest.indicator){case'RSI':buyStrategyDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy when RSI less than\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-inline\",placeholder:\"30\",onChange:function onChange(e){return setBuyStrategyValue(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]});break;case'EMA':buyStrategyDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy at price\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-inline\",placeholder:\"-3\",onChange:function onChange(e){return setBuyStrategyValue(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"% away from the EMA line. \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label-sub\",\"data-tooltip\":\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\",children:\"(3 = 3% above, -3 = 3% below)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]});break;case'SMA':buyStrategyDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy at price\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-inline\",placeholder:\"-3\",onChange:function onChange(e){return setBuyStrategyValue(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"% away from the SMA line. \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label-sub\",\"data-tooltip\":\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\",children:\"(3 = 3% above, -3 = 3% below)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]});break;case'BBANDS':buyStrategyDOM=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Select bollinger band the backtest will track to open and close positions.\",children:\"Band to follow:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"input-select\",onChange:function onChange(e){return setBuyStrategyType(e.target.value);},children:dropdownItems([{name:'Middle',value:'Real Middle Band'},{name:'Upper',value:'Real Upper Band'},{name:'Lower',value:'Real Lower Band'}])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"Buy at price\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-inline\",placeholder:\"-3\",onChange:function onChange(e){return setBuyStrategyValue(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Open a position on stock for this condition.\",children:\"% away from the selected line. \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label-sub\",\"data-tooltip\":\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\",children:\"(3 = 3% above, -3 = 3% below)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]});break;default:buyStrategyDOM=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"buy strat dom default\"});}// Immediately Calculates backtest results (for 'See Example' button on homepage)\nif(backtest.immediatelyCalculate){onSubmit();backtest.immediatelyCalculate=false;}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Backtest_CSS,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"settings\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{\"data-tooltip\":\"Settings for calculating technical indicator.\",children:[backtest.indicator,\" Settings\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Indicator calculated from open, high, low, or closing prices for each period.\",children:\"Select Series Type:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"input-select\",onChange:function onChange(e){return setSeriesType(e.target.value);},children:dropdownItems([{name:'open',value:'1. open'},{name:'close',value:'4. close'},{name:'high',value:'2. high'},{name:'low',value:'3. low'}])}),indicatorSettingDOM,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{\"data-tooltip\":\"Settings for calculating buy/sell conditions.\",children:\"Trading Strategy Settings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Date for the backtest to begin. Leave blank for earliest date.\",children:\"Start Date:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",type:\"text\",placeholder:\"IPO date (earliest)\",onFocus:function onFocus(e){return _onFocus(e);},onChange:function onChange(e){return setStartDate(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Date for the backtest to end. Leave blank for today's date.\",children:\"End Date:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",type:\"text\",placeholder:formatDate(getTodayDate()),onFocus:function onFocus(e){return _onFocus(e);},onChange:function onChange(e){return setEndDate(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Max number of positions to have at a given time. Algorithm will not add new positions that would exceed this value.\",children:\"Max number of positions:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",placeholder:\"15\",onChange:function onChange(e){return setMaxBags(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Inital balance for backtest algorithm to start trading with.\",children:\"Inital balance (USD):\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",min:\"0\",placeholder:\"3000\",onChange:function onChange(e){return setInitialBalance(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Volume of new positions will be opened in reference to this type of value.\",children:\"Inital buy type:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{className:\"input-select\",onChange:function onChange(e){return setInitalBuyType(e.target.value);},children:dropdownItems([{name:'($) USD',value:'usd'},{name:'(%) Percent of Balance',value:'percent'},{name:'(#) Number of Stocks',value:'numStocks'}])}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Value for new positions to begin with.\",children:\"Inital buy amount:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-flex\",min:\"0\",placeholder:\"100\",onChange:function onChange(e){return setInitalBuyAmount(e.target.value);}}),buyStrategyDOM,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Close positions when profit meets or exceeds this value.\",children:\"Sell position at\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"input-inline\",placeholder:\"1\",onChange:function onChange(e){return setSellStrategyValue(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"input-label\",\"data-tooltip\":\"Close positions when profit meets or exceeds this value.\",children:\"% profit.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"calc-button\",onClick:function onClick(){return onSubmit();},children:\"Calculate\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"del-button\",onClick:function onClick(){return deleteBacktest(backtest.id);},children:\"Delete\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"results-overview\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{\"data-tooltip\":\"Results of backtest.\",children:[\"Performance Overview \",backtest.current_symbol?\"(\"+backtest.current_symbol+\")\":\"\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Total profit of backtest in USD.\",children:\"Profit USD:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"result-output\",children:[\"$\",(backtest.profitUSD?backtest.profitUSD:0).toFixed(2)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Total profit of backtest in percent.\",children:\"Profit Percent on Entire Balance: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"result-output\",children:[(backtest.profitPercentOnBalance?100*backtest.profitPercentOnBalance:0).toFixed(2),\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Average profit of trades from running backtest.\",children:\"Average profit per trade: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"result-output\",children:[\" \",(backtest.profitPercentOnTrades?100*backtest.profitPercentOnTrades:0).toFixed(2),\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Number of trades made by backtest.\",children:\"Number of trades: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:backtest.numTrades?backtest.numTrades:0})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Average number of candles/days between opening and closing each position.\",children:\"Average bars per trade: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-output\",children:(backtest.avgBars?backtest.avgBars:0).toFixed(2)})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"result-title\",\"data-tooltip\":\"Return if inital balance had been fully invested at the start date and cashed out at the end date. (instead of running algorithm)\",children:\"Buy and hold return: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"result-output\",children:[backtest.holdReturn>0?\"+\":\"\",backtest.holdReturn?backtest.holdReturn:\"0\",\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"result-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"conclusion-title\",children:\"Backtest Conclusion: \"}),backtest.didRun?backtest.profitPercentOnBalance>backtest.holdReturn?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"backtest-won\",children:[\" This algorithm is more profitable than buy and holding \",backtest.current_symbol,\". \"]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{className:\"backtest-lost\",children:[\" Buy and holding \",backtest.current_symbol,\" is more profitable than this algorithm. \"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{className:\"backtest-null\",children:\"No trades made\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"list-of-trades\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{\"data-tooltip\":\"History of positions opened/closed by backtest.\",children:\"List Of Trades\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"trades-scroll\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_TradeList,{tradeList:tradeListData.map(function(tradeData){return tradeData;})})})]})]});};\n// CONCATENATED MODULE: ./src/components/Homepage.js\nvar Homepage_templateObject;var Homepage_CSS=styled_components_browser_esm[\"a\" /* default */].div(Homepage_templateObject||(Homepage_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  .main-box{\\n    color: #898996;\\n    display:flex;\\n\\n    padding: 5%;\\n    margin: 0%;\\n    padding-top: 140px;\\n\\n    .intro-text{  \\n      padding-top: 8%;\\n      text-align: center;\\n      .intro-text-p{\\n        color: #898996;\\n        font-size: 22px;\\n      }\\n      h4{\\n        font-size: 30px;\\n        color: #dedfe4;\\n      }\\n    }\\n\\n    .howto-text{  \\n      padding-top: 4%;\\n      width: 50%;\\n      text-align: center;\\n      p{\\n        color: #898996;\\n        font-size: 16px;\\n      }\\n      h4{\\n        font-size: 180%;\\n        color: #dedfe4;\\n      }\\n    }\\n    .img-chart{\\n      z-index:0;\\n      width: 50%;\\n      transform: perspective(700px) rotateY(-10deg);\\n      box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\\n    }\\n    .img-backtest{\\n\\n      z-index:0;\\n      width: 50%;\\n      transform: perspective(700px) rotateY(10deg);\\n      box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\\n    }\\n\\n  }\\n\\n  //Try it button CSS\\n  \\n.share-button {\\n  width: 280px;\\n  height: 40px;\\n\\n  color: #373641;\\n  background: #dedfe4;\\n\\n  border-radius: 7px;\\n  border: none;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  //padding: 0 50px;\\n  overflow: hidden;\\n  position: relative;\\n  cursor: pointer;\\n  margin: auto;\\n  transition: .3s linear;\\n  box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;\\n}\\n.share-button:hover{\\n  transform: scale(1.1);\\n}\\n.share-button span{\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n\\n  background: #898996;\\n  color: #3d3d4a;\\n  padding-top: 5px;\\n  font-size: 20px;\\n\\n  text-align: center;\\n  z-index: 1;\\n  transition: .2s linear;\\n  border-radius: 7px;\\n \\n}\\n.share-button:focus span{\\n  transform: translateX(-100%);\\n  transition-delay: .3s;\\n}\\n.share-button-p{\\n  padding-top: 16px;\\n  font-size: 16px;\\n}\\n\\n\\n\"])));var Homepage_Homepage=function Homepage(){var _useContext=Object(react[\"useContext\"])(GlobalContext),addBacktest=_useContext.addBacktest;var _useContext2=Object(react[\"useContext\"])(GlobalContext),graphSymbol=_useContext2.graphSymbol;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Homepage_CSS,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"main-box\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"intro-text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"AlgoTrade\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"intro-text-p\",children:\"Simple, yet powerful tool to run backtests for algorithmic trading strategies and to visualize stock market data.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"img-chart\",src:\"chart-img.png\",alt:\"\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"main-box\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"img-backtest\",src:\"backtest-img.png\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"howto-text\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"How Does it Work?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Search a US listed stock ticker and select a company to visualize their historic stock market data on an interactive candlestick chart.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Select a\",\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"\",href:\"https://www.investopedia.com/terms/t/technicalindicator.asp\",rel:\"noreferrer\",target:\"_blank\",children:\"technical indicator\"}),\" \",\"to create a customizable\",\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"\",href:\"https://www.investopedia.com/terms/b/backtesting.asp\",rel:\"noreferrer\",target:\"_blank\",children:\"backtest\"}),\" \",\"to visualize the results of your strategy.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Create multiple \",\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"\",href:\"https://www.investopedia.com/terms/b/backtesting.asp\",rel:\"noreferrer\",target:\"_blank\",children:\"backtests\"}),\" \",\"and compare your algorithms using different indicators across different stocks.\"]})]})]})]});};\n// CONCATENATED MODULE: ./src/components/BacktestList.js\nvar BacktestList_templateObject;var BacktestList_CSS=styled_components_browser_esm[\"a\" /* default */].div(BacktestList_templateObject||(BacktestList_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin: 0% 3% 0% 3%;\\n  padding: 1%;\\n\\n  background: #373641;\\n  border-radius: 10px;\\n\\n  h3{\\n    font-family: 'Lato', sans-serif; \\n    font-size: 28px; \\n    font-weight: 300; \\n    text-align: left;\\n    color: #dedfe4;\\n  }\\n\\n\"])));var BacktestList_BacktestList=function BacktestList(){var _useContext=Object(react[\"useContext\"])(GlobalContext),backtests=_useContext.backtests,current_symbol=_useContext.current_symbol;if(current_symbol.length>0){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[backtests.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(BacktestList_CSS,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Backtest Strategy Testing\"}),backtests.map(function(backtest){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Backtest_Backtest,{backtest:backtest},backtest.id);})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Homepage_Homepage,{})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Homepage_Homepage,{});}};\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v1.js + 4 modules\nvar v1 = __webpack_require__(34);\n\n// CONCATENATED MODULE: ./src/components/AddBacktest.js\nvar AddBacktest_templateObject;var AddBacktest_CSS=styled_components_browser_esm[\"a\" /* default */].div(AddBacktest_templateObject||(AddBacktest_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin: 3% 3% 0% 3%;\\n  padding: 1%;\\n\\n  h3{\\n    font-family: 'Lato', sans-serif; \\n    font-size: 28px; \\n    font-weight: 300; \\n    text-align: left;\\n    color: #dedfe4;\\n  }\\n  \\n  .btn {\\n    font-size: 80%;\\n    font-family: 'Lato', sans-serif; \\n    text-align: center;\\n    justify-content: center;\\n    align-items: center;\\n    position: relative;\\n    color: white;\\n    width: 300px;\\n    height: 70px;\\n    padding: none;\\n    margin: 1%;\\n    padding: 0% 1%;\\n    transition: all 0.3s;\\n    span {\\n      transition: all 0.3s;\\n      tranform: scale(1, 1);\\n    }\\n  }\\n    \\n  .btn::before, .btn::after {\\n    content: '';\\n    position: absolute;\\n    transition: all 0.3s;\\n    bottom: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 1;\\n  }\\n\\n  .btn-one::before {\\n    left: 4px;\\n    z-index: 1;\\n    \\n    opacity: 0;\\n    background: rgba(255, 255, 255, 0.1);\\n    transform: scale(0.1, 1);\\n  }\\n\\n  .btn-one:hover::before {\\n    opacity: 1;\\n    transform: scale(1, 1);\\n  }\\n\\n  .btn-one::after {\\n    transition: all 0.3s;\\n    border: 1px solid rgba(255, 255, 255, 0.5);\\n  }\\n\\n  .btn-one:hover::after {\\n    transform: scale(1, .1);\\n    opacity: 0;\\n  }\\n  .btn-text{\\n    width:90%;\\n    color: #dedfe4;\\n    display:inline;\\n  }\\n  .plus-icon{\\n    filter: invert(1);\\n    width: 8%;\\n    vertical-align: -30%;\\n    margin-right: 3%;\\n  }\\n\\n  background: #373641;\\n  border-radius: 10px;\\n\\n  /* Tooltips */\\n\\n  [data-tooltip] {\\n    position: relative;\\n    z-index: 10;\\n  }\\n  \\n  /* Positioning and visibility settings of the tooltip */\\n  [data-tooltip]:before,\\n  [data-tooltip]:after {\\n    position: absolute;\\n    visibility: hidden;\\n    opacity: 0;\\n    left: 50%;\\n    bottom: calc(100% + 5px); /* 5px is the size of the arrow */\\n    pointer-events: none;\\n    transition: 0.2s;\\n    will-change: transform;\\n  }\\n  \\n  /* The actual tooltip with a dynamic width */\\n  [data-tooltip]:before {\\n    content: attr(data-tooltip);\\n    padding: 10px 18px;\\n    min-width: 50px;\\n    max-width: 300px;\\n    width: max-content;\\n    width: -moz-max-content;\\n    border-radius: 6px;\\n    font-size: 14px;\\n    background-color: rgba(59, 72, 80, 0.9);\\n    background-image: linear-gradient(30deg,\\n      rgba(59, 72, 80, 0.44),\\n      rgba(59, 68, 75, 0.44),\\n      rgba(60, 82, 88, 0.44));\\n    box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.2);\\n    color: #fff;\\n    text-align: center;\\n    white-space: pre-wrap;\\n    transform: translate(-50%, -5px) scale(0.5);\\n  }\\n  \\n  /* Tooltip arrow */\\n  [data-tooltip]:after {\\n    content: '';\\n    border-style: solid;\\n    border-width: 5px 5px 0px 5px; /* CSS triangle */\\n    border-color: rgba(55, 64, 70, 0.9) transparent transparent transparent;\\n    transition-duration: 0s; /* If the mouse leaves the element, \\n                                the transition effects for the \\n                                tooltip arrow are \\\"turned off\\\" */\\n    transform-origin: top;   /* Orientation setting for the\\n                                slide-down effect */\\n    transform: translateX(-50%) scaleY(0);\\n  }\\n  \\n  /* Tooltip becomes visible at hover */\\n  [data-tooltip]:hover:before,\\n  [data-tooltip]:hover:after {\\n    visibility: visible;\\n    opacity: 1;\\n  }\\n  /* Scales from 0.5 to 1 -> grow effect */\\n  [data-tooltip]:hover:before {\\n    transition-delay: 0.3s;\\n    transform: translate(-50%, -5px) scale(1);\\n  }\\n  /* \\n    Arrow slide down effect only on mouseenter (NOT on mouseleave)\\n  */\\n  [data-tooltip]:hover:after {\\n    transition-delay: 0.5s; /* Starting after the grow effect */\\n    transition-duration: 0.2s;\\n    transform: translateX(-50%) scaleY(1);\\n  }\\n  /* End of tooltips*/\\n\"])));var AddBacktest_AddBacktest=function AddBacktest(){var _useContext=Object(react[\"useContext\"])(GlobalContext),addBacktest=_useContext.addBacktest,current_symbol=_useContext.current_symbol;var onSubmit=function onSubmit(indicator){var newBacktest={id:Object(v1[\"a\" /* default */])(),indicator:indicator};addBacktest(newBacktest);};if(current_symbol.length>0){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(AddBacktest_CSS,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Select Technical Indicator(s)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn btn-one\",onClick:function onClick(){return onSubmit('RSI');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The relative strength index (RSI) is a momentum indicator used to evaluate overbought or oversold conditions. The RSI is displayed as an oscillator and can have a reading from 0 to 100.\",children:\"Relative Strength Index (RSI)\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn btn-one\",onClick:function onClick(){return onSubmit('EMA');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The expnential moving average (EMA) is a moving average that places a greater weight and significance on the most recent data points.\",children:\"Exponential Moving Average (EMA)\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn btn-one\",onClick:function onClick(){return onSubmit('SMA');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The simple moving average (SMA) calculates the average of a selected range of prices by the number of periods in that range.\",children:\"Simple Moving Average (SMA)\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{className:\"btn btn-one\",onClick:function onClick(){return onSubmit('BBANDS');},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"plus-icon\",src:\"https://img.icons8.com/android/24/000000/plus.png\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"btn-text\",\"data-tooltip\":\"The Bollinger Bands are defined by a set of trendlines plotted two standard deviations (positively and negatively) away from a simple moving average (SMA) of a security's price, which can be adjusted to user preferences.\",children:\"Bollinger Bands (BB)\"})]})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{});}};\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(8);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// CONCATENATED MODULE: ./src/components/chart-components/Candle.js\nvar Candle_Candle=function Candle(props){var data=props.data,x=props.x,candle_width=props.candle_width,pixelFor=props.pixelFor;var up=data.close>data.open;var bar_top=pixelFor(up?data.close:data.open);var bar_bottom=pixelFor(up?data.open:data.close);var bar_height=bar_bottom-bar_top;var wick_top=pixelFor(data.high);var wick_bottom=pixelFor(data.low);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:x-candle_width/2,y:bar_top,width:candle_width,height:data.open===data.close?1:Math.abs(bar_height),className:classnames_default()({candle:true,up:up,down:!up})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"line\",{className:classnames_default()({wick:true,top:true,up:up,down:!up}),x1:x,y1:bar_top,x2:x,y2:wick_top}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"line\",{className:classnames_default()({wick:true,bottom:true,up:up,down:!up}),x1:x,y1:bar_bottom,x2:x,y2:wick_bottom})]});};/* harmony default export */ var chart_components_Candle = (Candle_Candle);\n// CONCATENATED MODULE: ./src/components/chart-components/CrossHairs.js\nvar CrossHairs_CrossHairs=function CrossHairs(props){var x=props.x,y=props.y,chart_dims=props.chart_dims;if(x+y===0){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"line\",{x1:0,y1:y,x2:chart_dims.pixel_width*1.025,y2:y,className:classnames_default()({cross_hair:true,horz:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"line\",{x1:x,y1:0,x2:x,y2:chart_dims.pixel_height,className:classnames_default()({cross_hair:true,vert:true})})]});};/* harmony default export */ var chart_components_CrossHairs = (CrossHairs_CrossHairs);\n// CONCATENATED MODULE: ./src/components/chart-components/Chart.js\nvar Chart_templateObject;var Chart_CSS=styled_components_browser_esm[\"a\" /* default */].div(Chart_templateObject||(Chart_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  .caret{\\n    font-size: 65%;\\n  }\\n\\n  .priceChanges{\\n    font-size: 80%;\\n  }\\n\"])));var Chart_Chart=function Chart(props){var data=props.data,graph_type=props.graph_type,chart_width=props.width,chart_height=props.height;// let { last_bar_idx = 0, bars_wide = 40 } = props;\n// last_bar_idx should default to the last bar in the data, or else be sure passed-in value doesn't exceed the last bar\n// last_bar_idx = last_bar_idx > 0 ? Math.min(last_bar_idx, data.length - 1) : data.length - 1;\nvar _useState=Object(react[\"useState\"])({x:-50,y:-50}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mouseCoords=_useState2[0],setMouseCoords=_useState2[1];// let mouseCoords = {\n//   x: 0,\n//   y: 0\n// };\n// const setMouseCoords = (x, y) => {\n//   mouseCoords = { x, y };\n// };\n// find the high and low bounds of all the bars being sidplayed\nvar dollar_high=Math.max.apply(Math,data.map(function(bar){return+bar.high;}))*1.15;var dollar_low=Math.min.apply(Math,data.map(function(bar){return+bar.low;}))*0.95;// calculate the candle width\nvar candle_width=Math.floor(chart_width/data.length*0.7);var chart_dims={pixel_width:chart_width,pixel_height:chart_height,dollar_high:dollar_high,dollar_low:dollar_low,dollar_delta:dollar_high-dollar_low};// toFixed rounds number to 2 decimal places\nvar dollarAt=function dollarAt(pixel){var dollar=Math.abs(pixel-chart_dims.pixel_height)/chart_dims.pixel_height*chart_dims.dollar_delta+chart_dims.dollar_low;return pixel>0?dollar.toFixed(2):\"-\";};// Gets candlestick data at x position\nvar candleDataAt=function candleDataAt(pixel){if(pixel<=0||pixel>=chart_dims.pixel_width)return\"-\";var candle=data[Math.floor(pixel/chart_dims.pixel_width*data.length)];return candle;};var convertDate=function convertDate(dateString){if(!dateString)return\"\";var myYear=dateString.substring(2,4);var myMonth=parseInt(dateString.substring(5,7),10);var myDay=parseInt(dateString.substring(8,10),10);if(dateString.length===10){return myMonth+\"/\"+myDay+\"/\"+myYear;}var myHour=parseInt(dateString.substring(11,13),10);var myMinute=dateString.substring(14,16);return myMonth+\"/\"+myDay+\"/\"+myYear+\" \"+myHour+\":\"+myMinute+\" EST\";};var candleChange=function candleChange(pixel){if(pixel<=0||pixel>=chart_dims.pixel_width)return\"\";var candle=data[Math.floor(pixel/chart_dims.pixel_width*data.length)];var change=(candle['close']/candle['open']-1)*100;var posNeg=change>=0?'+':'-';return posNeg+Math.abs(change).toFixed(2);};var pixelFor=function pixelFor(dollar){return-1*((dollar-chart_dims[\"dollar_low\"])/chart_dims[\"dollar_delta\"]*chart_dims[\"pixel_height\"]-chart_dims[\"pixel_height\"]);};var onMouseLeave=function onMouseLeave(){setMouseCoords({x:-50,y:-50});};var onMouseMoveInside=function onMouseMoveInside(e){//for date(x axis), calc using dates[x cord/width] , create dates[]\nsetMouseCoords({x:e.nativeEvent.x-Math.round(e.currentTarget.getBoundingClientRect().left)-candle_width/2,y:e.nativeEvent.y-Math.round(e.currentTarget.getBoundingClientRect().top)});};var onMouseClickInside=function onMouseClickInside(e){console.log(\"Click at \".concat(e.nativeEvent.offsetX,\", \").concat(e.nativeEvent.offsetY));};// Returns string for mouse off chart display\nvar graphTypeStr=function graphTypeStr(){switch(graph_type){case'day':return\"Yesterday\";case'week':return\"Past Week\";case'month':return\"Past Month\";case'quarter':return\"Past 3 Months\";case'year':return\"Past Year\";default:return\"Error chart.js\";}};// Return JSX for mouse off chart display\nvar mouseOffChartJSX=function mouseOffChartJSX(){if(data.length<3)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{});var englishStr=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{fill:\"#898996\",children:graphTypeStr()});var changePercent=(data[data.length-1][\"close\"]/data[0][\"open\"]-1)*100;var changeUSD=data[data.length-1][\"close\"]-data[0][\"open\"];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{className:\"\",fill:\"#dedfe4\",children:[\"$\",data[data.length-1][\"close\"],\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{className:\"caret\",fill:changeUSD>=0?\"#81dfc4\":\"#d75b6d\",children:[changeUSD>=0?\"\":\"\",\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{className:\"priceChanges\",fill:changeUSD>=0?\"#81dfc4\":\"#d75b6d\",children:[\" $\",Math.abs(changeUSD).toFixed(2),\" (\",changePercent.toFixed(2),\"%) \"]}),englishStr]});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chart_CSS,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{width:chart_width*1.025/* Extra width to fit price */,height:chart_height,className:\"chart\",onMouseMove:onMouseMoveInside,onClick:onMouseClickInside,onMouseLeave:onMouseLeave,children:[data.map(function(bar,i){var candle_x=chart_width/data.length*(i+1);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chart_components_Candle,{data:bar,x:candle_x,candle_width:candle_width,pixelFor:pixelFor},i);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chart_components_CrossHairs,{x:mouseCoords.x+candle_width/2,y:mouseCoords.y,chart_dims:chart_dims}),mouseCoords.x>0&&mouseCoords.x<=chart_width?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"rect\",{x:chart_width*1.025-(1+dollarAt(mouseCoords.y).length)*8.2,y:mouseCoords.y-12,width:(1+dollarAt(mouseCoords.y).length)*8.2,height:\"24\",fill:\"gray\",rx:\"9\",ry:\"9\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"text\",{x:5+chart_width*1.025-(1+dollarAt(mouseCoords.y).length)*8,y:mouseCoords.y+5,fill:\"white\",fontSize:\"12\",children:[\"$\",dollarAt(mouseCoords.y)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"text\",{x:\"16\",y:\"20\",fontSize:\"12\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{fill:\"#898996\",children:\"Open\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",candleDataAt(mouseCoords.x)['open'],\"  \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{fill:\"#898996\",children:\"High\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",candleDataAt(mouseCoords.x)['high']]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"text\",{x:\"16\",y:\"40\",fontSize:\"12\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{fill:\"#898996\",children:\"Close\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",candleDataAt(mouseCoords.x)['close'],\"  \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{fill:\"#898996\",children:\"Low\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{fill:\"#dedfe4\",children:[\"$\",candleDataAt(mouseCoords.x)['low']]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"text\",{x:\"16\",y:\"59\",fontSize:\"12\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{fill:\"#898996\",children:\"Volume\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{fill:\"#dedfe4\",children:[mouseCoords.x>0?(candleDataAt(mouseCoords.x)['volume']/1000).toFixed(2)+'K':'',\"  \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tspan\",{fill:\"#898996\",children:\"Change\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tspan\",{fill:candleChange(mouseCoords.x)>=0?\"#81dfc4\":\"#d75b6d\",children:[candleChange(mouseCoords.x),\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"text\",{x:\"16\",y:\"85\",fill:\"#898996\",fontSize:\"20\",children:convertDate(candleDataAt(mouseCoords.x)['xAxis'])})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"text\",{x:\"16\",y:\"40\",fontSize:\"25\",children:mouseOffChartJSX()})]})});};/* harmony default export */ var chart_components_Chart = (Chart_Chart);\n// EXTERNAL MODULE: ./src/chart.css\nvar chart = __webpack_require__(31);\n\n// CONCATENATED MODULE: ./src/components/GraphSection.js\nvar GraphSection_templateObject;var GraphSection_CSS=styled_components_browser_esm[\"a\" /* default */].div(GraphSection_templateObject||(GraphSection_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n\\n  .chart-info-area{\\n    margin: 0 16% 0 16%;\\n    padding-top: 120px;\\n  }\\n\\n  .stock-info{\\n    display: flex;\\n    align-items: center;\\n    width: 110.5%;\\n    margin: 2% -5%;\\n    padding: 20px 50px 0px 50px;\\n    color: #dedfe4;\\n    background-color: transparent;//#2e4033;\\n    border-radius: 10px;\\n    font-family: 'Source Sans Pro', arial, sans-serif;\\n    font-size: 16px;\\n    font-weight: 200;\\n    box-shadow: rgba(0, 0, 0, 0.4) 0px 5px 15px;\\n\\n    \\n    @media only screen and (max-width: 768px) {\\n      padding: 2%;\\n      font-size: 75%;\\n    }\\n\\n    &-ticker{\\n      text-align: left;\\n      float: left;\\n      width: 33.33333%;\\n    }\\n    &-company{\\n      text-align: center;\\n      float: left;\\n      width: 33.33333%;\\n    }\\n    &-updated{\\n      text-align: right;\\n      float:left;\\n      width: 33.33333%;\\n    }\\n  }\\n\\n  .chart-buttons{\\n    margin: 5px 0 0 16%;\\n  }\\n  .chart-button{\\n    color: #dedfe4;\\n    font-size: 16px;\\n    padding: 5px 15px;\\n    background-color: transparent;\\n    margin: 0 10px;\\n    border: none;\\n    border-radius: 10px;\\n\\n    &:hover,&:focus {\\n        background: #101010;\\n        outline: none;\\n        box-shadow: rgba(0, 0, 0, 0.4) 0px 3px 10px;\\n    }\\n  }\\n\"])));// Hook for dynamic window size\nfunction useWindowSize(){// Initialize state with undefined width/height so server and client renders match\n// Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\nvar _useState=Object(react[\"useState\"])({width:undefined,height:undefined}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),windowSize=_useState2[0],setWindowSize=_useState2[1];Object(react[\"useEffect\"])(function(){// Handler to call on window resize\nfunction handleResize(){// Set window width/height to state\nsetWindowSize({width:window.innerWidth,height:window.innerHeight});}// Add event listener\nwindow.addEventListener(\"resize\",handleResize);// Call handler right away so state gets updated with initial window size\nhandleResize();// Remove event listener on cleanup\nreturn function(){return window.removeEventListener(\"resize\",handleResize);};},[]);// Empty array ensures that effect is only run on mount\nreturn windowSize;}var GraphSection_GraphSection=function GraphSection(){//grab global variables/functions to call in this file\nvar _useContext=Object(react[\"useContext\"])(GlobalContext),graphData_AV_API=_useContext.graphData_AV_API,graphSymbol=_useContext.graphSymbol,current_symbol=_useContext.current_symbol,current_company=_useContext.current_company,graph_type=_useContext.graph_type;var myWindow=useWindowSize();var chart_width=myWindow.width*2/3;var chart_height=myWindow.height*2/3;// Processes update to API call and sends data to candlestick chart.\nvar processGraphData=function processGraphData(){var time_series_type;if(graphData_AV_API['Time Series (15min)']){time_series_type='Time Series (15min)';}else if(graphData_AV_API['Time Series (60min)']){time_series_type='Time Series (60min)';}else{//if(graphData_AV_API['Time Series (Daily)']){\ntime_series_type='Time Series (Daily)';}var time_series_isDaily=time_series_type==='Time Series (Daily)'?true:false;var split_ratio=1.0;//this arrays are sus\nvar graphDataProcessed=[];var i=0;var date_counter=0;var previous_date='';var stop_graphing=false;// Iterate/translate API call to fit my charts inputs\nfor(var myDate in graphData_AV_API[time_series_type]){// Counts unique dates, stops graphing according to graph_Type\nif(!(previous_date===myDate.substr(0,10))){previous_date=myDate.substr(0,10);date_counter++;switch(graph_type){case'day':if(date_counter>1)stop_graphing=true;break;case'week':if(date_counter>5)stop_graphing=true;break;case'month':if(date_counter>20)stop_graphing=true;break;case'quarter':if(date_counter>60)stop_graphing=true;break;case'year':if(date_counter>253)stop_graphing=true;break;default:}if(stop_graphing)break;}// Some API data open==close==high==low, resulting in candles of size 0x0, resulting in empty graph. \n// flat_candle ensures candles are never 0x0 (invisible).\nvar flat_candle=+graphData_AV_API[time_series_type][myDate]['1. open']===+graphData_AV_API[time_series_type][myDate]['4. close']?0.001:0;graphDataProcessed.push({\"time\":i++,\"xAxis\":myDate,\"open\":(+graphData_AV_API[time_series_type][myDate]['1. open']/split_ratio).toFixed(2),\"close\":(flat_candle+graphData_AV_API[time_series_type][myDate]['4. close']/split_ratio).toFixed(2),\"high\":(+graphData_AV_API[time_series_type][myDate]['2. high']/split_ratio).toFixed(2),\"low\":(+graphData_AV_API[time_series_type][myDate]['3. low']/split_ratio).toFixed(2),\"volume\":+graphData_AV_API[time_series_type][myDate][time_series_isDaily?'6. volume':'5. volume']});if(time_series_isDaily)split_ratio*=+graphData_AV_API[time_series_type][myDate]['8. split coefficient'];}graphDataProcessed.reverse();return graphDataProcessed;};// Only for intialization: maybe make it display SPY as default\nvar _useState3=Object(react[\"useState\"])(function(){return processGraphData();}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),data=_useState4[0],setData=_useState4[1];// Whenever graphData_AV_API is changed, code below will update graph\nObject(react[\"useEffect\"])(function(){if(current_symbol.length>0)setData(processGraphData());},[graph_type,current_symbol]);// eslint-disable-line react-hooks/exhaustive-deps\n// Convert JS date into easy to read date\nvar convertDate=function convertDate(dateString){if(!dateString)return\"error\";var myYear=dateString.substring(2,4);var myMonth=parseInt(dateString.substring(5,7),10);var myDay=parseInt(dateString.substring(8,10),10);if(dateString.length===10){return myMonth+\"/\"+myDay+\"/\"+myYear;}var myHour=parseInt(dateString.substring(11,13),10);var myMinute=dateString.substring(14,16);return myMonth+\"/\"+myDay+\"/\"+myYear+\" \"+myHour+\":\"+myMinute+\" EST\";};if(current_symbol.length>0){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GraphSection_CSS,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chart-info-area\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stock-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"stock-info-ticker\",children:[\"Ticker: \",current_symbol]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"stock-info-company\",children:[\"Name: \",current_company]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"stock-info-updated\",children:[\"Updated: \",convertDate(graphData_AV_API[\"Meta Data\"][\"3. Last Refreshed\"])]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chart_components_Chart,{data:data,graph_type:graph_type,width:chart_width,height:chart_height})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chart-buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"chart-button\",onClick:function onClick(){return graphSymbol(current_symbol,current_company,'day',false);},children:\"1D\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"chart-button\",onClick:function onClick(){return graphSymbol(current_symbol,current_company,'week',false);},children:\"1W\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"chart-button\",onClick:function onClick(){return graphSymbol(current_symbol,current_company,'month',false);},children:\"1M\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"chart-button\",onClick:function onClick(){return graphSymbol(current_symbol,current_company,'quarter',false);},children:\"3M\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"chart-button\",onClick:function onClick(){return graphSymbol(current_symbol,current_company,'year',false);},children:\"1Y\"})]})]})});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{});}};\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_templateObject;var App_CSS=styled_components_browser_esm[\"a\" /* default */].div(App_templateObject||(App_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  background: #3d3d4a;\\n  margin-bottom: 0px;\\n  border-bottom: 1px solid transparent;\\n\"])));function App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GlobalState_GlobalProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(App_CSS,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header_Header,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GraphSection_GraphSection,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddBacktest_AddBacktest,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BacktestList_BacktestList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer_Footer,{})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[33,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/JohnD/Documents/tradingview/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/JohnD/Documents/tradingview/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/JohnD/Documents/tradingview/node_modules/postcss-loader/src/index.js??postcss!/Users/JohnD/Documents/tradingview/src/chart.css","/Users/JohnD/Documents/tradingview/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/JohnD/Documents/tradingview/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/JohnD/Documents/tradingview/node_modules/postcss-loader/src/index.js??postcss!/Users/JohnD/Documents/tradingview/src/App.css","/Users/JohnD/Documents/tradingview/src/context/AppReducer.js","/Users/JohnD/Documents/tradingview/src/context/GlobalState.js","/Users/JohnD/Documents/tradingview/src/components/SearchItem.js","/Users/JohnD/Documents/tradingview/src/components/SearchResults.js","/Users/JohnD/Documents/tradingview/src/components/Header.js","/Users/JohnD/Documents/tradingview/src/components/Footer.js","/Users/JohnD/Documents/tradingview/src/components/Trade.js","/Users/JohnD/Documents/tradingview/src/components/TradeList.js","/Users/JohnD/Documents/tradingview/src/components/Backtest.js","/Users/JohnD/Documents/tradingview/src/components/Homepage.js","/Users/JohnD/Documents/tradingview/src/components/BacktestList.js","/Users/JohnD/Documents/tradingview/src/components/AddBacktest.js","/Users/JohnD/Documents/tradingview/src/components/chart-components/Candle.js","/Users/JohnD/Documents/tradingview/src/components/chart-components/CrossHairs.js","/Users/JohnD/Documents/tradingview/src/components/chart-components/Chart.js","/Users/JohnD/Documents/tradingview/src/components/GraphSection.js","/Users/JohnD/Documents/tradingview/src/App.js","/Users/JohnD/Documents/tradingview/src/index.js"],"names":["logger","state","action","type","backtests","filter","backtest","id","payload","graphData_AV_API","symbol_list","current_symbol","cache_TSDA","current_company","cache_TS15min","cache_TS60min","graph_type","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","deleteBacktest","addBacktest","cache_TSDA_function","data","Note","alert","clearSearch","searchInputClear","stockSearch","searchInput","fetch","text","response","json","new_symbol_list","Object","keys","bestMatches","forEach","e","new_symbol","symbol","name","reverse","graphSymbol","selectedSymbol","selectedCompany","graphType","doClearCache","interval_API","cache_exists","function_API","outputSize","window","scrollTo","CSS","styled","div","SearchItem","mySymbol","useContext","console","log","SearchResults","useState","setSearch","useOutsideAlerter","ref","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","wrapperRef","useRef","length","map","Header","onSubmit","preventDefault","paddingLeft","value","color","Footer","Trade","props","trade","buyDate","buyPrice","indicatorAtBuy","toFixed","sellDate","sellPrice","indicatorAtSell","numShares","profitUSD","profitPercent","candleLength","TradeList","tradeList","myId","Backtest","defaultTimePeriod","indicator","defaultBuyStrat","getTodayDate","Date","toISOString","slice","getOldDate","myDate","setFullYear","getFullYear","formatDate","uglyDate","array","toString","split","push","shift","join","tradeListData","setTradeListData","seriesType","setSeriesType","timePeriod","setTimePeriod","stdDeviation","setStdDeviation","startDate","setStartDate","endDate","setEndDate","maxBags","setMaxBags","initalBalance","setInitialBalance","initalBuyType","setInitalBuyType","initalBuyAmount","setInitalBuyAmount","buyStrategyValue","setBuyStrategyValue","buyStrategyType","setBuyStrategyType","sellStrategyValue","setSellStrategyValue","dropdownItems","items","item","calcInitalBuy","buyType","buyAmount","currentBalance","curStockPrice","isBuyConditionMet","curIndicatorValue","getIndicatorJSON","finalizeTrade","myBag","candleCountSell","percentChange","numTrades","netBars","netSellVolume","runBacktests","paperAPICall","pairSettings","stockPriceData","optionalParameters","stockIndicatorData","didRun","candleCount","bagList","startDateReached","lowestSellPrice","entries","key","startPrice","endPrice","newBagVolume","Math","min","newBagListKeys","holdReturn","profitPercentOnBalance","profitPercentOnTrades","avgBars","onFocus","currentTarget","indicatorSettingDOM","buyStrategyDOM","immediatelyCalculate","tradeData","Homepage","BacktestList","AddBacktest","newBacktest","uuid","Candle","x","candle_width","pixelFor","up","close","open","bar_top","bar_bottom","bar_height","wick_top","high","wick_bottom","low","abs","classNames","candle","down","wick","top","bottom","CrossHairs","y","chart_dims","pixel_width","cross_hair","horz","pixel_height","vert","Chart","chart_width","width","chart_height","height","mouseCoords","setMouseCoords","dollar_high","max","apply","bar","dollar_low","floor","dollar_delta","dollarAt","pixel","dollar","candleDataAt","convertDate","dateString","myYear","substring","myMonth","parseInt","myDay","myHour","myMinute","candleChange","change","posNeg","onMouseLeave","onMouseMoveInside","nativeEvent","round","getBoundingClientRect","left","onMouseClickInside","offsetX","offsetY","graphTypeStr","mouseOffChartJSX","englishStr","changePercent","changeUSD","i","candle_x","useWindowSize","undefined","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","GraphSection","myWindow","processGraphData","time_series_type","time_series_isDaily","split_ratio","graphDataProcessed","date_counter","previous_date","stop_graphing","substr","flat_candle","setData","App","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","const logger = (state, action) => {\n  switch(action.type) {\n    case 'DELETE_BACKTEST':\n      return {\n        ...state,\n        backtests: state.backtests.filter(backtest => backtest.id !== action.payload)\n      }\n    case 'ADD_BACKTEST':\n      return {\n        ...state,\n        backtests: [action.payload, ...state.backtests]\n      }\n    case 'STOCK_SEARCH':\n      return {\n        ...state,\n        graphData_AV_API: state.graphData_AV_API,\n        symbol_list: action.payload,\n        current_symbol: state.current_symbol\n      }\n    case 'MAX_API':\n      return {\n        ...state\n      }\n    case 'FILL_CACHE_TSDA':\n      return {\n        ...state,\n        cache_TSDA: action.payload['Time Series (Daily)'] ? action.payload : state.cache_TSDA\n      }\n    case 'DISPLAY_GRAPHS':\n      return {\n        ...state,\n        graphData_AV_API: action.payload[1],\n        symbol_list: [],\n        current_symbol: action.payload[1]['Meta Data']['2. Symbol'],\n        current_company: action.payload[2],\n        cache_TSDA: action.payload[1]['Time Series (Daily)'] ? action.payload[1] : state.cache_TSDA,\n        cache_TS15min: action.payload[1]['Time Series (15min)'] ? action.payload[1] : state.cache_TS15min,\n        cache_TS60min: action.payload[1]['Time Series (60min)'] ? action.payload[1] : state.cache_TS60min,\n        graph_type: action.payload[0]\n      }\n    default:\n      return state;\n  }\n}\n\nexport default logger;\n","import React, { createContext, useReducer } from 'react';\nimport AppReducer from './AppReducer';\n\n// AlphaVantage API Key = CQ5JZQYM4DG0OODA\n\n// Initial state\nconst initialState = {\n    backtests: [],     // Backtest list\n    symbol_list: [],      // user input search results (1 API call)\n    graphData_AV_API: {}, // graphs historical stock data (1 API call)\n    current_symbol: '',   // current stock symbol being graphed\n    current_company: '',  // current stock company name being graphed\n    graph_type: '',       // tracks graph type for graphSection.js to know to add proper amount of candles to chart\n    cache_TSDA: {},        // cache AV_API for time series daily adjusted until user changes stock view(prevents unnecssary API calls)\n    cache_TS15min: {},        // cache AV_API for time series 15 min until user changes stock view(prevents unnecssary API calls)\n    cache_TS60min: {}        // cache AV_API for time series 60 min until user changes stock view(prevents unnecssary API calls)\n}\n\n// Create context\nexport const GlobalContext = createContext(initialState);\n\n// Provider component\nexport const GlobalProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n\n    // Actions\n    function deleteBacktest(id) {\n        dispatch({\n            type: 'DELETE_BACKTEST',\n            payload: id\n        });\n    }\n\n    function addBacktest(backtest) {\n        dispatch({\n            type: 'ADD_BACKTEST',\n            payload: backtest\n        });\n    }\n\n    async function cache_TSDA_function(data) {\n        // If API limit: Alerts API limit reached, maintains current payload(stock data)\n        // Else: update current payload\n        if(data.Note){\n            alert(\"MAX API CALLS. Please wait a minute for more. PeakTrades was built using Alpha Vantage's free API where the call frequency is 5 calls per minute.\");\n            dispatch({\n                type: 'MAX_API',\n                payload: data\n            });\n        }else{\n            dispatch({\n                type: 'FILL_CACHE_TSDA',\n                payload: data\n            });\n        }\n    }\n\n    // User clicks outside search results\n    async function clearSearch(searchInputClear) {\n        dispatch({\n            type: 'STOCK_SEARCH',\n            payload: []\n        });\n    }\n\n    // Updates search results from API when user searches for a stock\n    async function stockSearch(searchInput) {\n        //API call for searching stock tickers\n        let response = await fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${searchInput.text}&apikey=CQ5JZQYM4DG0OODA`);\n        let data = await response.json();\n\n        //create temp list\n        let new_symbol_list = [];\n\n        // If API limit: alerts, maintains current results(if any)\n        // Else: updates search results display properly\n        if(data.Note){\n            alert(\"MAX API CALLS. Please wait a minute for more. However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");\n            // Maintains current search results\n            dispatch({\n                type: 'MAX_API',\n                payload: new_symbol_list\n            });\n        }else{\n        //iterate over all search results\n        Object.keys(data.bestMatches).forEach( (e) => {\n            //filter non-US stocks, then add\n            if(data.bestMatches[e][\"4. region\"] === \"United States\"){\n            let new_symbol = {\n                symbol: data.bestMatches[e][\"1. symbol\"],\n                name: data.bestMatches[e][\"2. name\"]\n            }\n            new_symbol_list = [new_symbol, ...new_symbol_list];\n            }\n        });\n        new_symbol_list.reverse();\n        //update state of web app (official symbol_list)\n        dispatch({\n            type: 'STOCK_SEARCH',\n            payload: new_symbol_list\n        });\n        }\n    }\n\n    // Graphs API data based on user selected stock symbol\n    async function graphSymbol(selectedSymbol, selectedCompany, graphType, doClearCache) {\n        // Clear cache for new symbol search\n        if(doClearCache){\n            state.cache_TSDA = {};\n            state.cache_TS15min = {};\n            state.cache_TS60min = {};\n        }\n\n        // Specific API call parameters\n        let function_API;\n        let outputSize;\n        let interval_API = '';\n        let cache_exists = false;\n        let data;\n        let response;\n        switch(graphType){\n            case 'day':\n                if(state.cache_TS15min['Time Series (15min)']){\n                    cache_exists = true;\n                    data = state.cache_TS15min;\n                }else{\n                    function_API = 'TIME_SERIES_INTRADAY';\n                    interval_API = '&interval=15min';\n                    outputSize = 'compact';\n                }\n                break;\n            case 'week':\n                if(state.cache_TS60min['Time Series (60min)']){\n                    cache_exists = true;\n                    data = state.cache_TS60min;\n                }else{\n                    function_API = 'TIME_SERIES_INTRADAY';\n                    interval_API = '&interval=60min';\n                    outputSize = 'compact';\n                }\n                break;\n            default:\n                if(state.cache_TSDA['Time Series (Daily)']){\n                    cache_exists = true;\n                    data = state.cache_TSDA;\n                }else{\n                    function_API = 'TIME_SERIES_DAILY_ADJUSTED';\n                    outputSize = 'full';\n                }\n        }\n        if(!cache_exists){\n            response = await fetch(`https://www.alphavantage.co/query?function=${function_API}&symbol=${selectedSymbol}${interval_API}&outputsize=${outputSize}&apikey=CQ5JZQYM4DG0OODA`);\n            data = await response.json();\n        }\n\n\n\n        // If API limit: Alerts API limit reached, maintains current payload(stock data)\n        // Else: update current payload\n        if(data.Note){\n            alert(\"MAX API CALLS. Please wait a minute for more. However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");\n            dispatch({\n                type: 'MAX_API',\n                payload: [graphType,data]\n            });\n        }else if(data['Error Message']){\n            alert(\"ERROR. This stock does not have valid data in the Alpha Vantage database.\");\n            dispatch({\n                type: 'MAX_API',\n                payload: [graphType,data]\n            });\n        }else{\n            dispatch({\n                type: 'DISPLAY_GRAPHS',\n                payload: [graphType,data, selectedCompany]\n            });\n        }\n\n        // Scroll to top, makes sure user sees graph\n        window.scrollTo(0, 0)\n    }\n\n    return (<GlobalContext.Provider value={{\n        backtests: state.backtests,\n        symbol_list: state.symbol_list,\n        graphData_AV_API: state.graphData_AV_API,\n        current_symbol: state.current_symbol,\n        current_company: state.current_company,\n        cache_TSDA: state.cache_TSDA,\n        cache_TS15min: state.cache_TS15min,\n        cache_TS60min: state.cache_TS60min,\n        graph_type: state.graph_type,\n        deleteBacktest,\n        addBacktest,\n        clearSearch,\n        stockSearch,\n        graphSymbol,\n        cache_TSDA_function\n    }}>\n        {children}\n        \n    </GlobalContext.Provider>);\n}\n","import React, {useContext} from 'react';\nimport styled from \"styled-components\";\nimport { GlobalContext } from '../context/GlobalState';\n\nconst CSS = styled.div`\n  width: fit;\n  background: transparent;\n\n  .search-item{\n    width:100%;\n    @media only screen and (max-width: 768px) {\n      width: 200%;\n    }\n    border:none;\n\n    border-bottom: 1px solid black;\n    background: #373641;\n    padding: 16px;\n    padding-bottom: 5px;\n    font-size: 16px;\n\n    text-align: left;\n    color: #dedfe4;\n    text-transform: uppercase;\n    font-weight: 420;\n    letter-spacing: 1.5px;      \n\n    &:focus, &:hover{\n      outline: none;\n      background: #3d3d4a;\n    }\n  }\n\n  .company-name{\n    color: #898996;\n    text-transform: capitalize;\n  }\n`;\n\n//graphSymbol(mySymbol.symbol, 'day', true)\nexport const SearchItem = ({ mySymbol }) => {\n  const { graphSymbol } = useContext(GlobalContext);\n  console.log(mySymbol.symbol, mySymbol.name);\n  return (\n    <div>\n      <CSS>\n        <button className=\"search-item\" onClick={() => graphSymbol(mySymbol.symbol, mySymbol.name, 'day', true)}>\n          <p>({mySymbol.symbol})<span className=\"company-name\"> {mySymbol.name}</span></p>\n        </button>\n      </CSS>\n    </div>\n  )\n}\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport styled from \"styled-components\";\nimport { SearchItem } from './SearchItem';\n\nimport { GlobalContext } from '../context/GlobalState';\n\nconst CSS = styled.div`\n  position: absolute;\n  z-index:2;\n  width: 24%;\n\n`;\n\nexport const SearchResults = () => {\n  const [text, setSearch] = useState(\"\");\n  const { symbol_list, clearSearch } = useContext(GlobalContext);\n\n  // Hook that alerts clicks outside of the passed ref\n  function useOutsideAlerter(ref) {\n    useEffect(() => {\n      /**\n       * Alert if clicked on outside of element\n       */\n      function handleClickOutside(event) {\n        if (ref.current && !ref.current.contains(event.target)) {\n          // Code for user clicking outside search results\n          setSearch(\"\");\n          clearSearch(text);\n        }\n      }\n      // Bind the event listener\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      return () => {\n        // Unbind the event listener on clean up\n        document.removeEventListener(\"mousedown\", handleClickOutside);\n      };\n    }, [ref]);\n  }\n\n  // Declare ref(search results) so outside can be referenced\n  const wrapperRef = useRef(null);\n  useOutsideAlerter(wrapperRef);\n\n  return (\n    symbol_list.length>0 ?\n    <div className=\"col-4\" ref={wrapperRef}>\n    <CSS>\n      {symbol_list.map(mySymbol => (<SearchItem key={mySymbol.symbol} mySymbol={mySymbol} />))}\n    </CSS>\n    </div>\n    :\n    <></>\n  )\n}\n","import React, {useState, useContext} from 'react';\nimport styled from \"styled-components\";\nimport { SearchResults } from './SearchResults';\n\nimport { GlobalContext } from '../context/GlobalState';\n\nconst CSS = styled.div`\n  *{\n    font-family: 'Lato', sans-serif; \n  }\n\n  .title{\n    font-size: 28px; \n    font-weight: 300; \n    color: #dedfe4;\n\n    position: absolute;\n    padding-left: 115px;\n    top: 25px;\n  }\n  .search {\n    &__container {\n        width:55%;\n        float:left;\n        padding-left: 20%;\n        padding-top: 0px;\n    }\n    \n    &__title {\n      font-size: 28px; \n      font-weight: 300; \n      text-align: left;\n      color: #dedfe4;\n\n    }\n    \n    &__input {\n        width: 100%;\n        padding: 2.5% 4%;\n\n        background-color: transparent;\n        transition: transform 250ms ease-in-out;\n        font-size: 12px;\n        line-height: 15px;\n        \n        color: #898996;\n        text-transform: uppercase;\n        font-weight: 520;\n        letter-spacing: 1.5px;\n        background-color: transparent;\n \n        background-image: url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");\n        background-repeat: no-repeat;\n        background-size: 18px 18px;\n        background-position: 97% center;\n        border-radius: 50px;\n        border: 1px solid #4f4f62;\n        transition: all 250ms ease-in-out;\n        backface-visibility: hidden;\n        transform-style: preserve-3d;\n\n        \n        &::placeholder {\n            color: #898996;\n            text-transform: uppercase;\n            font-weight: 520;\n            letter-spacing: 1.5px;\n        }\n        \n        &:hover,\n        &:focus {\n            padding: 12px 0;\n            outline: 0;\n            border: 1px solid transparent;\n            border-bottom: 1px solid #4f4f62;\n            border-radius: 0;\n            background-position: 100% center;\n        }\n    }\n  }\n\n  .logo-img{\n    width: 115px;\n    padding: 15px 24px;\n  }\n\n  .credits{\n    float:right;\n    width: 15%;\n    font-size: 15px;\n    font-weight: 350;\n    text-align: center;\n    color: white;\n    padding-top: 35px\n  }\n\n  \n  \n  background: #32323b;\n  .header{\n    width:100%;\n    height: 100px;\n    z-index:99;\n    position: fixed;\n    background: #32323b;\n  }\n\n  .search-credits{\n    width:80%;\n    float:right;\n  }\n`;\n\nexport const Header = () => {\n  const [text, setSearch] = useState('');\n\n  const { stockSearch } = useContext(GlobalContext);\n\n  //running search for stocks\n  const onSubmit = e  => {\n    e.preventDefault();\n\n    const searchInput = { text: text };\n    if(!(searchInput.text.length===0))\n      stockSearch(searchInput);\n  }\n\n  return (\n    <CSS>\n      <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1\" crossOrigin=\"anonymous\"></link>\n      <nav className=\"header\">\n      \n        <img className=\"logo-img\" src=\"icons8-money-80.png\" alt=\"\"/>\n        <div className=\"title\" >AlgoTrade</div>\n          \n\n        <div className=\"search-credits\">\n          <div className=\"search__container\"> \n            <form  onSubmit={onSubmit}>\n              <label className=\"search__title\" style={{paddingLeft:80}}>Search Company:</label>\n              <input className=\"search__input\" type=\"text\" placeholder=\"Search Tickers...\" onChange={(e) => setSearch(e.target.value)}/>\n              \n            </form>\n            <SearchResults />\n          </div>\n\n\n          <div className=\"credits\">\n             <a className=\"\" href=\"https://www.linkedin.com/in/john-duan/\" rel=\"noreferrer\" target=\"_blank\" style={{color:\"#61dafb\"}}> By Han</a>\n          </div>\n        </div>\n\n      </nav>\n    </CSS>\n  )\n}\n","import styled from \"styled-components\";\n\nconst CSS = styled.div`\n\n  p{\n    color: #898996;\n    padding: 2% 2% 2% 0%;\n    text-align: center;\n  }\n\n  background: #373641;\n\n`;\n\nexport const Footer = () => {\n  return (\n    <CSS>\n      <p>\n        AlgoTrade is a personal project developed by Han using React and Alphavantages stock API. \n      </p>\n    </CSS>\n  )\n}\n","import React from 'react';\nimport styled from \"styled-components\";\n\n  const CSS = styled.div`\n  \n    .trade-card{\n      margin-bottom: 10px;\n      font-size: 12px;\n      \n      display:block;\n      overflow:auto;\n\n      box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\n      background: #3d3d4a;  \n    }\n    .trade-card-sub{\n      float: left;\n      width: 33.33%;\n      padding: 1.25%;    \n    }\n    .result-item{\n      border-bottom: 2px solid #6464a3;\n      height: auto;\n      margin-bottom: 4%;\n      padding-bottom: 1%;\n    }\n    .result-title{\n      text-align: left;\n      color: #898996;\n      font-size: 12px;\n      width: 40%;\n    }\n    .result-output{\n      text-align: right;\n      color: #dedfe4;\n      font-size: 14px;\n      width: 60%;\n    }\n    .result-title-profit{\n      text-align: left;\n      color: #898996;\n      font-size: 12px;\n      width: 1%;\n\n    }\n    .result-output-profit{\n      text-align: right;\n      color: #dedfe4;\n      font-size: 14px;\n      width: 99%;\n\n    }\n  `;\n\nconst Trade = props => {\n  const { trade } = props;\n\n  return (\n    <CSS>\n      <div className=\"trade-card\">\n        <div className=\"trade-card-sub\">\n          <div className=\"result-item\">\n            <label className=\"result-title\">Buy Date: </label>\n            <label className=\"result-output\">{trade.buyDate}</label>\n          </div>\n          <div className=\"result-item\">\n            <label className=\"result-title\">Buy Price: </label>\n            <label className=\"result-output\">{trade.buyPrice}</label>\n          </div>\n          <div className=\"result-item\">\n            <label className=\"result-title\">Indicator Value at Buy: </label>\n            <label className=\"result-output\">{trade.indicatorAtBuy.toFixed(2)}</label>\n          </div>\n        </div>\n        <div className=\"trade-card-sub\">\n          <div className=\"result-item\">\n            <label className=\"result-title\">Sell Date:</label>\n            <label className=\"result-output\">{trade.sellDate}</label>\n          </div>\n          <div className=\"result-item\">\n            <label className=\"result-title\">Sell Price: </label>\n            <label className=\"result-output\">{trade.sellPrice}</label>\n          </div>\n          <div className=\"result-item\">\n            <label className=\"result-title\">Indicator Value at Sell: </label>\n            <label className=\"result-output\">{trade.indicatorAtSell.toFixed(2)}</label>\n          </div>\n        </div>\n        <div className=\"trade-card-sub\">\n          <div className=\"result-item\">\n            <label className=\"result-title\" data-tooltip=\"Number of shares for trade.\" data-tooltip-location=\"left\">Num of Shares:</label>\n            <label className=\"result-output\"> {trade.numShares.toFixed(2)}</label>\n          </div>\n          <div className=\"result-item\">\n            <label className=\"result-title-profit\" data-tooltip=\"Profit from this position.\" data-tooltip-location=\"left\">Profit: </label>\n            <label className=\"result-output-profit\">${trade.profitUSD.toFixed(2)}({trade.profitPercent>0?\"+\":\"\"}{(trade.profitPercent*100).toFixed(2)}%)</label>\n          </div>\n          <div className=\"result-item\">\n            <label className=\"result-title\" data-tooltip=\"Number of days between opening and closing this position.\"> Num Candles in Trade: </label>\n            <label className=\"result-output\">{trade.candleLength}</label>\n          </div>\n        </div>\n      </div>\n      \n    </CSS>\n  )\n}\n\nexport default Trade;","import React from 'react';\nimport Trade from './Trade';\n\nconst TradeList = props => {\n  const { tradeList } = props;\n  let myId = 0;\n  return (\n    <>\n      {tradeList.map(trade => (<Trade key={myId++} trade={trade} />))}\n    </>\n  )\n}\n\nexport default TradeList;","import React, {useState, useContext} from 'react';\nimport styled from \"styled-components\";\nimport TradeList from './TradeList';\n\nimport { GlobalContext } from '../context/GlobalState';\n//import { pairs } from 'd3';\n\nconst CSS = styled.div`\n  background: #3d3d4a;\n  color: #898996;\n  display:flex;\n\n  padding: 1%;\n  margin: 0% 0% 1% 0%;\n\n  .settings{\n    font-size: 16px;\n    padding: 1%;\n    width: 25%;\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\n  }\n  .results-overview{\n    padding: 1%;\n    width: 24%;\n    font-size: 16px;\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\n    margin: 0% 1%;\n  }\n  .list-of-trades{\n    padding:1%;\n    width: 50%;\n    font-size: 16px;\n    box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;\n\n  }\n\n\n  h4{\n    font-size: 180%;\n    border-bottom: 4px solid #898996;\n  }\n\n\n\n  /* left card CSS begin */\n  .input-flex{\n    display:flex;\n    border: none;\n    border-bottom: 2px solid #6464a3;\n    background: transparent;//#eff1f2;\n    color: #dedfe4;\n    width: 75%;\n    height: 2rem;\n    font-size: 16px;\n    padding-left: 0.5rem;\n    padding-top: 0.325rem;\n    padding-bottom: 0.325rem;\n    margin-bottom: 0.425rem;\n    \n    &:focus, &:hover{\n      outline: none;\n      color: #373641;\n      ::placeholder{\n        color: #a5a5b0;\n      }\n      background: #dedfe4;\n    }\n    ::placeholder{\n      color: #dedfe4;\n    }\n  }\n\n  .input-inline{\n    display:inline;\n    border: none;\n    border-bottom: 2px solid #6464a3;\n    background: transparent;//#eff1f2;\n    color: #dedfe4;\n    width:10%;\n    height: 2rem;\n    font-size: 16px;\n    padding-left: 0.5rem;\n    padding-top: 0.325rem;\n    padding-bottom: 0.325rem;\n    margin-bottom: 0.425rem;\n    \n    &:focus, &:hover{\n      outline: none;\n      color: #373641;\n      ::placeholder{\n        color: #a5a5b0;\n      }\n      background: #dedfe4;\n    }\n    ::placeholder{\n      color: #dedfe4;\n    }\n  }\n\n  .input-label{\n    color: #898996;\n    font-size: 14px;\n  }\n\n  .input-label-sub{\n    color: #898996;\n    font-style: italic;\n    font-size: 80%;\n    padding-left: 5%;\n    margin-bottom: 2%;\n  }\n\n  .input-select {\n    display:flex;\n    width: 75%;\n    color: #dedfe4;\n    border: none;\n    border-bottom: 2px solid #6464a3;\n    background: transparent;\n    height: 2rem;\n    font-size: 16px;\n    padding-left: 0.5rem;\n    margin-bottom: 0.425rem;\n\n    &:focus, &:hover{\n      outline: none;\n      color: #373641;\n      background: #dedfe4;\n    }\n  }\n\n\n  .calc-button {\n    display: block;\n    cursor: pointer;\n    outline: none;\n    border: none;\n    background-color: #dedfe4;\n    width: 200px;\n    height: 35px;\n    border-radius: 30px;\n    font-size: 18px;\n    font-weight: 600;\n    color: #373641;\n    background-size: 100% 100%;\n    box-shadow: 0 0 0 1px black inset;\n    margin: 1%;\n    margin-top: 3%;\n\n    @media only screen and (max-width: 968px) {\n      width: auto;\n    }\n  }\n  \n  .calc-button:hover {\n    background-image: linear-gradient(\n      145deg,\n      transparent 10%,\n      #89d47f 10% 20%,\n      transparent 20% 30%,\n      #89d47f 30% 40%,\n      transparent 40% 50%,\n      #89d47f 50% 60%,\n      transparent 60% 70%,\n      #89d47f 70% 80%,\n      transparent 80% 90%,\n      #89d47f 90% 100%\n    );\n    animation: background 6s linear infinite;\n\n\n    @media only screen and (max-width: 968px) {\n      width: auto;\n      color: #52515c;\n      background-color: #ebebeb;\n      background-image: none;\n    }\n  }\n\n  .del-button {\n    display: block;\n    cursor: pointer;\n    outline: none;\n    border: none;\n    background-color: #dedfe4;\n    width: 200px;\n    height: 35px;\n    border-radius: 30px;\n    font-size: 18px;\n    font-weight: 600;\n    color: #373641;\n    background-size: 100% 100%;\n    box-shadow: 0 0 0 1px black inset;\n    margin: 1%;\n    \n    margin-top: 3%;@media only screen and (max-width: 968px) {\n      width: auto;\n    }\n  }\n  \n  .del-button:hover {\n    background-image: linear-gradient(\n      145deg,\n      transparent 10%,\n      #d4847f 10% 20%,\n      transparent 20% 30%,\n      #d4847f 30% 40%,\n      transparent 40% 50%,\n      #d4847f 50% 60%,\n      transparent 60% 70%,\n      #d4847f 70% 80%,\n      transparent 80% 90%,\n      #d4847f 90% 100%\n    );\n    animation: background 6s linear infinite;\n    @media only screen and (max-width: 968px) {\n      width: auto;\n      color: #52515c;\n      background-color: #ebebeb;\n      background-image: none;\n    }\n  }\n  \n  @keyframes background {\n    0% {\n      background-position: 0 0;\n    }\n    100% {\n      background-position: 400px 0;\n    }\n  }\n  /* left card CSS end */\n  /* middle card CSS begin */\n  .result-item{\n    border-bottom: 2px solid #6464a3;\n    height: auto;\n    margin-bottom: 4%;\n    padding-bottom: 1%;\n  }\n  .result-title{\n    text-align: left;\n    color: #898996;\n    font-size: 14px;\n    width: 50%;\n  }\n  .result-output{\n    text-align: right;\n    color: #dedfe4;\n    font-size: 16px;\n    width: 50%;\n  }\n\n  .conclusion-title{\n    text-align: left;\n    color: #898996;\n    font-size: 14px;\n    width: 35%;\n  }\n  .backtest-won{\n    text-align: right;\n    font-size: 16px;\n    width: 65%;\n\n    color: #81dfc4;\n  }\n\n  .backtest-lost{\n    text-align: right;\n    font-size: 16px;\n    width: 65%;\n\n    color: #d75b6d;\n  }\n\n  .backtest-null{\n    text-align: right;\n    font-size: 16px;\n    width: 65%;\n\n    color: #dedfe4;\n  }\n  /* middle card CSS end */\n  /* right card CSS begin */\n  .trades-scroll{\n    font-size: 12px;\n    background-color: #373641;\n    padding: 1% 3%;\n    width:auto;\n    overflow-y:auto;\n    overflow-x:clip;\n    height: 750px;\n  }\n\n  /* right card CSS end */\n\n  /* Tooltip begin */\n  [data-tooltip] {\n    position: relative;\n    z-index: 10;\n  }\n\n  /* Positioning and visibility settings of the tooltip */\n  [data-tooltip]:before,\n  [data-tooltip]:after {\n    position: absolute;\n    visibility: hidden;\n    opacity: 0;\n    left: 50%;\n    bottom: calc(100% + 5px); /* 5px is the size of the arrow */\n    pointer-events: none;\n    transition: 0.2s;\n    will-change: transform;\n  }\n\n  /* The actual tooltip with a dynamic width */\n  [data-tooltip]:before {\n    content: attr(data-tooltip);\n    padding: 10px 18px;\n    min-width: 50px;\n    max-width: 300px;\n    width: max-content;\n    width: -moz-max-content;\n    border-radius: 6px;\n    font-size: 14px;\n    background-color: rgba(59, 72, 80, 0.9);\n    background-image: linear-gradient(30deg,\n      rgba(59, 72, 80, 0.44),\n      rgba(59, 68, 75, 0.44),\n      rgba(60, 82, 88, 0.44));\n    box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.2);\n    color: #fff;\n    text-align: center;\n    white-space: pre-wrap;\n    transform: translate(-50%, -5px) scale(0.5);\n  }\n\n  /* Tooltip arrow */\n  [data-tooltip]:after {\n    content: '';\n    border-style: solid;\n    border-width: 5px 5px 0px 5px; /* CSS triangle */\n    border-color: rgba(55, 64, 70, 0.9) transparent transparent transparent;\n    transition-duration: 0s; /* If the mouse leaves the element, \n                                the transition effects for the \n                                tooltip arrow are \"turned off\" */\n    transform-origin: top;   /* Orientation setting for the\n                                slide-down effect */\n    transform: translateX(-50%) scaleY(0);\n  }\n\n  /* Tooltip becomes visible at hover */\n  [data-tooltip]:hover:before,\n  [data-tooltip]:hover:after {\n    visibility: visible;\n    opacity: 1;\n  }\n  /* Scales from 0.5 to 1 -> grow effect */\n  [data-tooltip]:hover:before {\n    transition-delay: 0.3s;\n    transform: translate(-50%, -5px) scale(1);\n  }\n  /* \n    Arrow slide down effect only on mouseenter (NOT on mouseleave)\n  */\n  [data-tooltip]:hover:after {\n    transition-delay: 0.5s; /* Starting after the grow effect */\n    transition-duration: 0.2s;\n    transform: translateX(-50%) scaleY(1);\n  }\n\n  /* LEFT */\n  /* Tooltip + arrow */\n  [data-tooltip-location=\"left\"]:before,\n  [data-tooltip-location=\"left\"]:after {\n    left: auto;\n    right: calc(100% + 5px);\n    bottom: 50%;\n  }\n\n  /* Tooltip */\n  [data-tooltip-location=\"left\"]:before {\n    transform: translate(-5px, 50%) scale(0.5);\n  }\n  [data-tooltip-location=\"left\"]:hover:before {\n    transform: translate(-5px, 50%) scale(1);\n  }\n\n  /* Arrow */\n  [data-tooltip-location=\"left\"]:after {\n    border-width: 5px 0px 5px 5px;\n    border-color: transparent transparent transparent rgba(55, 64, 70, 0.9);\n    transform-origin: left;\n    transform: translateY(50%) scaleX(0);\n  }\n  [data-tooltip-location=\"left\"]:hover:after {\n    transform: translateY(50%) scaleX(1);\n  }\n\n\n\n  /* RIGHT */\n  [data-tooltip-location=\"right\"]:before,\n  [data-tooltip-location=\"right\"]:after {\n    left: calc(100% + 5px);\n    bottom: 50%;\n  }\n\n  [data-tooltip-location=\"right\"]:before {\n    transform: translate(5px, 50%) scale(0.5);\n  }\n  [data-tooltip-location=\"right\"]:hover:before {\n    transform: translate(5px, 50%) scale(1);\n  }\n\n  [data-tooltip-location=\"right\"]:after {\n    border-width: 5px 5px 5px 0px;\n    border-color: transparent rgba(55, 64, 70, 0.9) transparent transparent;\n    transform-origin: right;\n    transform: translateY(50%) scaleX(0);\n  }\n  [data-tooltip-location=\"right\"]:hover:after {\n    transform: translateY(50%) scaleX(1);\n  }\n\n\n\n  /* BOTTOM */\n  [data-tooltip-location=\"bottom\"]:before,\n  [data-tooltip-location=\"bottom\"]:after {\n    top: calc(100% + 5px);\n    bottom: auto;\n  }\n\n  [data-tooltip-location=\"bottom\"]:before {\n    transform: translate(-50%, 5px) scale(0.5);\n  }\n  [data-tooltip-location=\"bottom\"]:hover:before {\n    transform: translate(-50%, 5px) scale(1);\n  }\n\n  [data-tooltip-location=\"bottom\"]:after {\n    border-width: 0px 5px 5px 5px;\n    border-color: transparent transparent rgba(55, 64, 70, 0.9) transparent;\n    transform-origin: bottom;\n  }\n\n  /* End of tooltips */\n\n`;\n\nexport const Backtest = ({ backtest }) => {\n\n  const defaultTimePeriod = () => {\n    switch(backtest.indicator){\n      case 'RSI': return 14;\n      case 'EMA': return 9;\n      case 'SMA': return 9;\n      case 'BB': return 20;\n      default: return 24;\n    }\n  }\n  const defaultBuyStrat = () => {\n    switch(backtest.indicator){\n      case 'RSI': return 30;\n      case 'EMA': return -3;\n      case 'SMA': return -3;\n      case 'BB': return -3;\n      default: return -3;\n    }\n  }\n\n  // Returns today date in YYYY-MM-DD formate\n  const getTodayDate = () => {\n    return new Date().toISOString().slice(0, 10);\n  }\n\n  // Returns 100 years ago today date in YYYY-MM-DD formate\n  const getOldDate = () => {\n    let myDate = new Date(new Date().setFullYear(new Date().getFullYear() - 100));\n    return myDate.toISOString().slice(0, 10);\n  }\n  \n  // Converts YYYY-MM-DD to DD/MM/YYYY\n  const formatDate = uglyDate => {\n    var array = (uglyDate || '').toString().split(/-/g);\n    array.push(array.shift());\n    return array.join('/') || null;\n  }\n\n  const [tradeListData, setTradeListData] = useState([]);\n\n  const [seriesType, setSeriesType] = useState('1. open');\n  const [timePeriod, setTimePeriod] = useState(defaultTimePeriod());\n  const [stdDeviation, setStdDeviation] = useState(2);\n  const [startDate, setStartDate] = useState(getOldDate());\n  const [endDate, setEndDate] = useState(getTodayDate());\n\n  const [maxBags, setMaxBags] = useState(15);\n  const [initalBalance, setInitialBalance] = useState(3000);\n  const [initalBuyType, setInitalBuyType] = useState('usd');\n  const [initalBuyAmount, setInitalBuyAmount] = useState(100);\n  const [buyStrategyValue, setBuyStrategyValue] = useState(defaultBuyStrat());\n  const [buyStrategyType, setBuyStrategyType] = useState('Real Middle Band'); // Used for Bollinger upper/middle/lower\n  const [sellStrategyValue, setSellStrategyValue] = useState(1);\n\n  const { deleteBacktest, current_symbol, cache_TSDA, cache_TSDA_function } = useContext(GlobalContext);\n\n  // Used for JSX dropdown items\n  const dropdownItems = (items) => {\n    return items.map(item => <option value={item.value} key={item.name}>{item.name}</option>);\n  }\n\n  // Calculates USD value for creating a bag\n  function calcInitalBuy(buyType, buyAmount, currentBalance, curStockPrice) {\n    switch(buyType){\n      case \"numStocks\":\n        return curStockPrice*buyAmount;\n      case \"percent\":\n        return currentBalance * (buyAmount/100.00);\n      default:\n        // case \"usd\":\n        return buyAmount;\n\n    }\n  }\n\n  // Function to return true/false for buy condition, given price and indicator values\n  function isBuyConditionMet(buyStrategyValue, curStockPrice, curIndicatorValue) {\n    switch(backtest.indicator){\n      case \"RSI\":\n        return curIndicatorValue < buyStrategyValue;\n      default:\n        // case EMA, SMA, BB (all cases where indicator is a price of stock)\n        console.log(`price is ${curStockPrice}, indicator is ${curIndicatorValue}, buy Price`, (curIndicatorValue * ((100.0 + buyStrategyValue)/100.0)), curStockPrice <= (curIndicatorValue * ((100.0 + buyStrategyValue)/100.0)));\n\n        return curStockPrice <= (curIndicatorValue * ((100.0 + buyStrategyValue)/100.0));\n    }\n  }\n\n  // Returns JSON name of element for indicator item\n  function getIndicatorJSON() {\n    switch(backtest.indicator){\n      case \"BBANDS\":\n        return buyStrategyType;\n      default:\n        return backtest.indicator;\n\n    }\n  }\n\n  // Finalizes trade, storing buy/sell data into backtest.tradeListData\n  function finalizeTrade(myBag, buyDate, sellDate, candleCountSell, sellPrice, curIndicatorValue, numShares) {\n    const percentChange = (sellPrice/myBag[\"buy-price\"]);\n    const profitUSD = +(percentChange-1)*myBag[\"volume-USD\"];\n    const candleLength = +candleCountSell-myBag[\"candle-count-buy\"];\n    \n    // Push on individual trade data\n    (backtest.tradeListData).push({\n      buyDate,\n      sellDate,\n      buyPrice: myBag[\"buy-price\"],\n      sellPrice,\n      numShares,\n      profitPercent: +percentChange-1,\n      profitUSD,\n      candleLength,\n      indicatorAtSell: curIndicatorValue,\n      indicatorAtBuy: myBag[\"indicator-at-buy\"]\n    });\n\n    // Update results Overview data\n    backtest.numTrades++;\n    backtest.profitUSD += profitUSD;\n    backtest.netBars += candleLength;\n    backtest.netSellVolume += sellPrice * numShares;\n\n    //console.log(\"finalizeTrade called, % change:\", percentChange, buyDate, sellDate);\n  }\n\n  // Runs user specified backtest algorithms and prepares outputs/trades to display\n  async function runBacktests(paperAPICall, pairSettings) {\n    let stockPriceData;\n    let stockIndicatorData;\n    let response;\n\n    // Ensure user has selected a stock\n    if(!current_symbol){\n      alert(\"Please select a stock to test your strategy on.\");\n      return;\n    }\n    \n    // Ensure API json for cache_TSDA exists\n    if(!cache_TSDA['Meta Data']){\n      response = await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${current_symbol}&outputsize=full&apikey=CQ5JZQYM4DG0OODA`);\n      stockPriceData = await response.json();\n      cache_TSDA_function(stockPriceData);\n\n      // Stop if MAX API\n      if(stockPriceData.Note) return;\n    }else{\n      stockPriceData = cache_TSDA;\n    }\n\n    // Make API call for stockIndicatorData\n    let optionalParameters;\n    switch(backtest.indicator){\n      case 'BBANDS':\n        optionalParameters = `&nbdevup=${pairSettings.stdDeviation}&nbdevdn=${pairSettings.stdDeviation}`;\n        break;\n      default:\n        optionalParameters = '';\n    }\n    response = await fetch(`https://www.alphavantage.co/query?function=${backtest.indicator}&symbol=${current_symbol}&interval=daily&time_period=${paperAPICall.timePeriod}&series_type=${paperAPICall.seriesType}${optionalParameters}&apikey=CQ5JZQYM4DG0OODA`);\n    stockIndicatorData = await response.json();\n    backtest.didRun = true;\n\n    // Catches MAX API\n    if(stockIndicatorData.Note){\n      alert(\"MAX API CALLS. Please wait a minute for more. Thank you for visitng my project! However, it was built using Alpha Vantage's standard API where the call frequency is 5 calls per minute and 500 calls per day.\");\n      backtest.didRun = false;\n      return;\n    }\n\n    // Initalize bags/candle-count/currentBalance\n    let candleCount = 0;\n    let bagList = {};\n    bagList.length = 0;\n    let currentBalance = pairSettings.initalBalance;\n    let startDateReached = false;\n    // Initalize single integer to know lowest price I consider selling at(updated when new bags are added)\n    let lowestSellPrice = 0;\n    // Main loop that runs the paper trading bot algo, maintains bags/buys/sells/etc throughout 5 years (1265 trading days)\n    // Note: in the following for loop: key == date\n    for(let [key] of Object.entries(stockIndicatorData[`Technical Analysis: ${backtest.indicator}`]).reverse()){\n      // Enables iterator code to run once start date reached/passed\n      if(key>=startDate){\n        startDateReached = true;\n      }\n      // Skips iterator because start date not reached\n      if(startDateReached === false){\n        continue;\n      }else if(key===endDate){\n        // End date reached... so stop iterating.\n        break;\n      }\n      // Count Candles interated over\n      candleCount++;\n      \n      // Skip days where no price exists\n      if(!stockPriceData[\"Time Series (Daily)\"][`${key}`]) continue;\n      // Essential values for iterating stock data\n      let curIndicatorValue = +stockIndicatorData[`Technical Analysis: ${backtest.indicator}`][`${key}`][`${getIndicatorJSON()}`];\n      let curStockPrice = +stockPriceData[\"Time Series (Daily)\"][`${key}`][`${paperAPICall.seriesType}`];\n\n      // First price of start date\n      if(!backtest.startPrice){\n        backtest.startPrice = curStockPrice;\n      }\n      // Maintain oldest price\n      backtest.endPrice = curStockPrice;    \n\n      // Prospective USD to create a new bag\n      const newBagVolume = calcInitalBuy(pairSettings.initalBuyType, pairSettings.initalBuyAmount, currentBalance, curStockPrice);\n\n      // If Buy condition: Bags open, balance sufficient, price meets indicator limit\n      if(bagList.length<pairSettings.maxBags && newBagVolume <= currentBalance && isBuyConditionMet(pairSettings.buyStrategyValue, curStockPrice, curIndicatorValue)){\n        // Create and add bag to bagList, increment bagList.length. Automatically added by creating key.\n        bagList.length++;\n        console.log(\"bag added\", bagList);\n        bagList[`${key}`] = {\n          \"sell-price-limit\": +(1+(pairSettings.sellStrategyValue/100)) * curStockPrice,\n          \"buy-price\": +curStockPrice,\n          \"candle-count-buy\": +candleCount,\n          \"volume-USD\": +newBagVolume,\n          \"num-shares\": +newBagVolume/curStockPrice,\n          \"indicator-at-buy\": curIndicatorValue\n        }\n\n        // Update currentBalance\n        currentBalance -= bagList[`${key}`][\"volume-USD\"];\n\n        // Update lowestSellPrice, min of current lowest, or new buy price is lower. Initialize if only 1 bag.\n        if(bagList.length===1){\n          lowestSellPrice = +bagList[`${key}`][\"sell-price-limit\"];\n        }else{\n          lowestSellPrice = Math.min(lowestSellPrice, bagList[`${key}`][\"sell-price-limit\"]);\n        }\n      // Else If Sell Condition\n      }else if(curStockPrice>= lowestSellPrice && bagList.length>0){\n        // Store key of buy date(below loop has new key in smaller scope)\n        let sellDate = key;\n        for(let [key] of Object.entries(bagList)){ \n          if(curStockPrice >= bagList[`${key}`][\"sell-price-limit\"]){\n            // Finalize Trade function records trade data into backtest to display in JSX below\n            finalizeTrade(bagList[`${key}`], key, sellDate, candleCount, curStockPrice, curIndicatorValue, bagList[`${key}`][\"num-shares\"], bagList[`${key}`][\"indicator-at-buy\"]);\n            delete bagList[`${key}`];\n            bagList.length--;\n          }\n        }\n\n        // If bags exist, update to new lowest price\n        const newBagListKeys = Object.entries(bagList);\n        if(newBagListKeys[0][1]>0){\n          lowestSellPrice = bagList[newBagListKeys[1][0]][\"sell-price-limit\"];\n          for(let [key] of newBagListKeys){ \n            lowestSellPrice = Math.min(lowestSellPrice, +bagList[`${key}`][\"sell-price-limit\"]);\n          }\n        }\n      }\n      // End of Buy/Sell conditions\n    }\n    \n    //console.log(\"iterating done\", backtest, startDate, endDate, backtest.holdReturn);\n    // Iterating complete, finalize some data on compelted backtest algorithm\n    backtest.holdReturn = (((backtest.endPrice / backtest.startPrice)-1) * 100).toFixed(2);\n    //console.log(\"set holdret\", backtest.holdReturn, \"end/start\", backtest.endPrice, backtest.startPrice);\n    delete backtest.startPrice;\n    backtest.profitPercentOnBalance = backtest.profitUSD / pairSettings.initalBalance;\n    backtest.profitPercentOnTrades = backtest.profitUSD / (backtest.netSellVolume - backtest.profitUSD);\n    backtest.avgBars = backtest.netBars / backtest.numTrades;\n    \n    // Update results display and sends tradeListData to TradeList.js in JSX below\n    setTradeListData(backtest.tradeListData);\n  }\n\n  // Turns JSX input type to date\n  const onFocus = e =>{\n    e.currentTarget.type = \"date\";\n  }\n\n  const onSubmit = () => {\n    backtest.current_symbol = current_symbol;\n\n    const paperAPICall = { \n      // Relavent variables that are global: current_symbol, interval(daily), backtest.indicator(ex, RSI)\n      seriesType: seriesType,\n      timePeriod: +timePeriod,\n      stdDeviation: +stdDeviation\n    };\n\n    // Trivial value, set to 2\n    if(paperAPICall.timePeriod===1){\n      paperAPICall.timePeriod = 2;\n    }\n\n    const pairSettings = {\n      maxBags: +maxBags,\n      initalBalance: +initalBalance,\n      initalBuyType: initalBuyType,\n      initalBuyAmount: +initalBuyAmount,\n      buyStrategyValue: +buyStrategyValue,\n      buyStrategyType, // used for Bollinger upper/middle/lower\n      sellStrategyValue: +sellStrategyValue\n    }\n\n    // Ensure no trivial strategies are submitted\n    if(pairSettings.maxBags<1 || pairSettings.initalBalance<1 || pairSettings.initalBuyAmount<1 || pairSettings.sellStrategyValue<0 || paperAPICall.timePeriod<1){\n      // Bags, balance, timeperiod, buy amount, sell gain% must be positive\n      alert(\"Please enter valid inputs. Use positive integers for the following: Max bags, Sell percentage, Time period, Buy amount, Inital Balance.\");\n    }else if(pairSettings.initalBuyType==='percent' && (pairSettings.initalBuyAmount<1 || pairSettings.initalBuyAmount>100)){\n      // if(buy type is percent) buy amount must be (0-100]\n      alert(\"Buy amount percentage must be 1-100%\");\n    }else if (pairSettings.initalBuyAmount>pairSettings.initalBalance){\n      // inital buy must be < inital balance\n      alert(\"Inital buys must be less than or equal to inital balance.\");\n    }else if(backtest.indicator==='RSI' && (pairSettings.buyStrategyValue<1 || pairSettings.buyStrategyValue>99)){\n      // Ensure no trivial strategy specific settings are submitted <connect to previous if chain thing>\n      alert(\"RSI values must be between 1-99\");\n    }else if(backtest.indicator==='BBANDS' && paperAPICall.stdDeviation<0.5){\n      // Ensure no trivial BB std deviation\n      alert(\"Standard Deviation must be greater than or equal to 0.5.\");\n    }else{\n      // Calculation inputs valid\n      //console.log(pairSettings);\n\n      // Initialize Trade List Data(for final results)\n      backtest.tradeListData = [];\n      backtest.profitUSD = 0;\n      backtest.numTrades = 0;\n      backtest.netBars = 0;\n      backtest.netSellVolume = 0; // Net volume USD sold\n\n      // Run backtest algorithm\n      runBacktests(paperAPICall, pairSettings);\n    }\n\n  }\n\n  let indicatorSettingDOM = null;\n  switch(backtest.indicator){\n    case 'RSI':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n          <label className=\"input-label\" data-tooltip=\"Number of prior days technical indicator is calculated from.\">Time Period (days):</label>\n          <input className=\"input-flex\" placeholder='14' onChange={(e) => setTimePeriod(e.target.value)} />\n      </>);\n      break;\n    case 'EMA':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n        <label className=\"input-label\" data-tooltip=\"Number of prior days technical indicator is calculated from.\">Time Period (days): </label>\n        <input className=\"input-flex\" placeholder=\"9\" onChange={(e) => setTimePeriod(e.target.value)} />\n      </>);\n      break;\n    case 'SMA':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n        <label className=\"input-label\" data-tooltip=\"Number of prior days technical indicator is calculated from.\">Time Period (days):</label>\n        <input className=\"input-flex\" placeholder=\"9\" onChange={(e) => setTimePeriod(e.target.value)} />\n      </>);\n      break;\n    case 'BBANDS':\n      indicatorSettingDOM = (<> \n        {/* Time Period(# candles in calc) */}\n        <label className=\"input-label\" data-tooltip=\"Number of prior days technical indicator is calculated from.\">Time Period (days): </label>\n        <input className=\"input-flex\" placeholder=\"20\" onChange={(e) => setTimePeriod(e.target.value)} />\n\n        {/* Standard deviation for both top/bot lines */}\n        <label className=\"input-label\" data-tooltip=\"Standard devation for calculating upper and lower bollinger bands.\">Standard Deviation for upper/lower lines:</label>\n        <input className=\"input-flex\" placeholder=\"2\" onChange={(e) => setStdDeviation(e.target.value)} />\n      </>);\n      break;\n    default:\n      indicatorSettingDOM = (<div>Default backtest indicator DOM</div>);\n    \n  }\n\n  let buyStrategyDOM = null;\n  switch(backtest.indicator){\n    case 'RSI':\n      buyStrategyDOM = (<> \n        {/* Buy Strategy RSI */}\n        <label className=\"input-label\" data-tooltip=\"Open a position on stock for this condition.\">Buy when RSI less than</label>\n        <input className=\"input-inline\" placeholder='30' onChange={(e) => setBuyStrategyValue(e.target.value)} />\n        <br/>\n      </>);\n      break;\n    case 'EMA':\n      buyStrategyDOM = (<> \n        {/* Buy strategy % away */}\n        <label className=\"input-label\" data-tooltip=\"Open a position on stock for this condition.\">Buy at price</label>\n        <input className=\"input-inline\" placeholder=\"-3\" onChange={(e) => setBuyStrategyValue(e.target.value)}/>\n        <label className=\"input-label\" data-tooltip=\"Open a position on stock for this condition.\">% away from the EMA line. </label>\n        <label className=\"input-label-sub\" data-tooltip=\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\">(3 = 3% above, -3 = 3% below)</label>\n        <br/>\n      </>);\n      break;\n    case 'SMA':\n      buyStrategyDOM = (<> \n        {/* Buy strategy % away */}\n        <label className=\"input-label\" data-tooltip=\"Open a position on stock for this condition.\">Buy at price</label>\n        <input className=\"input-inline\" placeholder=\"-3\" onChange={(e) => setBuyStrategyValue(e.target.value)}/>\n        <label className=\"input-label\" data-tooltip=\"Open a position on stock for this condition.\">% away from the SMA line. </label>\n        <label className=\"input-label-sub\" data-tooltip=\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\">(3 = 3% above, -3 = 3% below)</label>\n        <br/>\n      </>);\n      break;\n    case 'BBANDS':\n      buyStrategyDOM = (<> \n        {/* Buy strategy % away (BB) */}\n        <label className=\"input-label\" data-tooltip=\"Select bollinger band the backtest will track to open and close positions.\">Band to follow:</label>\n        <select className=\"input-select\" onChange={(e) => setBuyStrategyType(e.target.value)}>\n          {dropdownItems([\n            {name:'Middle', value:'Real Middle Band'},\n            {name:'Upper', value:'Real Upper Band'},\n            {name:'Lower', value:'Real Lower Band'}\n          ])}\n        </select>\n        \n        <label className=\"input-label\" data-tooltip=\"Open a position on stock for this condition.\">Buy at price</label>\n        <input className=\"input-inline\" placeholder=\"-3\" onChange={(e) => setBuyStrategyValue(e.target.value)}/>\n        <label className=\"input-label\" data-tooltip=\"Open a position on stock for this condition.\">% away from the selected line. </label>\n        <label className=\"input-label-sub\" data-tooltip=\"Positive values will open a position when the stock price is X% above the indicator value. Negative values will open a position when the stock price is X% below the indicator value.\">(3 = 3% above, -3 = 3% below)</label>\n        <br/>\n      </>);\n      break;\n    default:\n      buyStrategyDOM = (<div>buy strat dom default</div>);\n    \n  }\n\n  // Immediately Calculates backtest results (for 'See Example' button on homepage)\n  if(backtest.immediatelyCalculate){\n    onSubmit();\n    backtest.immediatelyCalculate = false;\n  }\n\n  return (\n    <CSS>\n      <div className='settings'>\n        {/* Beginning of Settings */}\n        <h4 data-tooltip=\"Settings for calculating technical indicator.\">{backtest.indicator} Settings</h4>\n\n        {/* series type */}\n        <label className=\"input-label\" data-tooltip=\"Indicator calculated from open, high, low, or closing prices for each period.\">Select Series Type:</label>\n        <select className=\"input-select\" onChange={(e) => setSeriesType(e.target.value)}>\n          {dropdownItems([\n            {name:'open', value:'1. open'},\n            {name:'close', value:'4. close'},\n            {name:'high', value:'2. high'},\n            {name:'low', value:'3. low'}])}\n        </select>\n        \n        {indicatorSettingDOM}\n\n        <br/>\n\n        <h4 data-tooltip=\"Settings for calculating buy/sell conditions.\">Trading Strategy Settings</h4>\n\n        {/* Begin date for backtest */}\n        <label className=\"input-label\" data-tooltip=\"Date for the backtest to begin. Leave blank for earliest date.\">Start Date:</label>\n        <input className=\"input-flex\" type=\"text\" placeholder=\"IPO date (earliest)\" onFocus={(e) => onFocus(e)} onChange={(e) => setStartDate(e.target.value)}/>\n              \n\n        {/* End date for backtest */}\n        <label className=\"input-label\" data-tooltip=\"Date for the backtest to end. Leave blank for today's date.\">End Date:</label>\n        <input className=\"input-flex\" type=\"text\" placeholder={formatDate(getTodayDate())} onFocus={(e) => onFocus(e)} onChange={(e) => setEndDate(e.target.value)}/>\n              \n        {/* Max number bags */}\n        <label className=\"input-label\" data-tooltip=\"Max number of positions to have at a given time. Algorithm will not add new positions that would exceed this value.\">Max number of positions:</label>\n        <input className=\"input-flex\" placeholder=\"15\" onChange={(e) => setMaxBags(e.target.value)} />\n\n        {/* Inital balance */}\n        <label className=\"input-label\" data-tooltip=\"Inital balance for backtest algorithm to start trading with.\">Inital balance (USD):</label>\n        <input className=\"input-flex\" min=\"0\" placeholder=\"3000\" onChange={(e) => setInitialBalance(e.target.value)} />\n\n        {/* Inital buy (type/amount) */}\n        <label className=\"input-label\" data-tooltip=\"Volume of new positions will be opened in reference to this type of value.\">Inital buy type:</label>\n        <select className=\"input-select\" onChange={(e) => setInitalBuyType(e.target.value)}>\n          {dropdownItems([\n            {name:'($) USD', value:'usd'},\n            {name:'(%) Percent of Balance', value:'percent'},\n            {name:'(#) Number of Stocks', value:'numStocks'}\n          ])}\n        </select>\n\n        <label className=\"input-label\" data-tooltip=\"Value for new positions to begin with.\">Inital buy amount:</label>\n        <input className=\"input-flex\" min=\"0\" placeholder=\"100\" onChange={(e) => setInitalBuyAmount(e.target.value)} />\n\n        {buyStrategyDOM}\n\n        {/* Sell Strategy */}\n        <label className=\"input-label\" data-tooltip=\"Close positions when profit meets or exceeds this value.\">Sell position at</label>\n        <input className=\"input-inline\" placeholder=\"1\" onChange={(e) => setSellStrategyValue(e.target.value)} />\n        <label className=\"input-label\" data-tooltip=\"Close positions when profit meets or exceeds this value.\">% profit.</label>\n        <br/>\n\n        {/* submit button */}\n        <button className=\"calc-button\" onClick={() => onSubmit()}>Calculate</button>\n\n\n        {/* close button */}\n        <button className=\"del-button\" onClick={() => deleteBacktest(backtest.id)} >Delete</button>\n      </div>\n      {/* end of settings, beginning of results overview */}\n\n      <div className='results-overview'>\n        <h4 data-tooltip=\"Results of backtest.\">Performance Overview {backtest.current_symbol?\"(\"+backtest.current_symbol+\")\":\"\"}</h4>\n        <div className=\"result-item\">\n          <label className=\"result-title\" data-tooltip=\"Total profit of backtest in USD.\">Profit USD:</label>\n          <label className=\"result-output\">${(backtest.profitUSD?backtest.profitUSD:0).toFixed(2)}</label>\n        </div>\n        <div className=\"result-item\">\n          <label className=\"result-title\" data-tooltip=\"Total profit of backtest in percent.\">Profit Percent on Entire Balance: </label>\n          <label className=\"result-output\">{(backtest.profitPercentOnBalance ? 100*backtest.profitPercentOnBalance : 0).toFixed(2)}%</label>\n        </div>\n        <div className=\"result-item\">\n          <label className=\"result-title\" data-tooltip=\"Average profit of trades from running backtest.\">Average profit per trade: </label>\n          <label className=\"result-output\"> {(backtest.profitPercentOnTrades?100*backtest.profitPercentOnTrades:0).toFixed(2)}%</label>\n        </div>\n        <div className=\"result-item\">\n          <label className=\"result-title\" data-tooltip=\"Number of trades made by backtest.\">Number of trades: </label>\n          <label className=\"result-output\">{backtest.numTrades? backtest.numTrades:0}</label>\n        </div>\n        <div className=\"result-item\">\n          <label className=\"result-title\" data-tooltip=\"Average number of candles/days between opening and closing each position.\">Average bars per trade: </label>\n          <label className=\"result-output\">{(backtest.avgBars?backtest.avgBars:0).toFixed(2)}</label>\n        </div>\n        <div className=\"result-item\">\n          <label className=\"result-title\" data-tooltip=\"Return if inital balance had been fully invested at the start date and cashed out at the end date. (instead of running algorithm)\">Buy and hold return: </label>\n          <label className=\"result-output\">{backtest.holdReturn>0?\"+\":\"\"}{backtest.holdReturn?backtest.holdReturn:\"0\"}%</label>\n        </div>\n        <div className=\"result-item\">\n          <label className=\"conclusion-title\">Backtest Conclusion: </label>\n          {backtest.didRun?\n            backtest.profitPercentOnBalance>backtest.holdReturn?\n              <label className=\"backtest-won\"> This algorithm is more profitable than buy and holding {backtest.current_symbol}. </label>\n              :\n              <label className=\"backtest-lost\"> Buy and holding {backtest.current_symbol} is more profitable than this algorithm. </label>\n            :\n            <label className=\"backtest-null\">No trades made</label>\n          }\n        </div>\n          \n      </div>\n      \n      {/* End of results overview, begin list of trades */}\n\n      <div className='list-of-trades'>\n        <h4 data-tooltip=\"History of positions opened/closed by backtest.\">List Of Trades</h4>\n        <div className=\"trades-scroll\">\n          <TradeList tradeList={tradeListData.map(tradeData => tradeData)}/>\n        </div>\n      </div>\n      \n      {/* End list of trades */}\n    </CSS>\n  );\n}\n","import React, {useContext} from 'react';\nimport styled from \"styled-components\";\nimport {v1 as uuid} from \"uuid\"; \nimport { GlobalContext } from '../context/GlobalState';\n\nconst CSS = styled.div`\n  .main-box{\n    color: #898996;\n    display:flex;\n\n    padding: 5%;\n    margin: 0%;\n    padding-top: 140px;\n\n    .intro-text{  \n      padding-top: 8%;\n      text-align: center;\n      .intro-text-p{\n        color: #898996;\n        font-size: 22px;\n      }\n      h4{\n        font-size: 30px;\n        color: #dedfe4;\n      }\n    }\n\n    .howto-text{  \n      padding-top: 4%;\n      width: 50%;\n      text-align: center;\n      p{\n        color: #898996;\n        font-size: 16px;\n      }\n      h4{\n        font-size: 180%;\n        color: #dedfe4;\n      }\n    }\n    .img-chart{\n      z-index:0;\n      width: 50%;\n      transform: perspective(700px) rotateY(-10deg);\n      box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\n    }\n    .img-backtest{\n\n      z-index:0;\n      width: 50%;\n      transform: perspective(700px) rotateY(10deg);\n      box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;\n    }\n\n  }\n\n  //Try it button CSS\n  \n.share-button {\n  width: 280px;\n  height: 40px;\n\n  color: #373641;\n  background: #dedfe4;\n\n  border-radius: 7px;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  //padding: 0 50px;\n  overflow: hidden;\n  position: relative;\n  cursor: pointer;\n  margin: auto;\n  transition: .3s linear;\n  box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;\n}\n.share-button:hover{\n  transform: scale(1.1);\n}\n.share-button span{\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  background: #898996;\n  color: #3d3d4a;\n  padding-top: 5px;\n  font-size: 20px;\n\n  text-align: center;\n  z-index: 1;\n  transition: .2s linear;\n  border-radius: 7px;\n \n}\n.share-button:focus span{\n  transform: translateX(-100%);\n  transition-delay: .3s;\n}\n.share-button-p{\n  padding-top: 16px;\n  font-size: 16px;\n}\n\n\n`;\n\nexport const Homepage = () => {\n  const { addBacktest } = useContext(GlobalContext);\n  const { graphSymbol } = useContext(GlobalContext);\n\n\n  return (\n    <CSS>\n      <div className=\"main-box\"> \n        <div className=\"intro-text\">\n          <h4>AlgoTrade</h4>\n          <p className=\"intro-text-p\">\n            Simple, yet powerful tool to run backtests for algorithmic trading strategies and to visualize stock market data.\n          </p>\n          {/** This button will graph SPY and run a BB backtest */}\n          \n          \n        </div>\n        <img className=\"img-chart\" src=\"chart-img.png\" alt=\"\"/>\n      </div>\n      <div className=\"main-box\"> \n        <img className=\"img-backtest\" src=\"backtest-img.png\" alt=\"\"/>\n        <div className=\"howto-text\">\n          <h4>How Does it Work?</h4>\n          <p>\n            <br/>\n            Search a US listed stock ticker and select a company to visualize their historic stock market data on an \n            interactive candlestick chart.\n            <br/><br/>\n            Select a{\" \"}\n            <a className=\"\" href=\"https://www.investopedia.com/terms/t/technicalindicator.asp\" rel=\"noreferrer\" target=\"_blank\">technical indicator</a> \n            {\" \"}to create a customizable{\" \"}\n            <a className=\"\" href=\"https://www.investopedia.com/terms/b/backtesting.asp\" rel=\"noreferrer\" target=\"_blank\">backtest</a> \n            {\" \"}to visualize the results of your strategy. \n            <br/><br/>\n            Create multiple {\" \"}\n            <a className=\"\" href=\"https://www.investopedia.com/terms/b/backtesting.asp\" rel=\"noreferrer\" target=\"_blank\">backtests</a>  \n            {\" \"}and compare your algorithms using different indicators across different stocks.\n          </p>\n        </div>\n      </div>\n    </CSS>\n  )\n}\n","import React, { useContext } from 'react';\nimport styled from \"styled-components\";\nimport { Backtest } from './Backtest';\nimport { Homepage } from './Homepage';\nimport { GlobalContext } from '../context/GlobalState';\n\nconst CSS = styled.div`\n  margin: 0% 3% 0% 3%;\n  padding: 1%;\n\n  background: #373641;\n  border-radius: 10px;\n\n  h3{\n    font-family: 'Lato', sans-serif; \n    font-size: 28px; \n    font-weight: 300; \n    text-align: left;\n    color: #dedfe4;\n  }\n\n`;\n\nexport const BacktestList = () => {\n  const { backtests, current_symbol } = useContext(GlobalContext);\n\n\n  if(current_symbol.length>0){\n    return (\n      <>\n        {backtests.length>0?\n          <CSS>\n            <h3>Backtest Strategy Testing</h3>\n            {backtests.map(backtest => (<Backtest key={backtest.id} backtest={backtest} />))}\n          </CSS>\n        :\n          <></>\n        }\n        \n\n        <Homepage/>\n      </>\n      )\n    }else{\n      return (\n        <Homepage/>\n      )\n    }\n}\n","import React, {useContext} from 'react';\nimport styled from \"styled-components\";\nimport {v1 as uuid} from \"uuid\"; \nimport { GlobalContext } from '../context/GlobalState';\n\n\nconst CSS = styled.div`\n  margin: 3% 3% 0% 3%;\n  padding: 1%;\n\n  h3{\n    font-family: 'Lato', sans-serif; \n    font-size: 28px; \n    font-weight: 300; \n    text-align: left;\n    color: #dedfe4;\n  }\n  \n  .btn {\n    font-size: 80%;\n    font-family: 'Lato', sans-serif; \n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    color: white;\n    width: 300px;\n    height: 70px;\n    padding: none;\n    margin: 1%;\n    padding: 0% 1%;\n    transition: all 0.3s;\n    span {\n      transition: all 0.3s;\n      tranform: scale(1, 1);\n    }\n  }\n    \n  .btn::before, .btn::after {\n    content: '';\n    position: absolute;\n    transition: all 0.3s;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n  }\n\n  .btn-one::before {\n    left: 4px;\n    z-index: 1;\n    \n    opacity: 0;\n    background: rgba(255, 255, 255, 0.1);\n    transform: scale(0.1, 1);\n  }\n\n  .btn-one:hover::before {\n    opacity: 1;\n    transform: scale(1, 1);\n  }\n\n  .btn-one::after {\n    transition: all 0.3s;\n    border: 1px solid rgba(255, 255, 255, 0.5);\n  }\n\n  .btn-one:hover::after {\n    transform: scale(1, .1);\n    opacity: 0;\n  }\n  .btn-text{\n    width:90%;\n    color: #dedfe4;\n    display:inline;\n  }\n  .plus-icon{\n    filter: invert(1);\n    width: 8%;\n    vertical-align: -30%;\n    margin-right: 3%;\n  }\n\n  background: #373641;\n  border-radius: 10px;\n\n  /* Tooltips */\n\n  [data-tooltip] {\n    position: relative;\n    z-index: 10;\n  }\n  \n  /* Positioning and visibility settings of the tooltip */\n  [data-tooltip]:before,\n  [data-tooltip]:after {\n    position: absolute;\n    visibility: hidden;\n    opacity: 0;\n    left: 50%;\n    bottom: calc(100% + 5px); /* 5px is the size of the arrow */\n    pointer-events: none;\n    transition: 0.2s;\n    will-change: transform;\n  }\n  \n  /* The actual tooltip with a dynamic width */\n  [data-tooltip]:before {\n    content: attr(data-tooltip);\n    padding: 10px 18px;\n    min-width: 50px;\n    max-width: 300px;\n    width: max-content;\n    width: -moz-max-content;\n    border-radius: 6px;\n    font-size: 14px;\n    background-color: rgba(59, 72, 80, 0.9);\n    background-image: linear-gradient(30deg,\n      rgba(59, 72, 80, 0.44),\n      rgba(59, 68, 75, 0.44),\n      rgba(60, 82, 88, 0.44));\n    box-shadow: 0px 0px 24px rgba(0, 0, 0, 0.2);\n    color: #fff;\n    text-align: center;\n    white-space: pre-wrap;\n    transform: translate(-50%, -5px) scale(0.5);\n  }\n  \n  /* Tooltip arrow */\n  [data-tooltip]:after {\n    content: '';\n    border-style: solid;\n    border-width: 5px 5px 0px 5px; /* CSS triangle */\n    border-color: rgba(55, 64, 70, 0.9) transparent transparent transparent;\n    transition-duration: 0s; /* If the mouse leaves the element, \n                                the transition effects for the \n                                tooltip arrow are \"turned off\" */\n    transform-origin: top;   /* Orientation setting for the\n                                slide-down effect */\n    transform: translateX(-50%) scaleY(0);\n  }\n  \n  /* Tooltip becomes visible at hover */\n  [data-tooltip]:hover:before,\n  [data-tooltip]:hover:after {\n    visibility: visible;\n    opacity: 1;\n  }\n  /* Scales from 0.5 to 1 -> grow effect */\n  [data-tooltip]:hover:before {\n    transition-delay: 0.3s;\n    transform: translate(-50%, -5px) scale(1);\n  }\n  /* \n    Arrow slide down effect only on mouseenter (NOT on mouseleave)\n  */\n  [data-tooltip]:hover:after {\n    transition-delay: 0.5s; /* Starting after the grow effect */\n    transition-duration: 0.2s;\n    transform: translateX(-50%) scaleY(1);\n  }\n  /* End of tooltips*/\n`;\n\nexport const AddBacktest = () => {\n  const { addBacktest, current_symbol } = useContext(GlobalContext);\n\n  const onSubmit = (indicator) => {\n    const newBacktest = {\n      id: uuid(),\n      indicator\n    }\n    addBacktest(newBacktest);\n  }\n\n\n  if(current_symbol.length>0){\n    return (\n      <CSS>\n        <h3>Select Technical Indicator(s)</h3>\n        <button className=\"btn btn-one\" onClick={() => onSubmit('RSI')}>\n          <img className=\"plus-icon\" src=\"https://img.icons8.com/android/24/000000/plus.png\" alt=\"\"/>\n          <div className=\"btn-text\" data-tooltip=\"The relative strength index (RSI) is a momentum indicator used to evaluate overbought or oversold conditions. The RSI is displayed as an oscillator and can have a reading from 0 to 100.\">Relative Strength Index (RSI)</div>\n        </button>\n        <button className=\"btn btn-one\" onClick={() => onSubmit('EMA')}>\n          <img className=\"plus-icon\" src=\"https://img.icons8.com/android/24/000000/plus.png\" alt=\"\"/>\n          <div className=\"btn-text\" data-tooltip=\"The expnential moving average (EMA) is a moving average that places a greater weight and significance on the most recent data points.\">Exponential Moving Average (EMA)</div>\n        </button>\n        <button className=\"btn btn-one\" onClick={() => onSubmit('SMA')}>\n          <img className=\"plus-icon\" src=\"https://img.icons8.com/android/24/000000/plus.png\" alt=\"\"/>\n          <div className=\"btn-text\" data-tooltip=\"The simple moving average (SMA) calculates the average of a selected range of prices by the number of periods in that range.\">Simple Moving Average (SMA)</div>\n        </button>\n        <button className=\"btn btn-one\" onClick={() => onSubmit('BBANDS')}>\n          <img className=\"plus-icon\" src=\"https://img.icons8.com/android/24/000000/plus.png\" alt=\"\"/>\n          <div className=\"btn-text\" data-tooltip=\"The Bollinger Bands are defined by a set of trendlines plotted two standard deviations (positively and negatively) away from a simple moving average (SMA) of a security's price, which can be adjusted to user preferences.\">Bollinger Bands (BB)</div>\n        </button>\n      </CSS>\n      )\n    }else{\n      return (\n        <>\n        {/** make a <about> element that  */}\n        </>\n      )\n    }\n}\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nconst Candle = props => {\n  const { data, x, candle_width, pixelFor } = props;\n\n  const up = data.close > data.open;\n  const bar_top = pixelFor(up ? data.close : data.open);\n  const bar_bottom = pixelFor(up ? data.open : data.close);\n  const bar_height = bar_bottom - bar_top;\n  const wick_top = pixelFor(data.high);\n  const wick_bottom = pixelFor(data.low);\n  return (\n    <>\n      <rect\n        x={x - candle_width / 2}\n        y={bar_top}\n        width={candle_width}\n        height={data.open===data.close? 1 :Math.abs(bar_height)}\n        className={classNames({\n          candle: true,\n          up: up,\n          down: !up\n        })}\n      />\n      <line\n        className={classNames({\n          wick: true,\n          top: true,\n          up: up,\n          down: !up\n        })}\n        x1={x}\n        y1={bar_top}\n        x2={x}\n        y2={wick_top}\n      />\n      <line\n        className={classNames({\n          wick: true,\n          bottom: true,\n          up: up,\n          down: !up\n        })}\n        x1={x}\n        y1={bar_bottom}\n        x2={x}\n        y2={wick_bottom}\n      />\n    </>\n  );\n};\n\nexport default Candle;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nconst CrossHairs = props => {\n  const { x, y, chart_dims } = props;\n\n  if (x + y === 0) {\n    return <></>;\n  }\n\n  return (\n    <>\n      <line\n        x1={0}\n        y1={y}\n        x2={chart_dims.pixel_width * 1.025}\n        y2={y}\n        className={classNames({\n          cross_hair: true,\n          horz: true\n        })}\n      />\n      <line\n        x1={x}\n        y1={0}\n        x2={x}\n        y2={chart_dims.pixel_height}\n        className={classNames({\n          cross_hair: true,\n          vert: true\n        })}\n      />\n    </>\n  );\n};\n\nexport default CrossHairs;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Candle from \"./Candle\";\nimport CrossHairs from \"./CrossHairs\";\n\nconst CSS = styled.div`\n  .caret{\n    font-size: 65%;\n  }\n\n  .priceChanges{\n    font-size: 80%;\n  }\n`;\n\nconst Chart = props => {\n  const { data, graph_type, width: chart_width, height: chart_height } = props;\n  // let { last_bar_idx = 0, bars_wide = 40 } = props;\n\n  // last_bar_idx should default to the last bar in the data, or else be sure passed-in value doesn't exceed the last bar\n  // last_bar_idx = last_bar_idx > 0 ? Math.min(last_bar_idx, data.length - 1) : data.length - 1;\n\n  const [mouseCoords, setMouseCoords] = useState({\n    x: -50,\n    y: -50\n  });\n\n  // let mouseCoords = {\n  //   x: 0,\n  //   y: 0\n  // };\n\n  // const setMouseCoords = (x, y) => {\n  //   mouseCoords = { x, y };\n  // };\n\n  // find the high and low bounds of all the bars being sidplayed\n  const dollar_high = Math.max.apply(Math, data.map(bar => +bar.high)) * 1.15;\n  const dollar_low = Math.min.apply(Math, data.map(bar => +bar.low)) * 0.95 ;\n\n  // calculate the candle width\n  const candle_width = Math.floor((chart_width / data.length) * 0.7);\n\n  const chart_dims = {\n    pixel_width: chart_width,\n    pixel_height: chart_height,\n    dollar_high,\n    dollar_low,\n    dollar_delta: dollar_high - dollar_low\n  };\n\n  // toFixed rounds number to 2 decimal places\n  const dollarAt = pixel => {\n    const dollar =\n      (Math.abs(pixel - chart_dims.pixel_height) / chart_dims.pixel_height) *\n        chart_dims.dollar_delta +\n      chart_dims.dollar_low;\n\n    return pixel > 0 ? dollar.toFixed(2) : \"-\";\n  };\n\n  // Gets candlestick data at x position\n  const candleDataAt = pixel => {\n    if(pixel<=0 || pixel >= chart_dims.pixel_width) return \"-\";\n    const candle = data[Math.floor((pixel/ chart_dims.pixel_width) * data.length)];\n\n    return candle;\n  };\n\n  const convertDate = dateString => {\n    if(!dateString) return \"\";\n    const myYear = dateString.substring(2,4);\n    const myMonth = parseInt(dateString.substring(5,7), 10);\n    const myDay = parseInt(dateString.substring(8,10), 10);\n    if(dateString.length===10){\n      return myMonth + \"/\" + myDay + \"/\" + myYear;\n    }\n    const myHour = parseInt(dateString.substring(11,13), 10);\n    const myMinute = dateString.substring(14,16);\n\n    return myMonth + \"/\" + myDay + \"/\" + myYear + \" \" + myHour + \":\" + myMinute + \" EST\";\n  }\n\n  const candleChange = pixel => {\n    if(pixel<=0 || pixel >= chart_dims.pixel_width) return \"\";\n    const candle = data[Math.floor(  (pixel/ chart_dims.pixel_width) * (data.length) )];\n    const change = ((candle['close']/candle['open'])-1) * 100;\n    const posNeg = change >= 0 ? '+' : '-';\n    return posNeg + Math.abs(change).toFixed(2);\n  };\n\n  const pixelFor = dollar => {\n    return -1*(\n      ((dollar - chart_dims[\"dollar_low\"]) / chart_dims[\"dollar_delta\"]) *\n        chart_dims[\"pixel_height\"] -\n        chart_dims[\"pixel_height\"]\n    );\n  };\n\n  const onMouseLeave = () => {\n    setMouseCoords({\n      x: -50,\n      y: -50\n    });\n  };\n\n  const onMouseMoveInside = e => {\n    //for date(x axis), calc using dates[x cord/width] , create dates[]\n    setMouseCoords({\n      x:\n        e.nativeEvent.x -\n        Math.round(e.currentTarget.getBoundingClientRect().left) - candle_width/2,\n      y:\n        e.nativeEvent.y -\n        Math.round(e.currentTarget.getBoundingClientRect().top)\n    });\n  };\n\n  const onMouseClickInside = e => {\n    console.log(`Click at ${e.nativeEvent.offsetX}, ${e.nativeEvent.offsetY}`);\n  };\n\n  // Returns string for mouse off chart display\n  const graphTypeStr = () => {\n    switch(graph_type){\n      case 'day':\n        return \"Yesterday\";\n      case 'week':\n        return \"Past Week\";\n      case 'month':\n        return \"Past Month\";\n      case 'quarter':\n        return \"Past 3 Months\";\n      case 'year':\n        return \"Past Year\";\n      default:\n        return \"Error chart.js\";\n    }\n  };\n\n  // Return JSX for mouse off chart display\n  const mouseOffChartJSX = () => {\n    if(data.length<3) return <></>;\n    const englishStr = <tspan fill='#898996'>{graphTypeStr()}</tspan>;\n    const changePercent = ((data[data.length-1][\"close\"] / data[0][\"open\"]) - 1) * 100 ;\n    const changeUSD = data[data.length-1][\"close\"] - data[0][\"open\"];\n    return <>\n      <tspan className=\"\" fill=\"#dedfe4\">${data[data.length-1][\"close\"]} </tspan>\n      <tspan className=\"caret\" fill={changeUSD>=0?\"#81dfc4\":\"#d75b6d\"}>{changeUSD>=0?\"\":\"\"} </tspan>\n      <tspan className=\"priceChanges\" fill={changeUSD>=0?\"#81dfc4\":\"#d75b6d\"}> ${Math.abs(changeUSD).toFixed(2)} ({changePercent.toFixed(2)}%) </tspan>\n      {englishStr}\n    </>;\n  }\n\n  return (\n    <CSS>\n    <svg\n      width={chart_width*1.025 /* Extra width to fit price */}\n      height={chart_height}\n      className=\"chart\"\n      onMouseMove={onMouseMoveInside}\n      onClick={onMouseClickInside}\n      onMouseLeave={onMouseLeave}\n    >\n      {data.map((bar, i) => {\n        const candle_x = (chart_width / (data.length)) * (i + 1);\n        return (\n          <Candle\n            key={i}\n            data={bar}\n            x={candle_x}\n            candle_width={candle_width}\n            pixelFor={pixelFor}\n          />\n        );\n      })}\n\n      <CrossHairs x={mouseCoords.x + candle_width/2} y={mouseCoords.y} chart_dims={chart_dims} />\n      {mouseCoords.x>0 && mouseCoords.x<=chart_width? <> \n      {/* Price CrossHair */}\n      <rect x={(chart_width*1.025)-(1+dollarAt(mouseCoords.y).length)*8.2} y={mouseCoords.y-12} width={(1+dollarAt(mouseCoords.y).length)*8.2} height='24' fill=\"gray\" rx='9' ry='9'>{/* background color for price */}</rect>\n      <text x={5 + (chart_width*1.025)-(1+dollarAt(mouseCoords.y).length)*8} y={mouseCoords.y+5} fill=\"white\" fontSize=\"12\">\n        ${dollarAt(mouseCoords.y)}\n      </text>\n      {/* Open/High */}\n      <text x='16' y='20' fontSize=\"12\">\n        <tspan fill='#898996'>Open</tspan> <tspan fill='#dedfe4'>${candleDataAt(mouseCoords.x)['open']}  </tspan>\n        <tspan fill='#898996'>High</tspan> <tspan fill='#dedfe4'>${candleDataAt(mouseCoords.x)['high']}</tspan>\n      </text>\n      {/* Low/Close */}\n      <text x='16' y='40' fontSize=\"12\">\n        <tspan fill='#898996'>Close</tspan> <tspan fill='#dedfe4'>${candleDataAt(mouseCoords.x)['close']}  </tspan>\n        <tspan fill='#898996'>Low</tspan> <tspan fill='#dedfe4'>${candleDataAt(mouseCoords.x)['low']}</tspan>\n      </text>\n      {/* Volume/%change */}\n      <text x='16' y='59' fontSize=\"12\">\n        <tspan fill='#898996'>Volume</tspan> <tspan fill='#dedfe4'>{mouseCoords.x > 0 ?(candleDataAt(mouseCoords.x)['volume']/1000).toFixed(2) + 'K': ''}  </tspan>\n        <tspan fill='#898996'>Change</tspan> <tspan fill={candleChange(mouseCoords.x)>=0?\"#81dfc4\":\"#d75b6d\"}>{candleChange(mouseCoords.x)}%</tspan>\n      </text>\n      {/* Date Time */}\n      <text x=\"16\" y=\"85\" fill='#898996' fontSize='20'>\n        {convertDate(candleDataAt(mouseCoords.x)['xAxis'])} \n      </text>\n      </> : <text x='16' y='40' fontSize=\"25\">{mouseOffChartJSX()}</text>}\n      \n    </svg>\n    </CSS>\n  );\n};\n\nexport default Chart;\n","import React, { useContext, useEffect, useState } from 'react';\nimport Chart from \"./chart-components/Chart\";\nimport styled from \"styled-components\";\n\nimport { GlobalContext } from '../context/GlobalState';\nimport \"../chart.css\";\n\nconst CSS = styled.div`\n\n  .chart-info-area{\n    margin: 0 16% 0 16%;\n    padding-top: 120px;\n  }\n\n  .stock-info{\n    display: flex;\n    align-items: center;\n    width: 110.5%;\n    margin: 2% -5%;\n    padding: 20px 50px 0px 50px;\n    color: #dedfe4;\n    background-color: transparent;//#2e4033;\n    border-radius: 10px;\n    font-family: 'Source Sans Pro', arial, sans-serif;\n    font-size: 16px;\n    font-weight: 200;\n    box-shadow: rgba(0, 0, 0, 0.4) 0px 5px 15px;\n\n    \n    @media only screen and (max-width: 768px) {\n      padding: 2%;\n      font-size: 75%;\n    }\n\n    &-ticker{\n      text-align: left;\n      float: left;\n      width: 33.33333%;\n    }\n    &-company{\n      text-align: center;\n      float: left;\n      width: 33.33333%;\n    }\n    &-updated{\n      text-align: right;\n      float:left;\n      width: 33.33333%;\n    }\n  }\n\n  .chart-buttons{\n    margin: 5px 0 0 16%;\n  }\n  .chart-button{\n    color: #dedfe4;\n    font-size: 16px;\n    padding: 5px 15px;\n    background-color: transparent;\n    margin: 0 10px;\n    border: none;\n    border-radius: 10px;\n\n    &:hover,&:focus {\n        background: #101010;\n        outline: none;\n        box-shadow: rgba(0, 0, 0, 0.4) 0px 3px 10px;\n    }\n  }\n`;\n\n// Hook for dynamic window size\nfunction useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    \n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    \n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    \n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n}\n\nexport const GraphSection = () => {\n  //grab global variables/functions to call in this file\n  const { graphData_AV_API, graphSymbol, current_symbol, current_company, graph_type } = useContext(GlobalContext);\n\n  const myWindow = useWindowSize();\n  const chart_width = myWindow.width*2/3;\n  const chart_height = myWindow.height*2/3;\n\n  // Processes update to API call and sends data to candlestick chart.\n  const processGraphData = () => {\n    let time_series_type;\n    if(graphData_AV_API['Time Series (15min)']){\n      time_series_type = 'Time Series (15min)';\n    }else if(graphData_AV_API['Time Series (60min)']){\n      time_series_type = 'Time Series (60min)';\n    }else{//if(graphData_AV_API['Time Series (Daily)']){\n      time_series_type = 'Time Series (Daily)';\n    }\n    const time_series_isDaily = time_series_type === 'Time Series (Daily)' ? true : false;\n    let split_ratio = 1.0;\n\n    //this arrays are sus\n    let graphDataProcessed = [];\n    let i = 0\n\n    let date_counter = 0;\n    let previous_date = '';\n    let stop_graphing = false;\n    // Iterate/translate API call to fit my charts inputs\n    for(let myDate in graphData_AV_API[time_series_type]){\n      // Counts unique dates, stops graphing according to graph_Type\n      if( !(previous_date===myDate.substr(0,10)) ){\n        previous_date = myDate.substr(0,10);\n        date_counter++;\n        \n        switch(graph_type){\n            case 'day':\n                if(date_counter>1) stop_graphing = true;\n                break;\n            case 'week':\n                if(date_counter>5) stop_graphing = true;\n                break;\n            case 'month':\n                if(date_counter>20) stop_graphing = true;\n                break;\n            case 'quarter':\n                if(date_counter>60) stop_graphing = true;\n                break;\n            case 'year':\n                if(date_counter>253) stop_graphing = true;\n                break;\n            default:\n        }\n        if(stop_graphing) break;\n      }\n\n      // Some API data open==close==high==low, resulting in candles of size 0x0, resulting in empty graph. \n      // flat_candle ensures candles are never 0x0 (invisible).\n      let flat_candle = +graphData_AV_API[time_series_type][myDate]['1. open']=== +graphData_AV_API[time_series_type][myDate]['4. close'] ? 0.001 : 0;\n      \n      graphDataProcessed.push({\n        \"time\": i++,\n        \"xAxis\": myDate,\n        \"open\": (+graphData_AV_API[time_series_type][myDate]['1. open']/split_ratio).toFixed(2),\n        \"close\": (flat_candle+graphData_AV_API[time_series_type][myDate]['4. close']/split_ratio).toFixed(2),\n        \"high\": (+graphData_AV_API[time_series_type][myDate]['2. high']/split_ratio).toFixed(2),\n        \"low\": (+graphData_AV_API[time_series_type][myDate]['3. low']/split_ratio).toFixed(2),\n        \"volume\": +graphData_AV_API[time_series_type][myDate][time_series_isDaily ? '6. volume' : '5. volume']\n      });\n      if(time_series_isDaily) split_ratio *= +graphData_AV_API[time_series_type][myDate]['8. split coefficient'];\n    }\n    graphDataProcessed.reverse();\n    return graphDataProcessed;\n  };\n\n  // Only for intialization: maybe make it display SPY as default\n  const [data, setData] = useState(() => processGraphData());\n  // Whenever graphData_AV_API is changed, code below will update graph\n  useEffect(() => {\n    if(current_symbol.length>0) setData(processGraphData());\n  }, [graph_type, current_symbol]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Convert JS date into easy to read date\n  const convertDate = dateString => {\n    if(!dateString) return \"error\";\n    const myYear = dateString.substring(2,4);\n    const myMonth = parseInt(dateString.substring(5,7), 10);\n    const myDay = parseInt(dateString.substring(8,10), 10);\n    if(dateString.length===10){\n      return myMonth + \"/\" + myDay + \"/\" + myYear;\n    }\n    const myHour = parseInt(dateString.substring(11,13), 10);\n    const myMinute = dateString.substring(14,16);\n\n    return myMonth + \"/\" + myDay + \"/\" + myYear + \" \" + myHour + \":\" + myMinute + \" EST\";\n  }\n\n  if(current_symbol.length>0){\n    return (\n      <>\n      <CSS>\n        <div className=\"chart-info-area\">\n          <div className=\"stock-info\">\n            <p className=\"stock-info-ticker\">Ticker: {current_symbol}</p>\n            <p className=\"stock-info-company\">Name: {current_company}</p>\n            <p className=\"stock-info-updated\">Updated: {convertDate(graphData_AV_API[\"Meta Data\"][\"3. Last Refreshed\"])}</p>\n          </div>\n          <Chart data={data} graph_type={graph_type} width={chart_width} height={chart_height} />\n        </div>\n        <div className=\"chart-buttons\">\n          <button className=\"chart-button\" onClick={() => graphSymbol(current_symbol, current_company,'day', false)}>\n            1D\n          </button>\n          <button className=\"chart-button\" onClick={() => graphSymbol(current_symbol, current_company,'week', false)}>\n            1W\n          </button>\n          <button className=\"chart-button\" onClick={() => graphSymbol(current_symbol, current_company, 'month', false)}>\n            1M\n          </button>\n          <button className=\"chart-button\" onClick={() => graphSymbol(current_symbol, current_company, 'quarter', false)}>\n            3M\n          </button>\n          <button className=\"chart-button\" onClick={() => graphSymbol(current_symbol, current_company, 'year', false)}>\n            1Y\n          </button>\n        </div>\n      </CSS>\n      </>\n    )\n  }else{\n    return (\n      <>\n      </>\n    )\n  }\n}\n\n\n","import React from 'react';\nimport { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { BacktestList } from './components/BacktestList';\nimport { AddBacktest } from './components/AddBacktest';\nimport { GraphSection } from './components/GraphSection';\nimport styled from \"styled-components\";\n\nimport { GlobalProvider } from './context/GlobalState';\n\nimport './App.css';\n\n\nconst CSS = styled.div`\n  background: #3d3d4a;\n  margin-bottom: 0px;\n  border-bottom: 1px solid transparent;\n`;\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <CSS>\n      <Header />\n      <GraphSection />\n      <AddBacktest />\n      <BacktestList />\n      <Footer />\n      </CSS>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"]}}